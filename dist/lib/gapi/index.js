/*! For license information please see index.js.LICENSE.txt */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(this,(function(){return function(){"use strict";var e={145:function(e,t,n){n.d(t,{default:function(){return Je}});var r={};function o(e,t){return function(){return e.apply(t,arguments)}}n.r(r),n.d(r,{hasBrowserEnv:function(){return re},hasStandardBrowserEnv:function(){return oe},hasStandardBrowserWebWorkerEnv:function(){return se}});const{toString:i}=Object.prototype,{getPrototypeOf:s}=Object,a=(c=Object.create(null),e=>{const t=i.call(e);return c[t]||(c[t]=t.slice(8,-1).toLowerCase())});var c;const u=e=>(e=e.toLowerCase(),t=>a(t)===e),l=e=>t=>typeof t===e,{isArray:f}=Array,d=l("undefined"),p=u("ArrayBuffer"),h=l("string"),m=l("function"),g=l("number"),y=e=>null!==e&&"object"==typeof e,b=e=>{if("object"!==a(e))return!1;const t=s(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},w=u("Date"),E=u("File"),O=u("Blob"),v=u("FileList"),S=u("URLSearchParams");function R(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,o;if("object"!=typeof e&&(e=[e]),f(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let s;for(r=0;r<i;r++)s=o[r],t.call(null,e[s],s,e)}}function A(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,o=n.length;for(;o-- >0;)if(r=n[o],t===r.toLowerCase())return r;return null}const T="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,P=e=>!d(e)&&e!==T,C=(j="undefined"!=typeof Uint8Array&&s(Uint8Array),e=>j&&e instanceof j);var j;const x=u("HTMLFormElement"),N=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),D=u("RegExp"),_=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};R(n,((n,o)=>{let i;!1!==(i=t(n,o,e))&&(r[o]=i||n)})),Object.defineProperties(e,r)},k="abcdefghijklmnopqrstuvwxyz",U="0123456789",L={DIGIT:U,ALPHA:k,ALPHA_DIGIT:k+k.toUpperCase()+U},F=u("AsyncFunction");var B={isArray:f,isArrayBuffer:p,isBuffer:function(e){return null!==e&&!d(e)&&null!==e.constructor&&!d(e.constructor)&&m(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||m(e.append)&&("formdata"===(t=a(e))||"object"===t&&m(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&p(e.buffer),t},isString:h,isNumber:g,isBoolean:e=>!0===e||!1===e,isObject:y,isPlainObject:b,isUndefined:d,isDate:w,isFile:E,isBlob:O,isRegExp:D,isFunction:m,isStream:e=>y(e)&&m(e.pipe),isURLSearchParams:S,isTypedArray:C,isFileList:v,forEach:R,merge:function e(){const{caseless:t}=P(this)&&this||{},n={},r=(r,o)=>{const i=t&&A(n,o)||o;b(n[i])&&b(r)?n[i]=e(n[i],r):b(r)?n[i]=e({},r):f(r)?n[i]=r.slice():n[i]=r};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&R(arguments[e],r);return n},extend:(e,t,n,{allOwnKeys:r}={})=>(R(t,((t,r)=>{n&&m(t)?e[r]=o(t,n):e[r]=t}),{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let o,i,a;const c={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)a=o[i],r&&!r(a,e,t)||c[a]||(t[a]=e[a],c[a]=!0);e=!1!==n&&s(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:a,kindOfTest:u,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(f(e))return e;let t=e.length;if(!g(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:x,hasOwnProperty:N,hasOwnProp:N,reduceDescriptors:_,freezeMethods:e=>{_(e,((t,n)=>{if(m(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];m(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return f(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:A,global:T,isContextDefined:P,ALPHABET:L,generateString:(e=16,t=L.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&m(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(y(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const o=f(e)?[]:{};return R(e,((e,t)=>{const i=n(e,r+1);!d(i)&&(o[t]=i)})),t[r]=void 0,o}}return e};return n(e,0)},isAsyncFn:F,isThenable:e=>e&&(y(e)||m(e))&&m(e.then)&&m(e.catch)};function I(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}B.inherits(I,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:B.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const q=I.prototype,z={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{z[e]={value:e}})),Object.defineProperties(I,z),Object.defineProperty(q,"isAxiosError",{value:!0}),I.from=(e,t,n,r,o,i)=>{const s=Object.create(q);return B.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),I.call(s,e.message,t,n,r,o),s.cause=e,s.name=e.name,i&&Object.assign(s,i),s};var M=I;function G(e){return B.isPlainObject(e)||B.isArray(e)}function H(e){return B.endsWith(e,"[]")?e.slice(0,-2):e}function V(e,t,n){return e?e.concat(t).map((function(e,t){return e=H(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const J=B.toFlatObject(B,{},null,(function(e){return/^is[A-Z]/.test(e)}));var W=function(e,t,n){if(!B.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=B.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!B.isUndefined(t[e])}))).metaTokens,o=n.visitor||u,i=n.dots,s=n.indexes,a=(n.Blob||"undefined"!=typeof Blob&&Blob)&&B.isSpecCompliantForm(t);if(!B.isFunction(o))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(B.isDate(e))return e.toISOString();if(!a&&B.isBlob(e))throw new M("Blob is not supported. Use a Buffer instead.");return B.isArrayBuffer(e)||B.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,n,o){let a=e;if(e&&!o&&"object"==typeof e)if(B.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(B.isArray(e)&&function(e){return B.isArray(e)&&!e.some(G)}(e)||(B.isFileList(e)||B.endsWith(n,"[]"))&&(a=B.toArray(e)))return n=H(n),a.forEach((function(e,r){!B.isUndefined(e)&&null!==e&&t.append(!0===s?V([n],r,i):null===s?n:n+"[]",c(e))})),!1;return!!G(e)||(t.append(V(o,n,i),c(e)),!1)}const l=[],f=Object.assign(J,{defaultVisitor:u,convertValue:c,isVisitable:G});if(!B.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!B.isUndefined(n)){if(-1!==l.indexOf(n))throw Error("Circular reference detected in "+r.join("."));l.push(n),B.forEach(n,(function(n,i){!0===(!(B.isUndefined(n)||null===n)&&o.call(t,n,B.isString(i)?i.trim():i,r,f))&&e(n,r?r.concat(i):[i])})),l.pop()}}(e),t};function K(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function $(e,t){this._pairs=[],e&&W(e,this,t)}const X=$.prototype;X.append=function(e,t){this._pairs.push([e,t])},X.toString=function(e){const t=e?function(t){return e.call(this,t,K)}:K;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var Q=$;function Z(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Y(e,t,n){if(!t)return e;const r=n&&n.encode||Z,o=n&&n.serialize;let i;if(i=o?o(t,n):B.isURLSearchParams(t)?t.toString():new Q(t,n).toString(r),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}var ee=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){B.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},te={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ne={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:Q,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]};const re="undefined"!=typeof window&&"undefined"!=typeof document,oe=(ie="undefined"!=typeof navigator&&navigator.product,re&&["ReactNative","NativeScript","NS"].indexOf(ie)<0);var ie;const se="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts;var ae={...r,...ne},ce=function(e){function t(e,n,r,o){let i=e[o++];const s=Number.isFinite(+i),a=o>=e.length;return i=!i&&B.isArray(r)?r.length:i,a?(B.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!s):(r[i]&&B.isObject(r[i])||(r[i]=[]),t(e,n,r[i],o)&&B.isArray(r[i])&&(r[i]=function(e){const t={},n=Object.keys(e);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],t[i]=e[i];return t}(r[i])),!s)}if(B.isFormData(e)&&B.isFunction(e.entries)){const n={};return B.forEachEntry(e,((e,r)=>{t(function(e){return B.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const ue={transitional:te,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,o=B.isObject(e);if(o&&B.isHTMLForm(e)&&(e=new FormData(e)),B.isFormData(e))return r&&r?JSON.stringify(ce(e)):e;if(B.isArrayBuffer(e)||B.isBuffer(e)||B.isStream(e)||B.isFile(e)||B.isBlob(e))return e;if(B.isArrayBufferView(e))return e.buffer;if(B.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return W(e,new ae.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return ae.isNode&&B.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=B.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return W(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),function(e,t,n){if(B.isString(e))try{return(0,JSON.parse)(e),B.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||ue.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&B.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw M.from(e,M.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ae.classes.FormData,Blob:ae.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};B.forEach(["delete","get","head","post","put","patch"],(e=>{ue.headers[e]={}}));var le=ue;const fe=B.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),de=Symbol("internals");function pe(e){return e&&String(e).trim().toLowerCase()}function he(e){return!1===e||null==e?e:B.isArray(e)?e.map(he):String(e)}function me(e,t,n,r,o){return B.isFunction(r)?r.call(this,t,n):(o&&(t=n),B.isString(t)?B.isString(r)?-1!==t.indexOf(r):B.isRegExp(r)?r.test(t):void 0:void 0)}class ge{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function o(e,t,n){const o=pe(t);if(!o)throw new Error("header name must be a non-empty string");const i=B.findKey(r,o);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||t]=he(e))}const i=(e,t)=>B.forEach(e,((e,n)=>o(e,n,t)));return B.isPlainObject(e)||e instanceof this.constructor?i(e,t):B.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?i((e=>{const t={};let n,r,o;return e&&e.split("\n").forEach((function(e){o=e.indexOf(":"),n=e.substring(0,o).trim().toLowerCase(),r=e.substring(o+1).trim(),!n||t[n]&&fe[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t):null!=e&&o(t,e,n),this}get(e,t){if(e=pe(e)){const n=B.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(B.isFunction(t))return t.call(this,e,n);if(B.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=pe(e)){const n=B.findKey(this,e);return!(!n||void 0===this[n]||t&&!me(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function o(e){if(e=pe(e)){const o=B.findKey(n,e);!o||t&&!me(0,n[o],o,t)||(delete n[o],r=!0)}}return B.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const o=t[n];e&&!me(0,this[o],o,e,!0)||(delete this[o],r=!0)}return r}normalize(e){const t=this,n={};return B.forEach(this,((r,o)=>{const i=B.findKey(n,o);if(i)return t[i]=he(r),void delete t[o];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(o):String(o).trim();s!==o&&delete t[o],t[s]=he(r),n[s]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return B.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&B.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[de]=this[de]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=pe(e);t[r]||(function(e,t){const n=B.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,o){return this[r].call(this,t,e,n,o)},configurable:!0})}))}(n,e),t[r]=!0)}return B.isArray(e)?e.forEach(r):r(e),this}}ge.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),B.reduceDescriptors(ge.prototype,(({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}})),B.freezeMethods(ge);var ye=ge;function be(e,t){const n=this||le,r=t||n,o=ye.from(r.headers);let i=r.data;return B.forEach(e,(function(e){i=e.call(n,i,o.normalize(),t?t.status:void 0)})),o.normalize(),i}function we(e){return!(!e||!e.__CANCEL__)}function Ee(e,t,n){M.call(this,null==e?"canceled":e,M.ERR_CANCELED,t,n),this.name="CanceledError"}B.inherits(Ee,M,{__CANCEL__:!0});var Oe=Ee,ve=ae.hasStandardBrowserEnv?{write(e,t,n,r,o,i){const s=[e+"="+encodeURIComponent(t)];B.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),B.isString(r)&&s.push("path="+r),B.isString(o)&&s.push("domain="+o),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Se(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var Re=ae.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=B.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};function Ae(e,t){let n=0;const r=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o,i=0,s=0;return t=void 0!==t?t:1e3,function(a){const c=Date.now(),u=r[s];o||(o=c),n[i]=a,r[i]=c;let l=s,f=0;for(;l!==i;)f+=n[l++],l%=e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),c-o<t)return;const d=u&&c-u;return d?Math.round(1e3*f/d):void 0}}(50,250);return o=>{const i=o.loaded,s=o.lengthComputable?o.total:void 0,a=i-n,c=r(a);n=i;const u={loaded:i,total:s,progress:s?i/s:void 0,bytes:a,rate:c||void 0,estimated:c&&s&&i<=s?(s-i)/c:void 0,event:o};u[t?"download":"upload"]=!0,e(u)}}const Te={http:null,xhr:"undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){let r=e.data;const o=ye.from(e.headers).normalize();let i,s,{responseType:a,withXSRFToken:c}=e;function u(){e.cancelToken&&e.cancelToken.unsubscribe(i),e.signal&&e.signal.removeEventListener("abort",i)}if(B.isFormData(r))if(ae.hasStandardBrowserEnv||ae.hasStandardBrowserWebWorkerEnv)o.setContentType(!1);else if(!1!==(s=o.getContentType())){const[e,...t]=s?s.split(";").map((e=>e.trim())).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}let l=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(t+":"+n))}const f=Se(e.baseURL,e.url);function d(){if(!l)return;const r=ye.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders());!function(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new M("Request failed with status code "+n.status,[M.ERR_BAD_REQUEST,M.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),u()}),(function(e){n(e),u()}),{data:a&&"text"!==a&&"json"!==a?l.response:l.responseText,status:l.status,statusText:l.statusText,headers:r,config:e,request:l}),l=null}if(l.open(e.method.toUpperCase(),Y(f,e.params,e.paramsSerializer),!0),l.timeout=e.timeout,"onloadend"in l?l.onloadend=d:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))&&setTimeout(d)},l.onabort=function(){l&&(n(new M("Request aborted",M.ECONNABORTED,e,l)),l=null)},l.onerror=function(){n(new M("Network Error",M.ERR_NETWORK,e,l)),l=null},l.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||te;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new M(t,r.clarifyTimeoutError?M.ETIMEDOUT:M.ECONNABORTED,e,l)),l=null},ae.hasStandardBrowserEnv&&(c&&B.isFunction(c)&&(c=c(e)),c||!1!==c&&Re(f))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&ve.read(e.xsrfCookieName);t&&o.set(e.xsrfHeaderName,t)}void 0===r&&o.setContentType(null),"setRequestHeader"in l&&B.forEach(o.toJSON(),(function(e,t){l.setRequestHeader(t,e)})),B.isUndefined(e.withCredentials)||(l.withCredentials=!!e.withCredentials),a&&"json"!==a&&(l.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&l.addEventListener("progress",Ae(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",Ae(e.onUploadProgress)),(e.cancelToken||e.signal)&&(i=t=>{l&&(n(!t||t.type?new Oe(null,e,l):t),l.abort(),l=null)},e.cancelToken&&e.cancelToken.subscribe(i),e.signal&&(e.signal.aborted?i():e.signal.addEventListener("abort",i)));const p=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(f);p&&-1===ae.protocols.indexOf(p)?n(new M("Unsupported protocol "+p+":",M.ERR_BAD_REQUEST,e)):l.send(r||null)}))}};B.forEach(Te,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const Pe=e=>`- ${e}`,Ce=e=>B.isFunction(e)||null===e||!1===e;var je=e=>{e=B.isArray(e)?e:[e];const{length:t}=e;let n,r;const o={};for(let i=0;i<t;i++){let t;if(n=e[i],r=n,!Ce(n)&&(r=Te[(t=String(n)).toLowerCase()],void 0===r))throw new M(`Unknown adapter '${t}'`);if(r)break;o[t||"#"+i]=r}if(!r){const e=Object.entries(o).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));let n=t?e.length>1?"since :\n"+e.map(Pe).join("\n"):" "+Pe(e[0]):"as no adapter specified";throw new M("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function xe(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Oe(null,e)}function Ne(e){return xe(e),e.headers=ye.from(e.headers),e.data=be.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),je(e.adapter||le.adapter)(e).then((function(t){return xe(e),t.data=be.call(e,e.transformResponse,t),t.headers=ye.from(t.headers),t}),(function(t){return we(t)||(xe(e),t&&t.response&&(t.response.data=be.call(e,e.transformResponse,t.response),t.response.headers=ye.from(t.response.headers))),Promise.reject(t)}))}const De=e=>e instanceof ye?e.toJSON():e;function _e(e,t){t=t||{};const n={};function r(e,t,n){return B.isPlainObject(e)&&B.isPlainObject(t)?B.merge.call({caseless:n},e,t):B.isPlainObject(t)?B.merge({},t):B.isArray(t)?t.slice():t}function o(e,t,n){return B.isUndefined(t)?B.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function i(e,t){if(!B.isUndefined(t))return r(void 0,t)}function s(e,t){return B.isUndefined(t)?B.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,o,i){return i in t?r(n,o):i in e?r(void 0,n):void 0}const c={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t)=>o(De(e),De(t),!0)};return B.forEach(Object.keys(Object.assign({},e,t)),(function(r){const i=c[r]||o,s=i(e[r],t[r],r);B.isUndefined(s)&&i!==a||(n[r]=s)})),n}const ke={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{ke[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const Ue={};ke.transitional=function(e,t,n){function r(e,t){return"[Axios v1.6.2] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,o,i)=>{if(!1===e)throw new M(r(o," has been removed"+(t?" in "+t:"")),M.ERR_DEPRECATED);return t&&!Ue[o]&&(Ue[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,i)}};var Le={assertOptions:function(e,t,n){if("object"!=typeof e)throw new M("options must be an object",M.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const i=r[o],s=t[i];if(s){const t=e[i],n=void 0===t||s(t,i,e);if(!0!==n)throw new M("option "+i+" must be "+n,M.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new M("Unknown option "+i,M.ERR_BAD_OPTION)}},validators:ke};const Fe=Le.validators;class Be{constructor(e){this.defaults=e,this.interceptors={request:new ee,response:new ee}}request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=_e(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:o}=t;void 0!==n&&Le.assertOptions(n,{silentJSONParsing:Fe.transitional(Fe.boolean),forcedJSONParsing:Fe.transitional(Fe.boolean),clarifyTimeoutError:Fe.transitional(Fe.boolean)},!1),null!=r&&(B.isFunction(r)?t.paramsSerializer={serialize:r}:Le.assertOptions(r,{encode:Fe.function,serialize:Fe.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=o&&B.merge(o.common,o[t.method]);o&&B.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete o[e]})),t.headers=ye.concat(i,o);const s=[];let a=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const c=[];let u;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let l,f=0;if(!a){const e=[Ne.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,c),l=e.length,u=Promise.resolve(t);f<l;)u=u.then(e[f++],e[f++]);return u}l=s.length;let d=t;for(f=0;f<l;){const e=s[f++],t=s[f++];try{d=e(d)}catch(e){t.call(this,e);break}}try{u=Ne.call(this,d)}catch(e){return Promise.reject(e)}for(f=0,l=c.length;f<l;)u=u.then(c[f++],c[f++]);return u}getUri(e){return Y(Se((e=_e(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}B.forEach(["delete","get","head","options"],(function(e){Be.prototype[e]=function(t,n){return this.request(_e(n||{},{method:e,url:t,data:(n||{}).data}))}})),B.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,o){return this.request(_e(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Be.prototype[e]=t(),Be.prototype[e+"Form"]=t(!0)}));var Ie=Be;class qe{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,o){n.reason||(n.reason=new Oe(e,r,o),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new qe((function(t){e=t})),cancel:e}}}var ze=qe;const Me={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Me).forEach((([e,t])=>{Me[t]=e}));var Ge=Me;const He=function e(t){const n=new Ie(t),r=o(Ie.prototype.request,n);return B.extend(r,Ie.prototype,n,{allOwnKeys:!0}),B.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(_e(t,n))},r}(le);He.Axios=Ie,He.CanceledError=Oe,He.CancelToken=ze,He.isCancel=we,He.VERSION="1.6.2",He.toFormData=W,He.AxiosError=M,He.Cancel=He.CanceledError,He.all=function(e){return Promise.all(e)},He.spread=function(e){return function(t){return e.apply(null,t)}},He.isAxiosError=function(e){return B.isObject(e)&&!0===e.isAxiosError},He.mergeConfig=_e,He.AxiosHeaders=ye,He.formToJSON=e=>ce(B.isHTMLForm(e)?new FormData(e):e),He.getAdapter=je,He.HttpStatusCode=Ge,He.default=He;var Ve=He,Je={get:(e,{params:t})=>Ve.get(e,{params:t}),post:(e,t={},n={})=>Ve.post(e,t,n)}},201:function(e,t,n){n.d(t,{GapiAnalyticsService:function(){return s}});var r=n(659),o=n(353),i=n(145);class s{gapi;analytics;realtimeAPI;analyticsdata;analyticsadmin;management;webproperties;accounts;profiles;initializationPending=!0;initialisationsParams;constructor(e){const{clientId:t,authScopes:n,GA4AdminEmail:r}=e;this.initialisationsParams=e}async refreshAccessToken(e){return await i.default.post(this.initialisationsParams.serverUrls.refreshToken,{email:e},{headers:{Accept:"application/json"}})}async errorHandler(e,t){return new Promise((async(n,o)=>{const{status:i,result:s}=e;if(401===i){const{refresh_token:i}=r.default.getGoogleLoginResponse()||{};console.log("refresh_token",i);const{data:s}=await this.refreshAccessToken(this.initialisationsParams.GA4AdminEmail).catch(o);console.log("credentials :>> ",s),s||o(e),r.default.setGoogleLoginResponse(s),this.setAccessToken();const{method:a,args:c}=t;console.log("method, args :>> ",a,c),n(this[a](...c))}o(e)}))}get gapiIsScriptAreAllDownloaded(){const e=window?.gapi,t=e?.client?.analytics,n=e?.client?.analyticsdata,r=e?.client?.analyticsadmin;return!!(e&&t&&r&&n)}async init(){return new Promise((async(e,t)=>{this.gapiIsScriptAreAllDownloaded?(this.gapi=window?.gapi,this.analytics=this.gapi.client.analytics,this.realtimeAPI=this.gapi.client.analytics.data.realtime,this.analyticsdata=this.gapi.client.analyticsdata,this.analyticsadmin=this.gapi.client.analyticsadmin,this.management=this.gapi.client.analytics.management,this.accounts=this.management.accounts,this.webproperties=this.management.webproperties,this.profiles=this.management.profiles,this.setAccessToken(),this.initializationPending=!1,e(!0)):setTimeout((async()=>{e(await this.init())}),1e3)}))}async queryReport(e,t){if(console.log("property",e),!e)throw new Error("Google property isnt set");try{let{dimensions:n,metrics:r,startDate:i,endDate:s}=t;r=(r||[]).map((e=>"string"==typeof e?{name:e}:e)),n=(n||[]).map((e=>"string"==typeof e?{name:e}:e));const a=await this.analyticsdata.properties.runReport({property:e,dateRanges:[{startDate:i,endDate:s}],metrics:r,dimensions:n,metricAggregations:["TOTAL"]}).then((e=>e));return(0,o.parseReportAsChartData)([a])}catch(n){return await this.errorHandler(n,{method:"queryReport",args:[e,t]})}}async listAccounts(){return console.log(" this.analyticsadmin",this.analyticsadmin),await this.analyticsadmin.accountSummaries.list().then((e=>e.result.accountSummaries)).catch((async e=>{const t=await this.errorHandler(e,{method:"listAccounts",args:[]});return console.log("res",t),t}))}setAccessToken(){const{access_token:e}=r.default.getGoogleLoginResponse()||{};this.gapi.client.setToken({access_token:e}),this.gapi.auth.setToken({access_token:e})}}},353:function(e,t,n){function r(e){const{data:t,dimension:n}=e,{rows:r,dimensions:o,metrics:i,metricsTotals:s}=t;if(!o.includes(n))return t;const a=o.indexOf(n),c=r.map((e=>{const{dimensionValues:t,metricValues:n}=e,r=n.reduce(((e,t)=>({...e,[t.name]:t.value})),{});return{name:t[a].value,...r}}));let u={};return i.forEach((({name:e},t)=>{u[e]=c.reduce(((t,n)=>{let r=t;return n[e]&&(r+=parseInt(n[e])),r}),0)})),{data:c,totals:u}}function o(e){const t=function(e){let{result:{metricHeaders:t=[],dimensionHeaders:n=[],rows:r=[],totals:o}}=e[0];const i=r.map((e=>{let{dimensionValues:r=[],metricValues:o=[]}=e;return r=r.map(((e,t)=>({...n[t],...e}))),o=o.map(((e,n)=>({...t[n],...e}))),{dimensionValues:r,metricValues:o}})),s=t.reduce(((e,t,n)=>({...e,[t.name]:o[0]?.metricValues[n]?.value||0})),{});return{metrics:t,dimensions:n,rows:i,metricsTotals:s}}(e);let{rows:n,dimensions:o,metricsTotals:i}=t;return o=o.reduce(((e,n)=>({...e,[n.name]:r({data:t,dimension:n})})),{}),{dimensions:o,metricsTotals:i}}n.d(t,{parseReportAsChartData:function(){return o}}),n(145),n(659)},659:function(e,t,n){function r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}n.d(t,{default:function(){return s}});var o=function e(t,n){function o(e,o,i){if("undefined"!=typeof document){"number"==typeof(i=r({},n,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var a in i)i[a]&&(s+="; "+a,!0!==i[a]&&(s+="="+i[a].split(";")[0]));return document.cookie=e+"="+t.write(o,e)+s}}return Object.create({set:o,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},o=0;o<n.length;o++){var i=n[o].split("="),s=i.slice(1).join("=");try{var a=decodeURIComponent(i[0]);if(r[a]=t.read(s,a),e===a)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){o(e,"",r({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,r({},this.attributes,t))},withConverter:function(t){return e(r({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});class i{storage=o;set(e,t,n){return t=n&&n.isObject?JSON.stringify(t):t,this.storage.set(e,t)}get(e){try{return JSON.parse(this.storage.get(e))}catch(t){return this.storage.get(e)}}remove(e){this.storage.remove(e)}}var s=new class{storage=new i;key_GoogleLoginResponse="key_GoogleLoginResponse";setGoogleLoginResponse(e){this.storage.set(this.key_GoogleLoginResponse,JSON.stringify(e))}getGoogleLoginResponse(){return this.storage.get(this.key_GoogleLoginResponse)}clearGoogleLoginResponse(){return this.storage.remove(this.key_GoogleLoginResponse)}}},333:function(e,t,n){n.d(t,{AnalyticsClientBaseClass:function(){return r}});class r{async getVisitsPerPeriod(e){}async getEventCount(e){}}},135:function(e,t,n){function r(e){const{format:t,value:n,magicValue:r}=e;if(!t)throw new Error("period format is required");if("magic"===t&&"string"!=typeof r&&"number"!=typeof r)throw new Error(" unexpected magicValue "+r+" for format magic. Must be string|number");if("date"===t&&("object"!=typeof n||!n.start))throw new Error(" unexpected period value for format date. must be of type {start:string, end:string}")}n.d(t,{checkPeriod:function(){return r}})}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return function(){n.r(r),n.d(r,{GA4ClientFacade:function(){return s}});var e=n(333),t=n(201),o=n(135);function i(e){(0,o.checkPeriod)(e);const{format:t,magicValue:n,value:r}=e;return"magic"===t?{startDate:n+"daysAgo",endDate:"today"}:"date"===t?{startDate:r.start,endDate:r.end||"today"}:void 0}class s extends e.AnalyticsClientBaseClass{gapiService;initialisationsParams;constructor(e){super(),this.initialisationsParams=e,this.gapiService=new t.GapiAnalyticsService(e)}async listAccounts(){if(!this.gapiService)throw new Error("GA4 client isn't initialized correctly. Please make sure the active client is GA4");if(!this.gapiService.gapiIsScriptAreAllDownloaded)throw new Error("Gapi script are still loading. PLease retry.");return await this.gapiService.listAccounts()}async getVisitsPerPeriod(e){const{period:t,ga4:{property:n,format:r}={}}=e;this.checkProperty(n);let o={dimensions:["date"],metrics:["sessions","newUsers","screenPageViews","averageSessionDuration"],...i(t),format:r};return await this.gapiService.queryReport(n,o)}async getEventCount(e){const{events:t,period:n,ga4:{property:r,format:o}={}}=e;this.checkProperty(r);const s=function(e){return e.map((e=>{const{name:t,meta:{ga4:n}={}}=e;return n&&n.conversion?`conversions:${t}`:t}))}(t);let a={dimensions:[],metrics:s,...i(n),format:o};return await this.gapiService.queryReport(r,a).then((e=>{const n=e?.metricsTotals||{};console.log("totals",n,s);const r={};for(let e=0;e<s.length;e++){const o=t.map((e=>e.name))[e];r[o]=n[s[e]]}return r}))}checkProperty(e){if(!e)throw new Error("ga4ProppertyID is required")}}}(),r}()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGliL2dhcGkvaW5kZXguanMiLCJtYXBwaW5ncyI6IjtDQUFBLFNBQTJDQSxFQUFNQyxHQUNoRCxHQUFzQixpQkFBWkMsU0FBMEMsaUJBQVhDLE9BQ3hDQSxPQUFPRCxRQUFVRCxTQUNiLEdBQXFCLG1CQUFYRyxRQUF5QkEsT0FBT0MsSUFDOUNELE9BQU8sR0FBSUgsT0FDUCxDQUNKLElBQUlLLEVBQUlMLElBQ1IsSUFBSSxJQUFJTSxLQUFLRCxHQUF1QixpQkFBWkosUUFBdUJBLFFBQVVGLEdBQU1PLEdBQUtELEVBQUVDLEVBQ3ZFLENBQ0EsQ0FURCxDQVNHQyxNQUFNLFdBQ1QsMEdDUmUsU0FBU0MsRUFBS0MsRUFBSUMsR0FDL0IsT0FBTyxXQUNMLE9BQU9ELEVBQUdFLE1BQU1ELEVBQVNFLFVBQzNCLENBQ0Ysc0pDQUEsTUFBT0MsU0FBUSxHQUFJQyxPQUFPQyxXQUNwQixlQUFDQyxHQUFrQkYsT0FFbkJHLEdBQVVDLEVBR2JKLE9BQU9LLE9BQU8sTUFIUUMsSUFDckIsTUFBTUMsRUFBTSxFQUFTQyxLQUFLRixHQUMxQixPQUFPRixFQUFNRyxLQUFTSCxFQUFNRyxHQUFPQSxFQUFJRSxNQUFNLEdBQUksR0FBR0MsY0FBYyxHQUZ2RCxJQUFDTixFQUtoQixNQUFNTyxFQUFjQyxJQUNsQkEsRUFBT0EsRUFBS0YsY0FDSkosR0FBVUgsRUFBT0csS0FBV00sR0FHaENDLEVBQWFELEdBQVFOLFVBQWdCQSxJQUFVTSxHQVMvQyxRQUFDRSxHQUFXQyxNQVNaQyxFQUFjSCxFQUFXLGFBcUJ6QkksRUFBZ0JOLEVBQVcsZUEyQjNCTyxFQUFXTCxFQUFXLFVBUXRCTSxFQUFhTixFQUFXLFlBU3hCTyxFQUFXUCxFQUFXLFVBU3RCUSxFQUFZZixHQUFvQixPQUFWQSxHQUFtQyxpQkFBVkEsRUFpQi9DZ0IsRUFBaUJDLElBQ3JCLEdBQW9CLFdBQWhCcEIsRUFBT29CLEdBQ1QsT0FBTyxFQUdULE1BQU10QixFQUFZQyxFQUFlcUIsR0FDakMsUUFBc0IsT0FBZHRCLEdBQXNCQSxJQUFjRCxPQUFPQyxXQUFrRCxPQUFyQ0QsT0FBT0UsZUFBZUQsSUFBMEJ1QixPQUFPQyxlQUFlRixHQUFVQyxPQUFPRSxZQUFZSCxFQUFJLEVBVW5LSSxFQUFTaEIsRUFBVyxRQVNwQmlCLEVBQVNqQixFQUFXLFFBU3BCa0IsRUFBU2xCLEVBQVcsUUFTcEJtQixFQUFhbkIsRUFBVyxZQXNDeEJvQixFQUFvQnBCLEVBQVcsbUJBMkJyQyxTQUFTcUIsRUFBUUMsRUFBS3RDLEdBQUksV0FBQ3VDLEdBQWEsR0FBUyxDQUFDLEdBRWhELEdBQUlELFFBQ0YsT0FHRixJQUFJekMsRUFDQTJDLEVBUUosR0FMbUIsaUJBQVJGLElBRVRBLEVBQU0sQ0FBQ0EsSUFHTG5CLEVBQVFtQixHQUVWLElBQUt6QyxFQUFJLEVBQUcyQyxFQUFJRixFQUFJRyxPQUFRNUMsRUFBSTJDLEVBQUczQyxJQUNqQ0csRUFBR2EsS0FBSyxLQUFNeUIsRUFBSXpDLEdBQUlBLEVBQUd5QyxPQUV0QixDQUVMLE1BQU1JLEVBQU9ILEVBQWFsQyxPQUFPc0Msb0JBQW9CTCxHQUFPakMsT0FBT3FDLEtBQUtKLEdBQ2xFTSxFQUFNRixFQUFLRCxPQUNqQixJQUFJSSxFQUVKLElBQUtoRCxFQUFJLEVBQUdBLEVBQUkrQyxFQUFLL0MsSUFDbkJnRCxFQUFNSCxFQUFLN0MsR0FDWEcsRUFBR2EsS0FBSyxLQUFNeUIsRUFBSU8sR0FBTUEsRUFBS1AsRUFFakMsQ0FDRixDQUVBLFNBQVNRLEVBQVFSLEVBQUtPLEdBQ3BCQSxFQUFNQSxFQUFJOUIsY0FDVixNQUFNMkIsRUFBT3JDLE9BQU9xQyxLQUFLSixHQUN6QixJQUNJUyxFQURBbEQsRUFBSTZDLEVBQUtELE9BRWIsS0FBTzVDLEtBQU0sR0FFWCxHQURBa0QsRUFBT0wsRUFBSzdDLEdBQ1JnRCxJQUFRRSxFQUFLaEMsY0FDZixPQUFPZ0MsRUFHWCxPQUFPLElBQ1QsQ0FFQSxNQUFNQyxFQUVzQixvQkFBZkMsV0FBbUNBLFdBQ3ZCLG9CQUFUQyxLQUF1QkEsS0FBMEIsb0JBQVhDLE9BQXlCQSxPQUFTQyxPQUdsRkMsRUFBb0JDLElBQWFqQyxFQUFZaUMsSUFBWUEsSUFBWU4sRUFrTHJFTyxHQUFnQkMsRUFLRyxvQkFBZkMsWUFBOEJsRCxFQUFla0QsWUFIOUM5QyxHQUNFNkMsR0FBYzdDLGFBQWlCNkMsR0FIckIsSUFBQ0EsRUFldEIsTUFpQ01FLEVBQWExQyxFQUFXLG1CQVd4QixFQUFpQixHQUFHMkMsb0JBQW9CLENBQUNyQixFQUFLc0IsSUFBU0QsRUFBZTlDLEtBQUt5QixFQUFLc0IsR0FBL0QsQ0FBc0V2RCxPQUFPQyxXQVM5RnVELEVBQVc3QyxFQUFXLFVBRXRCOEMsRUFBb0IsQ0FBQ3hCLEVBQUt5QixLQUM5QixNQUFNQyxFQUFjM0QsT0FBTzRELDBCQUEwQjNCLEdBQy9DNEIsRUFBcUIsQ0FBQyxFQUU1QjdCLEVBQVEyQixHQUFhLENBQUNHLEVBQVlDLEtBQ2hDLElBQUlDLEdBQzJDLEtBQTFDQSxFQUFNTixFQUFRSSxFQUFZQyxFQUFNOUIsTUFDbkM0QixFQUFtQkUsR0FBUUMsR0FBT0YsRUFDcEMsSUFHRjlELE9BQU9pRSxpQkFBaUJoQyxFQUFLNEIsRUFBbUIsRUF1RDVDSyxFQUFRLDZCQUVSQyxFQUFRLGFBRVJDLEVBQVcsQ0FDZkQsUUFDQUQsUUFDQUcsWUFBYUgsRUFBUUEsRUFBTUksY0FBZ0JILEdBdUR2Q0ksRUFBWTVELEVBQVcsaUJBSzdCLE9BQ0VHLFVBQ0FHLGdCQUNBdUQsU0FubkJGLFNBQWtCakQsR0FDaEIsT0FBZSxPQUFSQSxJQUFpQlAsRUFBWU8sSUFBNEIsT0FBcEJBLEVBQUlrRCxjQUF5QnpELEVBQVlPLEVBQUlrRCxjQUNwRnRELEVBQVdJLEVBQUlrRCxZQUFZRCxXQUFhakQsRUFBSWtELFlBQVlELFNBQVNqRCxFQUN4RSxFQWluQkVtRCxXQXJla0JwRSxJQUNsQixJQUFJcUUsRUFDSixPQUFPckUsSUFDZ0IsbUJBQWJzRSxVQUEyQnRFLGFBQWlCc0UsVUFDbER6RCxFQUFXYixFQUFNdUUsVUFDWSxjQUExQkYsRUFBT3hFLEVBQU9HLEtBRUwsV0FBVHFFLEdBQXFCeEQsRUFBV2IsRUFBTVAsV0FBa0Msc0JBQXJCTyxFQUFNUCxZQUdoRSxFQTRkQStFLGtCQS9sQkYsU0FBMkJ2RCxHQUN6QixJQUFJd0QsRUFNSixPQUpFQSxFQUQwQixvQkFBaEJDLGFBQWlDQSxZQUFrQixPQUNwREEsWUFBWUMsT0FBTzFELEdBRW5CLEdBQVVBLEVBQVUsUUFBTU4sRUFBY00sRUFBSTJELFFBRWhESCxDQUNULEVBd2xCRTdELFdBQ0FFLFdBQ0ErRCxVQS9pQmdCN0UsSUFBbUIsSUFBVkEsSUFBNEIsSUFBVkEsRUFnakIzQ2UsV0FDQUMsZ0JBQ0FOLGNBQ0FXLFNBQ0FDLFNBQ0FDLFNBQ0EyQixXQUNBckMsYUFDQWlFLFNBM2ZnQjdELEdBQVFGLEVBQVNFLElBQVFKLEVBQVdJLEVBQUk4RCxNQTRmeER0RCxvQkFDQW1CLGVBQ0FwQixhQUNBRSxVQUNBc0QsTUEvWEYsU0FBU0EsSUFDUCxNQUFNLFNBQUNDLEdBQVl2QyxFQUFpQnZELE9BQVNBLE1BQVEsQ0FBQyxFQUNoRHNGLEVBQVMsQ0FBQyxFQUNWUyxFQUFjLENBQUNqRSxFQUFLaUIsS0FDeEIsTUFBTWlELEVBQVlGLEdBQVk5QyxFQUFRc0MsRUFBUXZDLElBQVFBLEVBQ2xEbEIsRUFBY3lELEVBQU9VLEtBQWVuRSxFQUFjQyxHQUNwRHdELEVBQU9VLEdBQWFILEVBQU1QLEVBQU9VLEdBQVlsRSxHQUNwQ0QsRUFBY0MsR0FDdkJ3RCxFQUFPVSxHQUFhSCxFQUFNLENBQUMsRUFBRy9ELEdBQ3JCVCxFQUFRUyxHQUNqQndELEVBQU9VLEdBQWFsRSxFQUFJZCxRQUV4QnNFLEVBQU9VLEdBQWFsRSxDQUN0QixFQUdGLElBQUssSUFBSS9CLEVBQUksRUFBRzJDLEVBQUlyQyxVQUFVc0MsT0FBUTVDLEVBQUkyQyxFQUFHM0MsSUFDM0NNLFVBQVVOLElBQU13QyxFQUFRbEMsVUFBVU4sR0FBSWdHLEdBRXhDLE9BQU9ULENBQ1QsRUE0V0VXLE9BaFdhLENBQUNuRyxFQUFHb0csRUFBRy9GLEdBQVVzQyxjQUFhLENBQUMsS0FDNUNGLEVBQVEyRCxHQUFHLENBQUNwRSxFQUFLaUIsS0FDWDVDLEdBQVd1QixFQUFXSSxHQUN4QmhDLEVBQUVpRCxHQUFPOUMsRUFBSzZCLEVBQUszQixHQUVuQkwsRUFBRWlELEdBQU9qQixDQUNYLEdBQ0MsQ0FBQ1csZUFDRzNDLEdBeVZQcUcsS0E1ZFlyRixHQUFRQSxFQUFJcUYsS0FDeEJyRixFQUFJcUYsT0FBU3JGLEVBQUlzRixRQUFRLHFDQUFzQyxJQTRkL0RDLFNBaFZnQkMsSUFDYyxRQUExQkEsRUFBUUMsV0FBVyxLQUNyQkQsRUFBVUEsRUFBUXRGLE1BQU0sSUFFbkJzRixHQTZVUEUsU0FqVWUsQ0FBQ3hCLEVBQWF5QixFQUFrQkMsRUFBT3hDLEtBQ3REYyxFQUFZeEUsVUFBWUQsT0FBT0ssT0FBTzZGLEVBQWlCakcsVUFBVzBELEdBQ2xFYyxFQUFZeEUsVUFBVXdFLFlBQWNBLEVBQ3BDekUsT0FBT29HLGVBQWUzQixFQUFhLFFBQVMsQ0FDMUM0QixNQUFPSCxFQUFpQmpHLFlBRTFCa0csR0FBU25HLE9BQU9zRyxPQUFPN0IsRUFBWXhFLFVBQVdrRyxFQUFNLEVBNFRwREksYUFoVG1CLENBQUNDLEVBQVdDLEVBQVNDLEVBQVFDLEtBQ2hELElBQUlSLEVBQ0EzRyxFQUNBK0QsRUFDSixNQUFNcUQsRUFBUyxDQUFDLEVBSWhCLEdBRkFILEVBQVVBLEdBQVcsQ0FBQyxFQUVMLE1BQWJELEVBQW1CLE9BQU9DLEVBRTlCLEVBQUcsQ0FHRCxJQUZBTixFQUFRbkcsT0FBT3NDLG9CQUFvQmtFLEdBQ25DaEgsRUFBSTJHLEVBQU0vRCxPQUNINUMsS0FBTSxHQUNYK0QsRUFBTzRDLEVBQU0zRyxHQUNQbUgsSUFBY0EsRUFBV3BELEVBQU1pRCxFQUFXQyxJQUFjRyxFQUFPckQsS0FDbkVrRCxFQUFRbEQsR0FBUWlELEVBQVVqRCxHQUMxQnFELEVBQU9yRCxJQUFRLEdBR25CaUQsR0FBdUIsSUFBWEUsR0FBb0J4RyxFQUFlc0csRUFDakQsT0FBU0EsS0FBZUUsR0FBVUEsRUFBT0YsRUFBV0MsS0FBYUQsSUFBY3hHLE9BQU9DLFdBRXRGLE9BQU93RyxDQUFPLEVBMFJkdEcsU0FDQVEsYUFDQWtHLFNBaFJlLENBQUN0RyxFQUFLdUcsRUFBY0MsS0FDbkN4RyxFQUFNeUcsT0FBT3pHLFNBQ0kwRyxJQUFiRixHQUEwQkEsRUFBV3hHLEVBQUk2QixVQUMzQzJFLEVBQVd4RyxFQUFJNkIsUUFFakIyRSxHQUFZRCxFQUFhMUUsT0FDekIsTUFBTThFLEVBQVkzRyxFQUFJNEcsUUFBUUwsRUFBY0MsR0FDNUMsT0FBc0IsSUFBZkcsR0FBb0JBLElBQWNILENBQVEsRUEwUWpESyxRQS9QZTlHLElBQ2YsSUFBS0EsRUFBTyxPQUFPLEtBQ25CLEdBQUlRLEVBQVFSLEdBQVEsT0FBT0EsRUFDM0IsSUFBSWQsRUFBSWMsRUFBTThCLE9BQ2QsSUFBS2hCLEVBQVM1QixHQUFJLE9BQU8sS0FDekIsTUFBTTZILEVBQU0sSUFBSXRHLE1BQU12QixHQUN0QixLQUFPQSxLQUFNLEdBQ1g2SCxFQUFJN0gsR0FBS2MsRUFBTWQsR0FFakIsT0FBTzZILENBQUcsRUF1UFZDLGFBNU5tQixDQUFDckYsRUFBS3RDLEtBQ3pCLE1BRU0rQixHQUZZTyxHQUFPQSxFQUFJVCxPQUFPRSxXQUVUbEIsS0FBS3lCLEdBRWhDLElBQUk4QyxFQUVKLE1BQVFBLEVBQVNyRCxFQUFTNkYsVUFBWXhDLEVBQU95QyxNQUFNLENBQ2pELE1BQU1DLEVBQU8xQyxFQUFPc0IsTUFDcEIxRyxFQUFHYSxLQUFLeUIsRUFBS3dGLEVBQUssR0FBSUEsRUFBSyxHQUM3QixHQW1OQUMsU0F4TWUsQ0FBQ0MsRUFBUXBILEtBQ3hCLElBQUlxSCxFQUNKLE1BQU1QLEVBQU0sR0FFWixLQUF3QyxRQUFoQ08sRUFBVUQsRUFBT0UsS0FBS3RILEtBQzVCOEcsRUFBSVMsS0FBS0YsR0FHWCxPQUFPUCxDQUFHLEVBaU1WaEUsYUFDQUMsZUFBYyxFQUNkeUUsV0FBWSxFQUNadEUsb0JBQ0F1RSxjQXhKcUIvRixJQUNyQndCLEVBQWtCeEIsR0FBSyxDQUFDNkIsRUFBWUMsS0FFbEMsR0FBSTVDLEVBQVdjLEtBQTZELElBQXJELENBQUMsWUFBYSxTQUFVLFVBQVVrRixRQUFRcEQsR0FDL0QsT0FBTyxFQUdULE1BQU1zQyxFQUFRcEUsRUFBSThCLEdBRWI1QyxFQUFXa0YsS0FFaEJ2QyxFQUFXbUUsWUFBYSxFQUVwQixhQUFjbkUsRUFDaEJBLEVBQVdvRSxVQUFXLEVBSW5CcEUsRUFBV3FFLE1BQ2RyRSxFQUFXcUUsSUFBTSxLQUNmLE1BQU1DLE1BQU0scUNBQXdDckUsRUFBTyxJQUFLLEdBRXBFLEdBQ0EsRUFrSUZzRSxZQS9Ia0IsQ0FBQ0MsRUFBZUMsS0FDbEMsTUFBTXRHLEVBQU0sQ0FBQyxFQUVQNUMsRUFBVWdJLElBQ2RBLEVBQUlyRixTQUFRcUUsSUFDVnBFLEVBQUlvRSxJQUFTLENBQUksR0FDakIsRUFLSixPQUZBdkYsRUFBUXdILEdBQWlCakosRUFBT2lKLEdBQWlCakosRUFBTzJILE9BQU9zQixHQUFlRSxNQUFNRCxJQUU3RXRHLENBQUcsRUFxSFZ3RyxZQWpNa0JsSSxHQUNYQSxFQUFJRyxjQUFjbUYsUUFBUSx5QkFDL0IsU0FBa0I2QyxFQUFHQyxFQUFJQyxHQUN2QixPQUFPRCxFQUFHckUsY0FBZ0JzRSxDQUM1QixJQThMRkMsS0FuSFcsT0FvSFhDLGVBbEhxQixDQUFDekMsRUFBTzBDLEtBQzdCMUMsR0FBU0EsRUFDRjJDLE9BQU9DLFNBQVM1QyxHQUFTQSxFQUFRMEMsR0FpSHhDdEcsVUFDQU0sT0FBUUosRUFDUkssbUJBQ0FvQixXQUNBOEUsZUF4R3FCLENBQUNDLEVBQU8sR0FBSUMsRUFBV2hGLEVBQVNDLGVBQ3JELElBQUk5RCxFQUFNLEdBQ1YsTUFBTSxPQUFDNkIsR0FBVWdILEVBQ2pCLEtBQU9ELEtBQ0w1SSxHQUFPNkksRUFBU0MsS0FBS0MsU0FBV2xILEVBQU8sR0FHekMsT0FBTzdCLENBQUcsRUFrR1ZnSixvQkF4RkYsU0FBNkJqSixHQUMzQixTQUFVQSxHQUFTYSxFQUFXYixFQUFNdUUsU0FBeUMsYUFBOUJ2RSxFQUFNa0IsT0FBT0MsY0FBK0JuQixFQUFNa0IsT0FBT0UsVUFDMUcsRUF1RkU4SCxhQXJGb0J2SCxJQUNwQixNQUFNd0gsRUFBUSxJQUFJMUksTUFBTSxJQUVsQjJJLEVBQVEsQ0FBQ0MsRUFBUW5LLEtBRXJCLEdBQUk2QixFQUFTc0ksR0FBUyxDQUNwQixHQUFJRixFQUFNdEMsUUFBUXdDLElBQVcsRUFDM0IsT0FHRixLQUFLLFdBQVlBLEdBQVMsQ0FDeEJGLEVBQU1qSyxHQUFLbUssRUFDWCxNQUFNQyxFQUFTOUksRUFBUTZJLEdBQVUsR0FBSyxDQUFDLEVBU3ZDLE9BUEEzSCxFQUFRMkgsR0FBUSxDQUFDdEQsRUFBTzdELEtBQ3RCLE1BQU1xSCxFQUFlSCxFQUFNckQsRUFBTzdHLEVBQUksSUFDckN3QixFQUFZNkksS0FBa0JELEVBQU9wSCxHQUFPcUgsRUFBYSxJQUc1REosRUFBTWpLLFFBQUt5SCxFQUVKMkMsQ0FDVCxDQUNGLENBRUEsT0FBT0QsQ0FBTSxFQUdmLE9BQU9ELEVBQU16SCxFQUFLLEVBQUUsRUEwRHBCc0MsWUFDQXVGLFdBdERrQnhKLEdBQ2xCQSxJQUFVZSxFQUFTZixJQUFVYSxFQUFXYixLQUFXYSxFQUFXYixFQUFNeUosT0FBUzVJLEVBQVdiLEVBQU0wSixRQzdvQmhHLFNBQVNDLEVBQVdDLEVBQVNDLEVBQU1DLEVBQVFDLEVBQVNDLEdBQ2xEbEMsTUFBTTVILEtBQUtmLE1BRVAySSxNQUFNbUMsa0JBQ1JuQyxNQUFNbUMsa0JBQWtCOUssS0FBTUEsS0FBS2dGLGFBRW5DaEYsS0FBS2dLLE9BQVEsSUFBS3JCLE9BQVNxQixNQUc3QmhLLEtBQUt5SyxRQUFVQSxFQUNmekssS0FBS3NFLEtBQU8sYUFDWm9HLElBQVMxSyxLQUFLMEssS0FBT0EsR0FDckJDLElBQVczSyxLQUFLMkssT0FBU0EsR0FDekJDLElBQVk1SyxLQUFLNEssUUFBVUEsR0FDM0JDLElBQWE3SyxLQUFLNkssU0FBV0EsRUFDL0IsQ0FFQUUsRUFBTXZFLFNBQVNnRSxFQUFZN0IsTUFBTyxDQUNoQ3FDLE9BQVEsV0FDTixNQUFPLENBRUxQLFFBQVN6SyxLQUFLeUssUUFDZG5HLEtBQU10RSxLQUFLc0UsS0FFWDJHLFlBQWFqTCxLQUFLaUwsWUFDbEJDLE9BQVFsTCxLQUFLa0wsT0FFYkMsU0FBVW5MLEtBQUttTCxTQUNmQyxXQUFZcEwsS0FBS29MLFdBQ2pCQyxhQUFjckwsS0FBS3FMLGFBQ25CckIsTUFBT2hLLEtBQUtnSyxNQUVaVyxPQUFRSSxFQUFNaEIsYUFBYS9KLEtBQUsySyxRQUNoQ0QsS0FBTTFLLEtBQUswSyxLQUNYWSxPQUFRdEwsS0FBSzZLLFVBQVk3SyxLQUFLNkssU0FBU1MsT0FBU3RMLEtBQUs2SyxTQUFTUyxPQUFTLEtBRTNFLElBR0YsTUFBTSxFQUFZZCxFQUFXaEssVUFDdkIwRCxFQUFjLENBQUMsRUFFckIsQ0FDRSx1QkFDQSxpQkFDQSxlQUNBLFlBQ0EsY0FDQSw0QkFDQSxpQkFDQSxtQkFDQSxrQkFDQSxlQUNBLGtCQUNBLG1CQUVBM0IsU0FBUW1JLElBQ1J4RyxFQUFZd0csR0FBUSxDQUFDOUQsTUFBTzhELEVBQUssSUFHbkNuSyxPQUFPaUUsaUJBQWlCZ0csRUFBWXRHLEdBQ3BDM0QsT0FBT29HLGVBQWUsRUFBVyxlQUFnQixDQUFDQyxPQUFPLElBR3pENEQsRUFBV2UsS0FBTyxDQUFDQyxFQUFPZCxFQUFNQyxFQUFRQyxFQUFTQyxFQUFVWSxLQUN6RCxNQUFNQyxFQUFhbkwsT0FBT0ssT0FBTyxHQWdCakMsT0FkQW1LLEVBQU1qRSxhQUFhMEUsRUFBT0UsR0FBWSxTQUFnQmxKLEdBQ3BELE9BQU9BLElBQVFtRyxNQUFNbkksU0FDdkIsSUFBR3NELEdBQ2UsaUJBQVRBLElBR1QwRyxFQUFXekosS0FBSzJLLEVBQVlGLEVBQU1mLFFBQVNDLEVBQU1DLEVBQVFDLEVBQVNDLEdBRWxFYSxFQUFXQyxNQUFRSCxFQUVuQkUsRUFBV3BILEtBQU9rSCxFQUFNbEgsS0FFeEJtSCxHQUFlbEwsT0FBT3NHLE9BQU82RSxFQUFZRCxHQUVsQ0MsQ0FBVSxFQUduQixRQ3JGQSxTQUFTRSxFQUFZL0ssR0FDbkIsT0FBT2tLLEVBQU1sSixjQUFjaEIsSUFBVWtLLEVBQU0xSixRQUFRUixFQUNyRCxDQVNBLFNBQVNnTCxFQUFlOUksR0FDdEIsT0FBT2dJLEVBQU0zRCxTQUFTckUsRUFBSyxNQUFRQSxFQUFJL0IsTUFBTSxHQUFJLEdBQUsrQixDQUN4RCxDQVdBLFNBQVMrSSxFQUFVQyxFQUFNaEosRUFBS2lKLEdBQzVCLE9BQUtELEVBQ0VBLEVBQUtFLE9BQU9sSixHQUFLbUosS0FBSSxTQUFjQyxFQUFPcE0sR0FHL0MsT0FEQW9NLEVBQVFOLEVBQWVNLElBQ2ZILEdBQVFqTSxFQUFJLElBQU1vTSxFQUFRLElBQU1BLENBQzFDLElBQUdDLEtBQUtKLEVBQU8sSUFBTSxJQUxIakosQ0FNcEIsQ0FhQSxNQUFNc0osRUFBYXRCLEVBQU1qRSxhQUFhaUUsRUFBTyxDQUFDLEVBQUcsTUFBTSxTQUFnQmpILEdBQ3JFLE1BQU8sV0FBV3dJLEtBQUt4SSxFQUN6QixJQThKQSxNQXJJQSxTQUFvQnRCLEVBQUsrSixFQUFVQyxHQUNqQyxJQUFLekIsRUFBTW5KLFNBQVNZLEdBQ2xCLE1BQU0sSUFBSWlLLFVBQVUsNEJBSXRCRixFQUFXQSxHQUFZLElBQXlCcEgsU0FZaEQsTUFBTXVILEdBVE5GLEVBQVV6QixFQUFNakUsYUFBYTBGLEVBQVMsQ0FDcENFLFlBQVksRUFDWlYsTUFBTSxFQUNOVyxTQUFTLElBQ1IsR0FBTyxTQUFpQkMsRUFBUTFDLEdBRWpDLE9BQVFhLEVBQU14SixZQUFZMkksRUFBTzBDLEdBQ25DLEtBRTJCRixXQUVyQkcsRUFBVUwsRUFBUUssU0FBV0MsRUFDN0JkLEVBQU9RLEVBQVFSLEtBQ2ZXLEVBQVVILEVBQVFHLFFBRWxCSSxHQURRUCxFQUFRUSxNQUF3QixvQkFBVEEsTUFBd0JBLE9BQ3BDakMsRUFBTWpCLG9CQUFvQnlDLEdBRW5ELElBQUt4QixFQUFNckosV0FBV21MLEdBQ3BCLE1BQU0sSUFBSUosVUFBVSw4QkFHdEIsU0FBU1EsRUFBYXJHLEdBQ3BCLEdBQWMsT0FBVkEsRUFBZ0IsTUFBTyxHQUUzQixHQUFJbUUsRUFBTTdJLE9BQU8wRSxHQUNmLE9BQU9BLEVBQU1zRyxjQUdmLElBQUtILEdBQVdoQyxFQUFNM0ksT0FBT3dFLEdBQzNCLE1BQU0sSUFBSSxFQUFXLGdEQUd2QixPQUFJbUUsRUFBTXZKLGNBQWNvRixJQUFVbUUsRUFBTXRILGFBQWFtRCxHQUM1Q21HLEdBQTJCLG1CQUFUQyxLQUFzQixJQUFJQSxLQUFLLENBQUNwRyxJQUFVdUcsT0FBTzVCLEtBQUszRSxHQUcxRUEsQ0FDVCxDQVlBLFNBQVNrRyxFQUFlbEcsRUFBTzdELEVBQUtnSixHQUNsQyxJQUFJbkUsRUFBTWhCLEVBRVYsR0FBSUEsSUFBVW1GLEdBQXlCLGlCQUFWbkYsRUFDM0IsR0FBSW1FLEVBQU0zRCxTQUFTckUsRUFBSyxNQUV0QkEsRUFBTTJKLEVBQWEzSixFQUFNQSxFQUFJL0IsTUFBTSxHQUFJLEdBRXZDNEYsRUFBUXdHLEtBQUtDLFVBQVV6RyxRQUNsQixHQUNKbUUsRUFBTTFKLFFBQVF1RixJQW5HdkIsU0FBcUJnQixHQUNuQixPQUFPbUQsRUFBTTFKLFFBQVF1RyxLQUFTQSxFQUFJMEYsS0FBSzFCLEVBQ3pDLENBaUdpQzJCLENBQVkzRyxLQUNuQ21FLEVBQU0xSSxXQUFXdUUsSUFBVW1FLEVBQU0zRCxTQUFTckUsRUFBSyxTQUFXNkUsRUFBTW1ELEVBQU1wRCxRQUFRZixJQVloRixPQVRBN0QsRUFBTThJLEVBQWU5SSxHQUVyQjZFLEVBQUlyRixTQUFRLFNBQWNpTCxFQUFJQyxJQUMxQjFDLEVBQU14SixZQUFZaU0sSUFBYyxPQUFQQSxHQUFnQmpCLEVBQVNuSCxRQUV0QyxJQUFadUgsRUFBbUJiLEVBQVUsQ0FBQy9JLEdBQU0wSyxFQUFPekIsR0FBcUIsT0FBWlcsRUFBbUI1SixFQUFNQSxFQUFNLEtBQ25Ga0ssRUFBYU8sR0FFakIsS0FDTyxFQUlYLFFBQUk1QixFQUFZaEYsS0FJaEIyRixFQUFTbkgsT0FBTzBHLEVBQVVDLEVBQU1oSixFQUFLaUosR0FBT2lCLEVBQWFyRyxLQUVsRCxFQUNULENBRUEsTUFBTW9ELEVBQVEsR0FFUjBELEVBQWlCbk4sT0FBT3NHLE9BQU93RixFQUFZLENBQy9DUyxpQkFDQUcsZUFDQXJCLGdCQXlCRixJQUFLYixFQUFNbkosU0FBU1ksR0FDbEIsTUFBTSxJQUFJaUssVUFBVSwwQkFLdEIsT0E1QkEsU0FBU2tCLEVBQU0vRyxFQUFPbUYsR0FDcEIsSUFBSWhCLEVBQU14SixZQUFZcUYsR0FBdEIsQ0FFQSxJQUE4QixJQUExQm9ELEVBQU10QyxRQUFRZCxHQUNoQixNQUFNK0IsTUFBTSxrQ0FBb0NvRCxFQUFLSyxLQUFLLE1BRzVEcEMsRUFBTTNCLEtBQUt6QixHQUVYbUUsRUFBTXhJLFFBQVFxRSxHQUFPLFNBQWM0RyxFQUFJekssSUFLdEIsT0FKRWdJLEVBQU14SixZQUFZaU0sSUFBYyxPQUFQQSxJQUFnQlgsRUFBUTlMLEtBQ2hFd0wsRUFBVWlCLEVBQUl6QyxFQUFNdEosU0FBU3NCLEdBQU9BLEVBQUlvRCxPQUFTcEQsRUFBS2dKLEVBQU0yQixLQUk1REMsRUFBTUgsRUFBSXpCLEVBQU9BLEVBQUtFLE9BQU9sSixHQUFPLENBQUNBLEdBRXpDLElBRUFpSCxFQUFNNEQsS0FsQjhCLENBbUJ0QyxDQU1BRCxDQUFNbkwsR0FFQytKLENBQ1QsRUM1TUEsU0FBU3NCLEVBQU8vTSxHQUNkLE1BQU1nTixFQUFVLENBQ2QsSUFBSyxNQUNMLElBQUssTUFDTCxJQUFLLE1BQ0wsSUFBSyxNQUNMLElBQUssTUFDTCxNQUFPLElBQ1AsTUFBTyxNQUVULE9BQU9DLG1CQUFtQmpOLEdBQUtzRixRQUFRLG9CQUFvQixTQUFrQjRILEdBQzNFLE9BQU9GLEVBQVFFLEVBQ2pCLEdBQ0YsQ0FVQSxTQUFTQyxFQUFxQkMsRUFBUTFCLEdBQ3BDeE0sS0FBS21PLE9BQVMsR0FFZEQsR0FBVSxFQUFXQSxFQUFRbE8sS0FBTXdNLEVBQ3JDLENBRUEsTUFBTSxFQUFZeUIsRUFBcUJ6TixVQUV2QyxFQUFVNEUsT0FBUyxTQUFnQmQsRUFBTXNDLEdBQ3ZDNUcsS0FBS21PLE9BQU85RixLQUFLLENBQUMvRCxFQUFNc0MsR0FDMUIsRUFFQSxFQUFVdEcsU0FBVyxTQUFrQjhOLEdBQ3JDLE1BQU1DLEVBQVVELEVBQVUsU0FBU3hILEdBQ2pDLE9BQU93SCxFQUFRck4sS0FBS2YsS0FBTTRHLEVBQU9pSCxFQUNuQyxFQUFJQSxFQUVKLE9BQU83TixLQUFLbU8sT0FBT2pDLEtBQUksU0FBY2xFLEdBQ25DLE9BQU9xRyxFQUFRckcsRUFBSyxJQUFNLElBQU1xRyxFQUFRckcsRUFBSyxHQUMvQyxHQUFHLElBQUlvRSxLQUFLLElBQ2QsRUFFQSxRQzVDQSxTQUFTLEVBQU90SyxHQUNkLE9BQU9pTSxtQkFBbUJqTSxHQUN4QnNFLFFBQVEsUUFBUyxLQUNqQkEsUUFBUSxPQUFRLEtBQ2hCQSxRQUFRLFFBQVMsS0FDakJBLFFBQVEsT0FBUSxLQUNoQkEsUUFBUSxRQUFTLEtBQ2pCQSxRQUFRLFFBQVMsSUFDckIsQ0FXZSxTQUFTa0ksRUFBU0MsRUFBS0wsRUFBUTFCLEdBRTVDLElBQUswQixFQUNILE9BQU9LLEVBR1QsTUFBTUYsRUFBVTdCLEdBQVdBLEVBQVFxQixRQUFVLEVBRXZDVyxFQUFjaEMsR0FBV0EsRUFBUWlDLFVBRXZDLElBQUlDLEVBVUosR0FQRUEsRUFERUYsRUFDaUJBLEVBQVlOLEVBQVExQixHQUVwQnpCLEVBQU16SSxrQkFBa0I0TCxHQUN6Q0EsRUFBTzVOLFdBQ1AsSUFBSSxFQUFxQjROLEVBQVExQixHQUFTbE0sU0FBUytOLEdBR25ESyxFQUFrQixDQUNwQixNQUFNQyxFQUFnQkosRUFBSTdHLFFBQVEsTUFFWCxJQUFuQmlILElBQ0ZKLEVBQU1BLEVBQUl2TixNQUFNLEVBQUcyTixJQUVyQkosS0FBOEIsSUFBdEJBLEVBQUk3RyxRQUFRLEtBQWMsSUFBTSxLQUFPZ0gsQ0FDakQsQ0FFQSxPQUFPSCxDQUNULENDUUEsT0FsRUEsTUFDRSxXQUFBdkosR0FDRWhGLEtBQUs0TyxTQUFXLEVBQ2xCLENBVUEsR0FBQUMsQ0FBSUMsRUFBV0MsRUFBVXZDLEdBT3ZCLE9BTkF4TSxLQUFLNE8sU0FBU3ZHLEtBQUssQ0FDakJ5RyxZQUNBQyxXQUNBQyxjQUFheEMsR0FBVUEsRUFBUXdDLFlBQy9CQyxRQUFTekMsRUFBVUEsRUFBUXlDLFFBQVUsT0FFaENqUCxLQUFLNE8sU0FBU2pNLE9BQVMsQ0FDaEMsQ0FTQSxLQUFBdU0sQ0FBTUMsR0FDQW5QLEtBQUs0TyxTQUFTTyxLQUNoQm5QLEtBQUs0TyxTQUFTTyxHQUFNLEtBRXhCLENBT0EsS0FBQUMsR0FDTXBQLEtBQUs0TyxXQUNQNU8sS0FBSzRPLFNBQVcsR0FFcEIsQ0FZQSxPQUFBck0sQ0FBUXJDLEdBQ042SyxFQUFNeEksUUFBUXZDLEtBQUs0TyxVQUFVLFNBQXdCUyxHQUN6QyxPQUFOQSxHQUNGblAsRUFBR21QLEVBRVAsR0FDRixHQ2pFRixJQUNFQyxtQkFBbUIsRUFDbkJDLG1CQUFtQixFQUNuQkMscUJBQXFCLEdDRHZCLElBQ0VDLFdBQVcsRUFDWEMsUUFBUyxDQUNQQyxnQkNKc0Msb0JBQXBCQSxnQkFBa0NBLGdCQUFrQixFREt0RXhLLFNFTitCLG9CQUFiQSxTQUEyQkEsU0FBVyxLRk94RDZILEtHUDJCLG9CQUFUQSxLQUF1QkEsS0FBTyxNSFNsRDRDLFVBQVcsQ0FBQyxPQUFRLFFBQVMsT0FBUSxPQUFRLE1BQU8sU0lYdEQsTUFBTUMsR0FBa0Msb0JBQVh4TSxRQUE4QyxvQkFBYnlNLFNBbUJ4REMsSUFDSEMsR0FFdUIsb0JBQWRDLFdBQTZCQSxVQUFVRCxRQUR4Q0gsSUFBaUIsQ0FBQyxjQUFlLGVBQWdCLE1BQU1uSSxRQUFRc0ksSUFBVyxHQUZ2RCxJQUMzQkEsR0FhSCxNQUFNRSxHQUUyQixvQkFBdEJDLG1CQUVQL00sZ0JBQWdCK00sbUJBQ2MsbUJBQXZCL00sS0FBS2dOLGNDbkNoQixXQUNLLEtBQ0EsSUNzRkwsR0EzQ0EsU0FBd0I3RCxHQUN0QixTQUFTOEQsRUFBVXRFLEVBQU1uRixFQUFPdUQsRUFBUXNELEdBQ3RDLElBQUluSixFQUFPeUgsRUFBSzBCLEtBQ2hCLE1BQU02QyxFQUFlL0csT0FBT0MsVUFBVWxGLEdBQ2hDaU0sRUFBUzlDLEdBQVMxQixFQUFLcEosT0FHN0IsT0FGQTJCLEdBQVFBLEdBQVF5RyxFQUFNMUosUUFBUThJLEdBQVVBLEVBQU94SCxPQUFTMkIsRUFFcERpTSxHQUNFeEYsRUFBTXpDLFdBQVc2QixFQUFRN0YsR0FDM0I2RixFQUFPN0YsR0FBUSxDQUFDNkYsRUFBTzdGLEdBQU9zQyxHQUU5QnVELEVBQU83RixHQUFRc0MsR0FHVDBKLElBR0xuRyxFQUFPN0YsSUFBVXlHLEVBQU1uSixTQUFTdUksRUFBTzdGLE1BQzFDNkYsRUFBTzdGLEdBQVEsSUFHRitMLEVBQVV0RSxFQUFNbkYsRUFBT3VELEVBQU83RixHQUFPbUosSUFFdEMxQyxFQUFNMUosUUFBUThJLEVBQU83RixNQUNqQzZGLEVBQU83RixHQTVDYixTQUF1QnNELEdBQ3JCLE1BQU1wRixFQUFNLENBQUMsRUFDUEksRUFBT3JDLE9BQU9xQyxLQUFLZ0YsR0FDekIsSUFBSTdILEVBQ0osTUFBTStDLEVBQU1GLEVBQUtELE9BQ2pCLElBQUlJLEVBQ0osSUFBS2hELEVBQUksRUFBR0EsRUFBSStDLEVBQUsvQyxJQUNuQmdELEVBQU1ILEVBQUs3QyxHQUNYeUMsRUFBSU8sR0FBTzZFLEVBQUk3RSxHQUVqQixPQUFPUCxDQUNULENBaUNxQmdPLENBQWNyRyxFQUFPN0YsTUFHOUJnTSxFQUNWLENBRUEsR0FBSXZGLEVBQU05RixXQUFXc0gsSUFBYXhCLEVBQU1ySixXQUFXNkssRUFBU2tFLFNBQVUsQ0FDcEUsTUFBTWpPLEVBQU0sQ0FBQyxFQU1iLE9BSkF1SSxFQUFNbEQsYUFBYTBFLEdBQVUsQ0FBQ2pJLEVBQU1zQyxLQUNsQ3lKLEVBdkVOLFNBQXVCL0wsR0FLckIsT0FBT3lHLEVBQU05QyxTQUFTLGdCQUFpQjNELEdBQU00SCxLQUFJOEIsR0FDM0IsT0FBYkEsRUFBTSxHQUFjLEdBQUtBLEVBQU0sSUFBTUEsRUFBTSxJQUV0RCxDQStEZ0IwQyxDQUFjcE0sR0FBT3NDLEVBQU9wRSxFQUFLLEVBQUUsSUFHeENBLENBQ1QsQ0FFQSxPQUFPLElBQ1QsRUN0REEsTUFBTW1PLEdBQVcsQ0FFZkMsYUFBYyxHQUVkQyxRQUFTLENBQUMsTUFBTyxRQUVqQkMsaUJBQWtCLENBQUMsU0FBMEJDLEVBQU1DLEdBQ2pELE1BQU1DLEVBQWNELEVBQVFFLGtCQUFvQixHQUMxQ0MsRUFBcUJGLEVBQVl2SixRQUFRLHFCQUF1QixFQUNoRTBKLEVBQWtCckcsRUFBTW5KLFNBQVNtUCxHQVF2QyxHQU5JSyxHQUFtQnJHLEVBQU1uSCxXQUFXbU4sS0FDdENBLEVBQU8sSUFBSTVMLFNBQVM0TCxJQUdIaEcsRUFBTTlGLFdBQVc4TCxHQUdsQyxPQUFLSSxHQUdFQSxFQUFxQi9ELEtBQUtDLFVBQVUsR0FBZTBELElBRmpEQSxFQUtYLEdBQUloRyxFQUFNdkosY0FBY3VQLElBQ3RCaEcsRUFBTWhHLFNBQVNnTSxJQUNmaEcsRUFBTXBGLFNBQVNvTCxJQUNmaEcsRUFBTTVJLE9BQU80TyxJQUNiaEcsRUFBTTNJLE9BQU8yTyxHQUViLE9BQU9BLEVBRVQsR0FBSWhHLEVBQU0xRixrQkFBa0IwTCxHQUMxQixPQUFPQSxFQUFLdEwsT0FFZCxHQUFJc0YsRUFBTXpJLGtCQUFrQnlPLEdBRTFCLE9BREFDLEVBQVFLLGVBQWUsbURBQW1ELEdBQ25FTixFQUFLelEsV0FHZCxJQUFJK0IsRUFFSixHQUFJK08sRUFBaUIsQ0FDbkIsR0FBSUgsRUFBWXZKLFFBQVEsc0NBQXdDLEVBQzlELE9DekVPLFNBQTBCcUosRUFBTXZFLEdBQzdDLE9BQU8sRUFBV3VFLEVBQU0sSUFBSU8sR0FBUzVCLFFBQVFDLGdCQUFtQnBQLE9BQU9zRyxPQUFPLENBQzVFZ0csUUFBUyxTQUFTakcsRUFBTzdELEVBQUtnSixFQUFNd0YsR0FDbEMsT0FBSUQsR0FBU0UsUUFBVXpHLEVBQU1oRyxTQUFTNkIsSUFDcEM1RyxLQUFLb0YsT0FBT3JDLEVBQUs2RCxFQUFNdEcsU0FBUyxZQUN6QixHQUdGaVIsRUFBUXpFLGVBQWUxTSxNQUFNSixLQUFNSyxVQUM1QyxHQUNDbU0sR0FDTCxDRDhEZWlGLENBQWlCVixFQUFNL1EsS0FBSzBSLGdCQUFnQnBSLFdBR3JELElBQUsrQixFQUFhMEksRUFBTTFJLFdBQVcwTyxLQUFVRSxFQUFZdkosUUFBUSx3QkFBMEIsRUFBRyxDQUM1RixNQUFNaUssRUFBWTNSLEtBQUs0UixLQUFPNVIsS0FBSzRSLElBQUl6TSxTQUV2QyxPQUFPLEVBQ0w5QyxFQUFhLENBQUMsVUFBVzBPLEdBQVFBLEVBQ2pDWSxHQUFhLElBQUlBLEVBQ2pCM1IsS0FBSzBSLGVBRVQsQ0FDRixDQUVBLE9BQUlOLEdBQW1CRCxHQUNyQkgsRUFBUUssZUFBZSxvQkFBb0IsR0ExRWpELFNBQXlCUSxFQUFVQyxFQUFRMUQsR0FDekMsR0FBSXJELEVBQU10SixTQUFTb1EsR0FDakIsSUFFRSxPQURBLEVBQVd6RSxLQUFLMkUsT0FBT0YsR0FDaEI5RyxFQUFNNUUsS0FBSzBMLEVBQ3BCLENBQUUsTUFBT0csR0FDUCxHQUFlLGdCQUFYQSxFQUFFMU4sS0FDSixNQUFNME4sQ0FFVixDQUdGLE9BQU8sRUFBWTVFLEtBQUtDLFdBQVd3RSxFQUNyQyxDQThEYUksQ0FBZ0JsQixJQUdsQkEsQ0FDVCxHQUVBbUIsa0JBQW1CLENBQUMsU0FBMkJuQixHQUM3QyxNQUFNSCxFQUFlNVEsS0FBSzRRLGNBQWdCRCxHQUFTQyxhQUM3Q3JCLEVBQW9CcUIsR0FBZ0JBLEVBQWFyQixrQkFDakQ0QyxFQUFzQyxTQUF0Qm5TLEtBQUtvUyxhQUUzQixHQUFJckIsR0FBUWhHLEVBQU10SixTQUFTc1AsS0FBV3hCLElBQXNCdlAsS0FBS29TLGNBQWlCRCxHQUFnQixDQUNoRyxNQUNNRSxJQURvQnpCLEdBQWdCQSxFQUFhdEIsb0JBQ1A2QyxFQUVoRCxJQUNFLE9BQU8vRSxLQUFLMkUsTUFBTWhCLEVBQ3BCLENBQUUsTUFBT2lCLEdBQ1AsR0FBSUssRUFBbUIsQ0FDckIsR0FBZSxnQkFBWEwsRUFBRTFOLEtBQ0osTUFBTSxFQUFXaUgsS0FBS3lHLEVBQUcsRUFBV00saUJBQWtCdFMsS0FBTSxLQUFNQSxLQUFLNkssVUFFekUsTUFBTW1ILENBQ1IsQ0FDRixDQUNGLENBRUEsT0FBT2pCLENBQ1QsR0FNQXdCLFFBQVMsRUFFVEMsZUFBZ0IsYUFDaEJDLGVBQWdCLGVBRWhCQyxrQkFBbUIsRUFDbkJDLGVBQWdCLEVBRWhCZixJQUFLLENBQ0h6TSxTQUFVbU0sR0FBUzVCLFFBQVF2SyxTQUMzQjZILEtBQU1zRSxHQUFTNUIsUUFBUTFDLE1BR3pCNEYsZUFBZ0IsU0FBd0J0SCxHQUN0QyxPQUFPQSxHQUFVLEtBQU9BLEVBQVMsR0FDbkMsRUFFQTBGLFFBQVMsQ0FDUDZCLE9BQVEsQ0FDTixPQUFVLG9DQUNWLG9CQUFnQnJMLEtBS3RCdUQsRUFBTXhJLFFBQVEsQ0FBQyxTQUFVLE1BQU8sT0FBUSxPQUFRLE1BQU8sVUFBV3VRLElBQ2hFbkMsR0FBU0ssUUFBUThCLEdBQVUsQ0FBQyxDQUFDLElBRy9CLFVFeEpBLE1BQU1DLEdBQW9CaEksRUFBTW5DLFlBQVksQ0FDMUMsTUFBTyxnQkFBaUIsaUJBQWtCLGVBQWdCLE9BQzFELFVBQVcsT0FBUSxPQUFRLG9CQUFxQixzQkFDaEQsZ0JBQWlCLFdBQVksZUFBZ0Isc0JBQzdDLFVBQVcsY0FBZSxlQ0x0Qm9LLEdBQWFqUixPQUFPLGFBRTFCLFNBQVNrUixHQUFnQkMsR0FDdkIsT0FBT0EsR0FBVTNMLE9BQU8yTCxHQUFRL00sT0FBT2xGLGFBQ3pDLENBRUEsU0FBU2tTLEdBQWV2TSxHQUN0QixPQUFjLElBQVZBLEdBQTRCLE1BQVRBLEVBQ2RBLEVBR0ZtRSxFQUFNMUosUUFBUXVGLEdBQVNBLEVBQU1zRixJQUFJaUgsSUFBa0I1TCxPQUFPWCxFQUNuRSxDQWdCQSxTQUFTd00sR0FBaUI1UCxFQUFTb0QsRUFBT3NNLEVBQVFqTSxFQUFRb00sR0FDeEQsT0FBSXRJLEVBQU1ySixXQUFXdUYsR0FDWkEsRUFBT2xHLEtBQUtmLEtBQU00RyxFQUFPc00sSUFHOUJHLElBQ0Z6TSxFQUFRc00sR0FHTG5JLEVBQU10SixTQUFTbUYsR0FFaEJtRSxFQUFNdEosU0FBU3dGLElBQ2lCLElBQTNCTCxFQUFNYyxRQUFRVCxHQUduQjhELEVBQU1oSCxTQUFTa0QsR0FDVkEsRUFBT3FGLEtBQUsxRixRQURyQixPQU5BLEVBU0YsQ0FzQkEsTUFBTTBNLEdBQ0osV0FBQXRPLENBQVlnTSxHQUNWQSxHQUFXaFIsS0FBSzBJLElBQUlzSSxFQUN0QixDQUVBLEdBQUF0SSxDQUFJd0ssRUFBUUssRUFBZ0JDLEdBQzFCLE1BQU1wUSxFQUFPcEQsS0FFYixTQUFTeVQsRUFBVUMsRUFBUUMsRUFBU0MsR0FDbEMsTUFBTUMsRUFBVVosR0FBZ0JVLEdBRWhDLElBQUtFLEVBQ0gsTUFBTSxJQUFJbEwsTUFBTSwwQ0FHbEIsTUFBTTVGLEVBQU1nSSxFQUFNL0gsUUFBUUksRUFBTXlRLEtBRTVCOVEsUUFBcUJ5RSxJQUFkcEUsRUFBS0wsS0FBbUMsSUFBYjZRLFFBQW1DcE0sSUFBYm9NLElBQXdDLElBQWR4USxFQUFLTCxNQUN6RkssRUFBS0wsR0FBTzRRLEdBQVdSLEdBQWVPLEdBRTFDLENBRUEsTUFBTUksRUFBYSxDQUFDOUMsRUFBUzRDLElBQzNCN0ksRUFBTXhJLFFBQVF5TyxHQUFTLENBQUMwQyxFQUFRQyxJQUFZRixFQUFVQyxFQUFRQyxFQUFTQyxLQVV6RSxPQVJJN0ksRUFBTWxKLGNBQWNxUixJQUFXQSxhQUFrQmxULEtBQUtnRixZQUN4RDhPLEVBQVdaLEVBQVFLLEdBQ1h4SSxFQUFNdEosU0FBU3lSLEtBQVlBLEVBQVNBLEVBQU8vTSxVQXJFdEIsaUNBQWlDbUcsS0FxRW1CNEcsRUFyRVYvTSxRQXNFdkUyTixFRDFFTixDQUFlQyxJQUNiLE1BQU1DLEVBQVMsQ0FBQyxFQUNoQixJQUFJalIsRUFDQWpCLEVBQ0EvQixFQXNCSixPQXBCQWdVLEdBQWNBLEVBQVdoTCxNQUFNLE1BQU14RyxTQUFRLFNBQWdCMFIsR0FDM0RsVSxFQUFJa1UsRUFBS3ZNLFFBQVEsS0FDakIzRSxFQUFNa1IsRUFBS0MsVUFBVSxFQUFHblUsR0FBR29HLE9BQU9sRixjQUNsQ2EsRUFBTW1TLEVBQUtDLFVBQVVuVSxFQUFJLEdBQUdvRyxRQUV2QnBELEdBQVFpUixFQUFPalIsSUFBUWdRLEdBQWtCaFEsS0FJbEMsZUFBUkEsRUFDRWlSLEVBQU9qUixHQUNUaVIsRUFBT2pSLEdBQUtzRixLQUFLdkcsR0FFakJrUyxFQUFPalIsR0FBTyxDQUFDakIsR0FHakJrUyxFQUFPalIsR0FBT2lSLEVBQU9qUixHQUFPaVIsRUFBT2pSLEdBQU8sS0FBT2pCLEVBQU1BLEVBRTNELElBRU9rUyxDQUNSLEVDK0NnQkcsQ0FBYWpCLEdBQVNLLEdBRXZCLE1BQVZMLEdBQWtCTyxFQUFVRixFQUFnQkwsRUFBUU0sR0FHL0N4VCxJQUNULENBRUEsR0FBQW9VLENBQUlsQixFQUFRcEIsR0FHVixHQUZBb0IsRUFBU0QsR0FBZ0JDLEdBRWIsQ0FDVixNQUFNblEsRUFBTWdJLEVBQU0vSCxRQUFRaEQsS0FBTWtULEdBRWhDLEdBQUluUSxFQUFLLENBQ1AsTUFBTTZELEVBQVE1RyxLQUFLK0MsR0FFbkIsSUFBSytPLEVBQ0gsT0FBT2xMLEVBR1QsSUFBZSxJQUFYa0wsRUFDRixPQXhHVixTQUFxQmhSLEdBQ25CLE1BQU11VCxFQUFTOVQsT0FBT0ssT0FBTyxNQUN2QjBULEVBQVcsbUNBQ2pCLElBQUl0RyxFQUVKLEtBQVFBLEVBQVFzRyxFQUFTbE0sS0FBS3RILElBQzVCdVQsRUFBT3JHLEVBQU0sSUFBTUEsRUFBTSxHQUczQixPQUFPcUcsQ0FDVCxDQThGaUJFLENBQVkzTixHQUdyQixHQUFJbUUsRUFBTXJKLFdBQVdvUSxHQUNuQixPQUFPQSxFQUFPL1EsS0FBS2YsS0FBTTRHLEVBQU83RCxHQUdsQyxHQUFJZ0ksRUFBTWhILFNBQVMrTixHQUNqQixPQUFPQSxFQUFPMUosS0FBS3hCLEdBR3JCLE1BQU0sSUFBSTZGLFVBQVUseUNBQ3RCLENBQ0YsQ0FDRixDQUVBLEdBQUErSCxDQUFJdEIsRUFBUXVCLEdBR1YsR0FGQXZCLEVBQVNELEdBQWdCQyxHQUViLENBQ1YsTUFBTW5RLEVBQU1nSSxFQUFNL0gsUUFBUWhELEtBQU1rVCxHQUVoQyxTQUFVblEsUUFBcUJ5RSxJQUFkeEgsS0FBSytDLElBQXdCMFIsSUFBV3JCLEdBQWlCcFQsRUFBTUEsS0FBSytDLEdBQU1BLEVBQUswUixHQUNsRyxDQUVBLE9BQU8sQ0FDVCxDQUVBLE9BQU92QixFQUFRdUIsR0FDYixNQUFNclIsRUFBT3BELEtBQ2IsSUFBSTBVLEdBQVUsRUFFZCxTQUFTQyxFQUFhaEIsR0FHcEIsR0FGQUEsRUFBVVYsR0FBZ0JVLEdBRWIsQ0FDWCxNQUFNNVEsRUFBTWdJLEVBQU0vSCxRQUFRSSxFQUFNdVEsSUFFNUI1USxHQUFTMFIsSUFBV3JCLEdBQWlCaFEsRUFBTUEsRUFBS0wsR0FBTUEsRUFBSzBSLFlBQ3REclIsRUFBS0wsR0FFWjJSLEdBQVUsRUFFZCxDQUNGLENBUUEsT0FOSTNKLEVBQU0xSixRQUFRNlIsR0FDaEJBLEVBQU8zUSxRQUFRb1MsR0FFZkEsRUFBYXpCLEdBR1J3QixDQUNULENBRUEsS0FBQXRGLENBQU1xRixHQUNKLE1BQU03UixFQUFPckMsT0FBT3FDLEtBQUs1QyxNQUN6QixJQUFJRCxFQUFJNkMsRUFBS0QsT0FDVCtSLEdBQVUsRUFFZCxLQUFPM1UsS0FBSyxDQUNWLE1BQU1nRCxFQUFNSCxFQUFLN0MsR0FDYjBVLElBQVdyQixHQUFpQnBULEVBQU1BLEtBQUsrQyxHQUFNQSxFQUFLMFIsR0FBUyxZQUN0RHpVLEtBQUsrQyxHQUNaMlIsR0FBVSxFQUVkLENBRUEsT0FBT0EsQ0FDVCxDQUVBLFNBQUFFLENBQVVDLEdBQ1IsTUFBTXpSLEVBQU9wRCxLQUNQZ1IsRUFBVSxDQUFDLEVBc0JqQixPQXBCQWpHLEVBQU14SSxRQUFRdkMsTUFBTSxDQUFDNEcsRUFBT3NNLEtBQzFCLE1BQU1uUSxFQUFNZ0ksRUFBTS9ILFFBQVFnTyxFQUFTa0MsR0FFbkMsR0FBSW5RLEVBR0YsT0FGQUssRUFBS0wsR0FBT29RLEdBQWV2TSxlQUNwQnhELEVBQUs4UCxHQUlkLE1BQU00QixFQUFhRCxFQTFKekIsU0FBc0IzQixHQUNwQixPQUFPQSxFQUFPL00sT0FDWGxGLGNBQWNtRixRQUFRLG1CQUFtQixDQUFDMk8sRUFBR0MsRUFBTWxVLElBQzNDa1UsRUFBS25RLGNBQWdCL0QsR0FFbEMsQ0FxSmtDbVUsQ0FBYS9CLEdBQVUzTCxPQUFPMkwsR0FBUS9NLE9BRTlEMk8sSUFBZTVCLFVBQ1Y5UCxFQUFLOFAsR0FHZDlQLEVBQUswUixHQUFjM0IsR0FBZXZNLEdBRWxDb0ssRUFBUThELElBQWMsQ0FBSSxJQUdyQjlVLElBQ1QsQ0FFQSxNQUFBaU0sSUFBVWlKLEdBQ1IsT0FBT2xWLEtBQUtnRixZQUFZaUgsT0FBT2pNLFFBQVNrVixFQUMxQyxDQUVBLE1BQUFsSyxDQUFPbUssR0FDTCxNQUFNM1MsRUFBTWpDLE9BQU9LLE9BQU8sTUFNMUIsT0FKQW1LLEVBQU14SSxRQUFRdkMsTUFBTSxDQUFDNEcsRUFBT3NNLEtBQ2pCLE1BQVR0TSxJQUEyQixJQUFWQSxJQUFvQnBFLEVBQUkwUSxHQUFVaUMsR0FBYXBLLEVBQU0xSixRQUFRdUYsR0FBU0EsRUFBTXdGLEtBQUssTUFBUXhGLEVBQU0sSUFHM0dwRSxDQUNULENBRUEsQ0FBQ1QsT0FBT0UsWUFDTixPQUFPMUIsT0FBT2tRLFFBQVF6USxLQUFLZ0wsVUFBVWpKLE9BQU9FLFdBQzlDLENBRUEsUUFBQTNCLEdBQ0UsT0FBT0MsT0FBT2tRLFFBQVF6USxLQUFLZ0wsVUFBVWtCLEtBQUksRUFBRWdILEVBQVF0TSxLQUFXc00sRUFBUyxLQUFPdE0sSUFBT3dGLEtBQUssS0FDNUYsQ0FFQSxJQUFLckssT0FBT0MsZUFDVixNQUFPLGNBQ1QsQ0FFQSxXQUFPdUosQ0FBSzFLLEdBQ1YsT0FBT0EsYUFBaUJiLEtBQU9hLEVBQVEsSUFBSWIsS0FBS2EsRUFDbEQsQ0FFQSxhQUFPb0wsQ0FBT21KLEtBQVVGLEdBQ3RCLE1BQU1HLEVBQVcsSUFBSXJWLEtBQUtvVixHQUkxQixPQUZBRixFQUFRM1MsU0FBUzRILEdBQVdrTCxFQUFTM00sSUFBSXlCLEtBRWxDa0wsQ0FDVCxDQUVBLGVBQU9DLENBQVNwQyxHQUNkLE1BSU1xQyxHQUpZdlYsS0FBS2dULElBQWVoVCxLQUFLZ1QsSUFBYyxDQUN2RHVDLFVBQVcsQ0FBQyxJQUdjQSxVQUN0Qi9VLEVBQVlSLEtBQUtRLFVBRXZCLFNBQVNnVixFQUFlN0IsR0FDdEIsTUFBTUUsRUFBVVosR0FBZ0JVLEdBRTNCNEIsRUFBVTFCLEtBbE5yQixTQUF3QnJSLEVBQUswUSxHQUMzQixNQUFNdUMsRUFBZTFLLEVBQU0vQixZQUFZLElBQU1rSyxHQUU3QyxDQUFDLE1BQU8sTUFBTyxPQUFPM1EsU0FBUW1ULElBQzVCblYsT0FBT29HLGVBQWVuRSxFQUFLa1QsRUFBYUQsRUFBYyxDQUNwRDdPLE1BQU8sU0FBUytPLEVBQU1DLEVBQU1DLEdBQzFCLE9BQU83VixLQUFLMFYsR0FBWTNVLEtBQUtmLEtBQU1rVCxFQUFReUMsRUFBTUMsRUFBTUMsRUFDekQsRUFDQUMsY0FBYyxHQUNkLEdBRU4sQ0F3TVFDLENBQWV2VixFQUFXbVQsR0FDMUI0QixFQUFVMUIsSUFBVyxFQUV6QixDQUlBLE9BRkE5SSxFQUFNMUosUUFBUTZSLEdBQVVBLEVBQU8zUSxRQUFRaVQsR0FBa0JBLEVBQWV0QyxHQUVqRWxULElBQ1QsRUFHRnNULEdBQWFnQyxTQUFTLENBQUMsZUFBZ0IsaUJBQWtCLFNBQVUsa0JBQW1CLGFBQWMsa0JBR3BHdkssRUFBTS9HLGtCQUFrQnNQLEdBQWE5UyxXQUFXLEVBQUVvRyxTQUFRN0QsS0FDeEQsSUFBSWlULEVBQVNqVCxFQUFJLEdBQUc4QixjQUFnQjlCLEVBQUkvQixNQUFNLEdBQzlDLE1BQU8sQ0FDTG9ULElBQUssSUFBTXhOLEVBQ1gsR0FBQThCLENBQUl1TixHQUNGalcsS0FBS2dXLEdBQVVDLENBQ2pCLEVBQ0YsSUFHRmxMLEVBQU14QyxjQUFjK0ssSUFFcEIsVUMzUmUsU0FBUzRDLEdBQWNDLEVBQUt0TCxHQUN6QyxNQUFNRixFQUFTM0ssTUFBUSxHQUNqQndELEVBQVVxSCxHQUFZRixFQUN0QnFHLEVBQVUsR0FBYXpGLEtBQUsvSCxFQUFRd04sU0FDMUMsSUFBSUQsRUFBT3ZOLEVBQVF1TixLQVFuQixPQU5BaEcsRUFBTXhJLFFBQVE0VCxHQUFLLFNBQW1CalcsR0FDcEM2USxFQUFPN1EsRUFBR2EsS0FBSzRKLEVBQVFvRyxFQUFNQyxFQUFRNEQsWUFBYS9KLEVBQVdBLEVBQVNTLFlBQVM5RCxFQUNqRixJQUVBd0osRUFBUTRELFlBRUQ3RCxDQUNULENDekJlLFNBQVNxRixHQUFTeFAsR0FDL0IsU0FBVUEsSUFBU0EsRUFBTXlQLFdBQzNCLENDVUEsU0FBU0MsR0FBYzdMLEVBQVNFLEVBQVFDLEdBRXRDLEVBQVc3SixLQUFLZixLQUFpQixNQUFYeUssRUFBa0IsV0FBYUEsRUFBUyxFQUFXOEwsYUFBYzVMLEVBQVFDLEdBQy9GNUssS0FBS3NFLEtBQU8sZUFDZCxDQUVBeUcsRUFBTXZFLFNBQVM4UCxHQUFlLEVBQVksQ0FDeENELFlBQVksSUFHZCxVQ3JCQSxHQUFlL0UsR0FBU3ZCLHNCQUd0QixDQUNFLEtBQUF5RyxDQUFNbFMsRUFBTXNDLEVBQU82UCxFQUFTMUssRUFBTTJLLEVBQVFDLEdBQ3hDLE1BQU1DLEVBQVMsQ0FBQ3RTLEVBQU8sSUFBTXlKLG1CQUFtQm5ILElBRWhEbUUsRUFBTXBKLFNBQVM4VSxJQUFZRyxFQUFPdk8sS0FBSyxXQUFhLElBQUl3TyxLQUFLSixHQUFTSyxlQUV0RS9MLEVBQU10SixTQUFTc0ssSUFBUzZLLEVBQU92TyxLQUFLLFFBQVUwRCxHQUU5Q2hCLEVBQU10SixTQUFTaVYsSUFBV0UsRUFBT3ZPLEtBQUssVUFBWXFPLElBRXZDLElBQVhDLEdBQW1CQyxFQUFPdk8sS0FBSyxVQUUvQnlILFNBQVM4RyxPQUFTQSxFQUFPeEssS0FBSyxLQUNoQyxFQUVBLElBQUEySyxDQUFLelMsR0FDSCxNQUFNMEosRUFBUThCLFNBQVM4RyxPQUFPNUksTUFBTSxJQUFJZ0osT0FBTyxhQUFlMVMsRUFBTyxjQUNyRSxPQUFRMEosRUFBUWlKLG1CQUFtQmpKLEVBQU0sSUFBTSxJQUNqRCxFQUVBLE1BQUFrSixDQUFPNVMsR0FDTHRFLEtBQUt3VyxNQUFNbFMsRUFBTSxHQUFJdVMsS0FBS00sTUFBUSxNQUNwQyxHQU1GLENBQ0UsS0FBQVgsR0FBUyxFQUNULElBQUFPLEdBQ0UsT0FBTyxJQUNULEVBQ0EsTUFBQUcsR0FBVSxHQ3hCQyxTQUFTRSxHQUFjQyxFQUFTQyxHQUM3QyxPQUFJRCxJQ0hHLDhCQUE4Qi9LLEtER1BnTCxHRU5qQixTQUFxQkQsRUFBU0UsR0FDM0MsT0FBT0EsRUFDSEYsRUFBUWpSLFFBQVEsT0FBUSxJQUFNLElBQU1tUixFQUFZblIsUUFBUSxPQUFRLElBQ2hFaVIsQ0FDTixDRkdXRyxDQUFZSCxFQUFTQyxHQUV2QkEsQ0FDVCxDR2ZBLE9BQWVoRyxHQUFTdkIsc0JBSXRCLFdBQ0UsTUFBTTBILEVBQU8sa0JBQWtCbkwsS0FBSzJELFVBQVV5SCxXQUN4Q0MsRUFBaUI3SCxTQUFTOEgsY0FBYyxLQUM5QyxJQUFJQyxFQVFKLFNBQVNDLEVBQVd2SixHQUNsQixJQUFJd0osRUFBT3hKLEVBV1gsT0FUSWtKLElBRUZFLEVBQWVLLGFBQWEsT0FBUUQsR0FDcENBLEVBQU9KLEVBQWVJLE1BR3hCSixFQUFlSyxhQUFhLE9BQVFELEdBRzdCLENBQ0xBLEtBQU1KLEVBQWVJLEtBQ3JCRSxTQUFVTixFQUFlTSxTQUFXTixFQUFlTSxTQUFTN1IsUUFBUSxLQUFNLElBQU0sR0FDaEY4UixLQUFNUCxFQUFlTyxLQUNyQkMsT0FBUVIsRUFBZVEsT0FBU1IsRUFBZVEsT0FBTy9SLFFBQVEsTUFBTyxJQUFNLEdBQzNFZ1MsS0FBTVQsRUFBZVMsS0FBT1QsRUFBZVMsS0FBS2hTLFFBQVEsS0FBTSxJQUFNLEdBQ3BFaVMsU0FBVVYsRUFBZVUsU0FDekJDLEtBQU1YLEVBQWVXLEtBQ3JCQyxTQUFpRCxNQUF0Q1osRUFBZVksU0FBU0MsT0FBTyxHQUN4Q2IsRUFBZVksU0FDZixJQUFNWixFQUFlWSxTQUUzQixDQVVBLE9BUkFWLEVBQVlDLEVBQVd6VSxPQUFPb1YsU0FBU1YsTUFRaEMsU0FBeUJXLEdBQzlCLE1BQU0xRSxFQUFVakosRUFBTXRKLFNBQVNpWCxHQUFlWixFQUFXWSxHQUFjQSxFQUN2RSxPQUFRMUUsRUFBT2lFLFdBQWFKLEVBQVVJLFVBQ2xDakUsRUFBT2tFLE9BQVNMLEVBQVVLLElBQ2hDLENBQ0QsQ0FsREQsR0FzRFMsV0FDTCxPQUFPLENBQ1QsRUNqREosU0FBU1MsR0FBcUJDLEVBQVVDLEdBQ3RDLElBQUlDLEVBQWdCLEVBQ3BCLE1BQU1DLEVDVlIsU0FBcUJDLEVBQWNDLEdBQ2pDRCxFQUFlQSxHQUFnQixHQUMvQixNQUFNRSxFQUFRLElBQUk1WCxNQUFNMFgsR0FDbEJHLEVBQWEsSUFBSTdYLE1BQU0wWCxHQUM3QixJQUVJSSxFQUZBQyxFQUFPLEVBQ1BDLEVBQU8sRUFLWCxPQUZBTCxPQUFjelIsSUFBUnlSLEVBQW9CQSxFQUFNLElBRXpCLFNBQWNNLEdBQ25CLE1BQU1wQyxFQUFNTixLQUFLTSxNQUVYcUMsRUFBWUwsRUFBV0csR0FFeEJGLElBQ0hBLEVBQWdCakMsR0FHbEIrQixFQUFNRyxHQUFRRSxFQUNkSixFQUFXRSxHQUFRbEMsRUFFbkIsSUFBSXBYLEVBQUl1WixFQUNKRyxFQUFhLEVBRWpCLEtBQU8xWixJQUFNc1osR0FDWEksR0FBY1AsRUFBTW5aLEtBQ3BCQSxHQUFRaVosRUFTVixHQU5BSyxHQUFRQSxFQUFPLEdBQUtMLEVBRWhCSyxJQUFTQyxJQUNYQSxHQUFRQSxFQUFPLEdBQUtOLEdBR2xCN0IsRUFBTWlDLEVBQWdCSCxFQUN4QixPQUdGLE1BQU1TLEVBQVNGLEdBQWFyQyxFQUFNcUMsRUFFbEMsT0FBT0UsRUFBUzlQLEtBQUsrUCxNQUFtQixJQUFiRixFQUFvQkMsUUFBVWxTLENBQzNELENBQ0YsQ0RsQ3VCLENBQVksR0FBSSxLQUVyQyxPQUFPd0ssSUFDTCxNQUFNNEgsRUFBUzVILEVBQUU0SCxPQUNYQyxFQUFRN0gsRUFBRThILGlCQUFtQjlILEVBQUU2SCxXQUFRclMsRUFDdkN1UyxFQUFnQkgsRUFBU2QsRUFDekJrQixFQUFPakIsRUFBYWdCLEdBRzFCakIsRUFBZ0JjLEVBRWhCLE1BQU03SSxFQUFPLENBQ1g2SSxTQUNBQyxRQUNBSSxTQUFVSixFQUFTRCxFQUFTQyxPQUFTclMsRUFDckMwUixNQUFPYSxFQUNQQyxLQUFNQSxRQUFjeFMsRUFDcEIwUyxVQUFXRixHQUFRSCxHQVZMRCxHQUFVQyxHQVVlQSxFQUFRRCxHQUFVSSxPQUFPeFMsRUFDaEUyUyxNQUFPbkksR0FHVGpCLEVBQUs4SCxFQUFtQixXQUFhLFdBQVksRUFFakRELEVBQVM3SCxFQUFLLENBRWxCLENFdENBLE1BQU1xSixHQUFnQixDQUNwQkMsS0NMRixLRE1FQyxJRnNDc0Qsb0JBQW5CQyxnQkFFRyxTQUFVNVAsR0FDaEQsT0FBTyxJQUFJNlAsU0FBUSxTQUE0QkMsRUFBU0MsR0FDdEQsSUFBSUMsRUFBY2hRLEVBQU9vRyxLQUN6QixNQUFNNkosRUFBaUIsR0FBYXJQLEtBQUtaLEVBQU9xRyxTQUFTNEQsWUFDekQsSUFDSWlHLEVBV0E1SixHQVpBLGFBQUNtQixFQUFZLGNBQUUwSSxHQUFpQm5RLEVBRXBDLFNBQVM1QyxJQUNINEMsRUFBT29RLGFBQ1RwUSxFQUFPb1EsWUFBWUMsWUFBWUgsR0FHN0JsUSxFQUFPc1EsUUFDVHRRLEVBQU9zUSxPQUFPQyxvQkFBb0IsUUFBU0wsRUFFL0MsQ0FJQSxHQUFJOVAsRUFBTTlGLFdBQVcwVixHQUNuQixHQUFJckosR0FBU3ZCLHVCQUF5QnVCLEdBQVNwQiwrQkFDN0MwSyxFQUFldkosZ0JBQWUsUUFDekIsSUFBd0QsS0FBbkRKLEVBQWMySixFQUFlMUosa0JBQTZCLENBRXBFLE1BQU8vUCxLQUFTa1QsR0FBVXBELEVBQWNBLEVBQVlsSSxNQUFNLEtBQUttRCxLQUFJQyxHQUFTQSxFQUFNaEcsU0FBUWMsT0FBT2tVLFNBQVcsR0FDNUdQLEVBQWV2SixlQUFlLENBQUNsUSxHQUFRLHlCQUEwQmtULEdBQVFqSSxLQUFLLE1BQ2hGLENBR0YsSUFBSXhCLEVBQVUsSUFBSTJQLGVBR2xCLEdBQUk1UCxFQUFPeVEsS0FBTSxDQUNmLE1BQU1DLEVBQVcxUSxFQUFPeVEsS0FBS0MsVUFBWSxHQUNuQ0MsRUFBVzNRLEVBQU95USxLQUFLRSxTQUFXQyxTQUFTeE4sbUJBQW1CcEQsRUFBT3lRLEtBQUtFLFdBQWEsR0FDN0ZWLEVBQWVsUyxJQUFJLGdCQUFpQixTQUFXOFMsS0FBS0gsRUFBVyxJQUFNQyxHQUN2RSxDQUVBLE1BQU1HLEVBQVdyRSxHQUFjek0sRUFBTzBNLFFBQVMxTSxFQUFPNEQsS0FPdEQsU0FBU21OLElBQ1AsSUFBSzlRLEVBQ0gsT0FHRixNQUFNK1EsRUFBa0IsR0FBYXBRLEtBQ25DLDBCQUEyQlgsR0FBV0EsRUFBUWdSLDBCSXBGdkMsU0FBZ0JuQixFQUFTQyxFQUFRN1AsR0FDOUMsTUFBTStILEVBQWlCL0gsRUFBU0YsT0FBT2lJLGVBQ2xDL0gsRUFBU1MsUUFBV3NILElBQWtCQSxFQUFlL0gsRUFBU1MsUUFHakVvUCxFQUFPLElBQUksRUFDVCxtQ0FBcUM3UCxFQUFTUyxPQUM5QyxDQUFDLEVBQVd1USxnQkFBaUIsRUFBV3ZKLGtCQUFrQjFJLEtBQUtrUyxNQUFNalIsRUFBU1MsT0FBUyxLQUFPLEdBQzlGVCxFQUFTRixPQUNURSxFQUFTRCxRQUNUQyxJQVBGNFAsRUFBUTVQLEVBVVosQ0pvRk1rUixFQUFPLFNBQWtCblYsR0FDdkI2VCxFQUFRN1QsR0FDUm1CLEdBQ0YsSUFBRyxTQUFpQmlVLEdBQ2xCdEIsRUFBT3NCLEdBQ1BqVSxHQUNGLEdBZmlCLENBQ2ZnSixLQUhvQnFCLEdBQWlDLFNBQWpCQSxHQUE0QyxTQUFqQkEsRUFDeEN4SCxFQUFRQyxTQUEvQkQsRUFBUXFSLGFBR1IzUSxPQUFRVixFQUFRVSxPQUNoQjRRLFdBQVl0UixFQUFRc1IsV0FDcEJsTCxRQUFTMkssRUFDVGhSLFNBQ0FDLFlBWUZBLEVBQVUsSUFDWixDQW1FQSxHQXJHQUEsRUFBUXVSLEtBQUt4UixFQUFPbUksT0FBT2pPLGNBQWV5SixFQUFTbU4sRUFBVTlRLEVBQU91RCxPQUFRdkQsRUFBT3lSLG1CQUFtQixHQUd0R3hSLEVBQVEySCxRQUFVNUgsRUFBTzRILFFBaUNyQixjQUFlM0gsRUFFakJBLEVBQVE4USxVQUFZQSxFQUdwQjlRLEVBQVF5UixtQkFBcUIsV0FDdEJ6UixHQUFrQyxJQUF2QkEsRUFBUTBSLGFBUUQsSUFBbkIxUixFQUFRVSxRQUFrQlYsRUFBUTJSLGFBQXdELElBQXpDM1IsRUFBUTJSLFlBQVk3VSxRQUFRLFdBS2pGOFUsV0FBV2QsRUFDYixFQUlGOVEsRUFBUTZSLFFBQVUsV0FDWDdSLElBSUw4UCxFQUFPLElBQUksRUFBVyxrQkFBbUIsRUFBV2dDLGFBQWMvUixFQUFRQyxJQUcxRUEsRUFBVSxLQUNaLEVBR0FBLEVBQVErUixRQUFVLFdBR2hCakMsRUFBTyxJQUFJLEVBQVcsZ0JBQWlCLEVBQVdrQyxZQUFhalMsRUFBUUMsSUFHdkVBLEVBQVUsSUFDWixFQUdBQSxFQUFRaVMsVUFBWSxXQUNsQixJQUFJQyxFQUFzQm5TLEVBQU80SCxRQUFVLGNBQWdCNUgsRUFBTzRILFFBQVUsY0FBZ0IsbUJBQzVGLE1BQU0zQixFQUFlakcsRUFBT2lHLGNBQWdCLEdBQ3hDakcsRUFBT21TLHNCQUNUQSxFQUFzQm5TLEVBQU9tUyxxQkFFL0JwQyxFQUFPLElBQUksRUFDVG9DLEVBQ0FsTSxFQUFhcEIsb0JBQXNCLEVBQVd1TixVQUFZLEVBQVdMLGFBQ3JFL1IsRUFDQUMsSUFHRkEsRUFBVSxJQUNaLEVBS0cwRyxHQUFTdkIsd0JBQ1YrSyxHQUFpQi9QLEVBQU1ySixXQUFXb1osS0FBbUJBLEVBQWdCQSxFQUFjblEsSUFFL0VtUSxJQUFvQyxJQUFsQkEsR0FBMkJrQyxHQUFnQnZCLElBQVksQ0FFM0UsTUFBTXdCLEVBQVl0UyxFQUFPOEgsZ0JBQWtCOUgsRUFBTzZILGdCQUFrQjBLLEdBQVFuRyxLQUFLcE0sRUFBTzZILGdCQUVwRnlLLEdBQ0ZyQyxFQUFlbFMsSUFBSWlDLEVBQU84SCxlQUFnQndLLEVBRTlDLE1BSWN6VixJQUFoQm1ULEdBQTZCQyxFQUFldkosZUFBZSxNQUd2RCxxQkFBc0J6RyxHQUN4QkcsRUFBTXhJLFFBQVFxWSxFQUFlNVAsVUFBVSxTQUEwQmxKLEVBQUtpQixHQUNwRTZILEVBQVF1UyxpQkFBaUJwYSxFQUFLakIsRUFDaEMsSUFJR2lKLEVBQU14SixZQUFZb0osRUFBT3lTLG1CQUM1QnhTLEVBQVF3UyxrQkFBb0J6UyxFQUFPeVMsaUJBSWpDaEwsR0FBaUMsU0FBakJBLElBQ2xCeEgsRUFBUXdILGFBQWV6SCxFQUFPeUgsY0FJUyxtQkFBOUJ6SCxFQUFPMFMsb0JBQ2hCelMsRUFBUTBTLGlCQUFpQixXQUFZM0UsR0FBcUJoTyxFQUFPMFMsb0JBQW9CLElBSWhELG1CQUE1QjFTLEVBQU80UyxrQkFBbUMzUyxFQUFRNFMsUUFDM0Q1UyxFQUFRNFMsT0FBT0YsaUJBQWlCLFdBQVkzRSxHQUFxQmhPLEVBQU80UyxvQkFHdEU1UyxFQUFPb1EsYUFBZXBRLEVBQU9zUSxVQUcvQkosRUFBYTRDLElBQ043UyxJQUdMOFAsR0FBUStDLEdBQVVBLEVBQU90YyxLQUFPLElBQUksR0FBYyxLQUFNd0osRUFBUUMsR0FBVzZTLEdBQzNFN1MsRUFBUThTLFFBQ1I5UyxFQUFVLEtBQUksRUFHaEJELEVBQU9vUSxhQUFlcFEsRUFBT29RLFlBQVk0QyxVQUFVOUMsR0FDL0NsUSxFQUFPc1EsU0FDVHRRLEVBQU9zUSxPQUFPMkMsUUFBVS9DLElBQWVsUSxFQUFPc1EsT0FBT3FDLGlCQUFpQixRQUFTekMsS0FJbkYsTUFBTTVDLEVLdFBLLFNBQXVCMUosR0FDcEMsTUFBTVAsRUFBUSw0QkFBNEI1RixLQUFLbUcsR0FDL0MsT0FBT1AsR0FBU0EsRUFBTSxJQUFNLEVBQzlCLENMbVBxQjZQLENBQWNwQyxHQUUzQnhELElBQXNELElBQTFDM0csR0FBUzFCLFVBQVVsSSxRQUFRdVEsR0FDekN5QyxFQUFPLElBQUksRUFBVyx3QkFBMEJ6QyxFQUFXLElBQUssRUFBVzRELGdCQUFpQmxSLElBTTlGQyxFQUFRa1QsS0FBS25ELEdBQWUsS0FDOUIsR0FDRixHRXpQQTVQLEVBQU14SSxRQUFRNlgsSUFBZSxDQUFDbGEsRUFBSTBHLEtBQ2hDLEdBQUkxRyxFQUFJLENBQ04sSUFDRUssT0FBT29HLGVBQWV6RyxFQUFJLE9BQVEsQ0FBQzBHLFNBQ3JDLENBQUUsTUFBT29MLEdBRVQsQ0FDQXpSLE9BQU9vRyxlQUFlekcsRUFBSSxjQUFlLENBQUMwRyxTQUM1QyxLQUdGLE1BQU1tWCxHQUFnQkMsR0FBVyxLQUFLQSxJQUVoQ0MsR0FBb0JwTixHQUFZOUYsRUFBTXJKLFdBQVdtUCxJQUF3QixPQUFaQSxJQUFnQyxJQUFaQSxFQUV2RixPQUNlcU4sSUFDWEEsRUFBV25ULEVBQU0xSixRQUFRNmMsR0FBWUEsRUFBVyxDQUFDQSxHQUVqRCxNQUFNLE9BQUN2YixHQUFVdWIsRUFDakIsSUFBSUMsRUFDQXROLEVBRUosTUFBTXVOLEVBQWtCLENBQUMsRUFFekIsSUFBSyxJQUFJcmUsRUFBSSxFQUFHQSxFQUFJNEMsRUFBUTVDLElBQUssQ0FFL0IsSUFBSW9QLEVBSUosR0FMQWdQLEVBQWdCRCxFQUFTbmUsR0FHekI4USxFQUFVc04sR0FFTEYsR0FBaUJFLEtBQ3BCdE4sRUFBVXVKLElBQWVqTCxFQUFLNUgsT0FBTzRXLElBQWdCbGQsb0JBRXJDdUcsSUFBWnFKLEdBQ0YsTUFBTSxJQUFJLEVBQVcsb0JBQW9CMUIsTUFJN0MsR0FBSTBCLEVBQ0YsTUFHRnVOLEVBQWdCalAsR0FBTSxJQUFNcFAsR0FBSzhRLENBQ25DLENBRUEsSUFBS0EsRUFBUyxDQUVaLE1BQU13TixFQUFVOWQsT0FBT2tRLFFBQVEyTixHQUM1QmxTLEtBQUksRUFBRWlELEVBQUltUCxLQUFXLFdBQVduUCxPQUNwQixJQUFWbVAsRUFBa0Isc0NBQXdDLG1DQUcvRCxJQUFJQyxFQUFJNWIsRUFDTDBiLEVBQVExYixPQUFTLEVBQUksWUFBYzBiLEVBQVFuUyxJQUFJNlIsSUFBYzNSLEtBQUssTUFBUSxJQUFNMlIsR0FBYU0sRUFBUSxJQUN0RywwQkFFRixNQUFNLElBQUksRUFDUix3REFBMERFLEVBQzFELGtCQUVKLENBRUEsT0FBTzFOLENBQU8sRUl6RGxCLFNBQVMyTixHQUE2QjdULEdBS3BDLEdBSklBLEVBQU9vUSxhQUNUcFEsRUFBT29RLFlBQVkwRCxtQkFHakI5VCxFQUFPc1EsUUFBVXRRLEVBQU9zUSxPQUFPMkMsUUFDakMsTUFBTSxJQUFJLEdBQWMsS0FBTWpULEVBRWxDLENBU2UsU0FBUytULEdBQWdCL1QsR0FpQnRDLE9BaEJBNlQsR0FBNkI3VCxHQUU3QkEsRUFBT3FHLFFBQVUsR0FBYXpGLEtBQUtaLEVBQU9xRyxTQUcxQ3JHLEVBQU9vRyxLQUFPbUYsR0FBY25WLEtBQzFCNEosRUFDQUEsRUFBT21HLG1CQUdnRCxJQUFyRCxDQUFDLE9BQVEsTUFBTyxTQUFTcEosUUFBUWlELEVBQU9tSSxTQUMxQ25JLEVBQU9xRyxRQUFRSyxlQUFlLHFDQUFxQyxHQUdyRDZNLEdBQW9CdlQsRUFBT2tHLFNBQVcsR0FBU0EsUUFFeERBLENBQVFsRyxHQUFRTCxNQUFLLFNBQTZCTyxHQVl2RCxPQVhBMlQsR0FBNkI3VCxHQUc3QkUsRUFBU2tHLEtBQU9tRixHQUFjblYsS0FDNUI0SixFQUNBQSxFQUFPdUgsa0JBQ1BySCxHQUdGQSxFQUFTbUcsUUFBVSxHQUFhekYsS0FBS1YsRUFBU21HLFNBRXZDbkcsQ0FDVCxJQUFHLFNBQTRCbVQsR0FlN0IsT0FkSzVILEdBQVM0SCxLQUNaUSxHQUE2QjdULEdBR3pCcVQsR0FBVUEsRUFBT25ULFdBQ25CbVQsRUFBT25ULFNBQVNrRyxLQUFPbUYsR0FBY25WLEtBQ25DNEosRUFDQUEsRUFBT3VILGtCQUNQOEwsRUFBT25ULFVBRVRtVCxFQUFPblQsU0FBU21HLFFBQVUsR0FBYXpGLEtBQUt5UyxFQUFPblQsU0FBU21HLFdBSXpEd0osUUFBUUUsT0FBT3NELEVBQ3hCLEdBQ0YsQ0MzRUEsTUFBTVcsR0FBbUI5ZCxHQUFVQSxhQUFpQixHQUFlQSxFQUFNbUssU0FBV25LLEVBV3JFLFNBQVMrZCxHQUFZQyxFQUFTQyxHQUUzQ0EsRUFBVUEsR0FBVyxDQUFDLEVBQ3RCLE1BQU1uVSxFQUFTLENBQUMsRUFFaEIsU0FBU29VLEVBQWU1VSxFQUFRRCxFQUFRcEUsR0FDdEMsT0FBSWlGLEVBQU1sSixjQUFjc0ksSUFBV1ksRUFBTWxKLGNBQWNxSSxHQUM5Q2EsRUFBTWxGLE1BQU05RSxLQUFLLENBQUMrRSxZQUFXcUUsRUFBUUQsR0FDbkNhLEVBQU1sSixjQUFjcUksR0FDdEJhLEVBQU1sRixNQUFNLENBQUMsRUFBR3FFLEdBQ2RhLEVBQU0xSixRQUFRNkksR0FDaEJBLEVBQU9sSixRQUVUa0osQ0FDVCxDQUdBLFNBQVM4VSxFQUFvQmxmLEVBQUdvRyxFQUFHSixHQUNqQyxPQUFLaUYsRUFBTXhKLFlBQVkyRSxHQUVYNkUsRUFBTXhKLFlBQVl6QixRQUF2QixFQUNFaWYsT0FBZXZYLEVBQVcxSCxFQUFHZ0csR0FGN0JpWixFQUFlamYsRUFBR29HLEVBQUdKLEVBSWhDLENBR0EsU0FBU21aLEVBQWlCbmYsRUFBR29HLEdBQzNCLElBQUs2RSxFQUFNeEosWUFBWTJFLEdBQ3JCLE9BQU82WSxPQUFldlgsRUFBV3RCLEVBRXJDLENBR0EsU0FBU2daLEVBQWlCcGYsRUFBR29HLEdBQzNCLE9BQUs2RSxFQUFNeEosWUFBWTJFLEdBRVg2RSxFQUFNeEosWUFBWXpCLFFBQXZCLEVBQ0VpZixPQUFldlgsRUFBVzFILEdBRjFCaWYsT0FBZXZYLEVBQVd0QixFQUlyQyxDQUdBLFNBQVNpWixFQUFnQnJmLEVBQUdvRyxFQUFHcEMsR0FDN0IsT0FBSUEsS0FBUWdiLEVBQ0hDLEVBQWVqZixFQUFHb0csR0FDaEJwQyxLQUFRK2EsRUFDVkUsT0FBZXZYLEVBQVcxSCxRQUQ1QixDQUdULENBRUEsTUFBTXNmLEVBQVcsQ0FDZjdRLElBQUswUSxFQUNMbk0sT0FBUW1NLEVBQ1JsTyxLQUFNa08sRUFDTjVILFFBQVM2SCxFQUNUcE8saUJBQWtCb08sRUFDbEJoTixrQkFBbUJnTixFQUNuQjlDLGlCQUFrQjhDLEVBQ2xCM00sUUFBUzJNLEVBQ1RHLGVBQWdCSCxFQUNoQjlCLGdCQUFpQjhCLEVBQ2pCcEUsY0FBZW9FLEVBQ2ZyTyxRQUFTcU8sRUFDVDlNLGFBQWM4TSxFQUNkMU0sZUFBZ0IwTSxFQUNoQnpNLGVBQWdCeU0sRUFDaEIzQixpQkFBa0IyQixFQUNsQjdCLG1CQUFvQjZCLEVBQ3BCSSxXQUFZSixFQUNaeE0saUJBQWtCd00sRUFDbEJ2TSxjQUFldU0sRUFDZkssZUFBZ0JMLEVBQ2hCTSxVQUFXTixFQUNYTyxVQUFXUCxFQUNYUSxXQUFZUixFQUNabkUsWUFBYW1FLEVBQ2JTLFdBQVlULEVBQ1pVLGlCQUFrQlYsRUFDbEJ0TSxlQUFnQnVNLEVBQ2hCbk8sUUFBUyxDQUFDbFIsRUFBR29HLElBQU04WSxFQUFvQkwsR0FBZ0I3ZSxHQUFJNmUsR0FBZ0J6WSxJQUFJLElBU2pGLE9BTkE2RSxFQUFNeEksUUFBUWhDLE9BQU9xQyxLQUFLckMsT0FBT3NHLE9BQU8sQ0FBQyxFQUFHZ1ksRUFBU0MsS0FBVyxTQUE0QmhiLEdBQzFGLE1BQU0rQixFQUFRdVosRUFBU3RiLElBQVNrYixFQUMxQmEsRUFBY2hhLEVBQU1nWixFQUFRL2EsR0FBT2diLEVBQVFoYixHQUFPQSxHQUN2RGlILEVBQU14SixZQUFZc2UsSUFBZ0JoYSxJQUFVc1osSUFBcUJ4VSxFQUFPN0csR0FBUStiLEVBQ25GLElBRU9sVixDQUNULENDekdPLE1DS0RtVixHQUFhLENBQUMsRUFHcEIsQ0FBQyxTQUFVLFVBQVcsU0FBVSxXQUFZLFNBQVUsVUFBVXZkLFNBQVEsQ0FBQ3BCLEVBQU1wQixLQUM3RStmLEdBQVczZSxHQUFRLFNBQW1CTixHQUNwQyxjQUFjQSxJQUFVTSxHQUFRLEtBQU9wQixFQUFJLEVBQUksS0FBTyxLQUFPb0IsQ0FDL0QsQ0FBQyxJQUdILE1BQU00ZSxHQUFxQixDQUFDLEVBVzVCRCxHQUFXbFAsYUFBZSxTQUFzQm9QLEVBQVdDLEVBQVN4VixHQUNsRSxTQUFTeVYsRUFBY0MsRUFBS0MsR0FDMUIsTUFBTyx1Q0FBb0RELEVBQU0sSUFBT0MsR0FBUTNWLEVBQVUsS0FBT0EsRUFBVSxHQUM3RyxDQUdBLE1BQU8sQ0FBQzdELEVBQU91WixFQUFLRSxLQUNsQixJQUFrQixJQUFkTCxFQUNGLE1BQU0sSUFBSSxFQUNSRSxFQUFjQyxFQUFLLHFCQUF1QkYsRUFBVSxPQUFTQSxFQUFVLEtBQ3ZFLEVBQVdLLGdCQWVmLE9BWElMLElBQVlGLEdBQW1CSSxLQUNqQ0osR0FBbUJJLElBQU8sRUFFMUJJLFFBQVFDLEtBQ05OLEVBQ0VDLEVBQ0EsK0JBQWlDRixFQUFVLDhDQUsxQ0QsR0FBWUEsRUFBVXBaLEVBQU91WixFQUFLRSxFQUFZLENBRXpELEVBbUNBLFFBQ0VJLGNBeEJGLFNBQXVCalUsRUFBU2tVLEVBQVFDLEdBQ3RDLEdBQXVCLGlCQUFablUsRUFDVCxNQUFNLElBQUksRUFBVyw0QkFBNkIsRUFBV29VLHNCQUUvRCxNQUFNaGUsRUFBT3JDLE9BQU9xQyxLQUFLNEosR0FDekIsSUFBSXpNLEVBQUk2QyxFQUFLRCxPQUNiLEtBQU81QyxLQUFNLEdBQUcsQ0FDZCxNQUFNb2dCLEVBQU12ZCxFQUFLN0MsR0FDWGlnQixFQUFZVSxFQUFPUCxHQUN6QixHQUFJSCxFQUFKLENBQ0UsTUFBTXBaLEVBQVE0RixFQUFRMlQsR0FDaEI3YSxPQUFtQmtDLElBQVZaLEdBQXVCb1osRUFBVXBaLEVBQU91WixFQUFLM1QsR0FDNUQsSUFBZSxJQUFYbEgsRUFDRixNQUFNLElBQUksRUFBVyxVQUFZNmEsRUFBTSxZQUFjN2EsRUFBUSxFQUFXc2IscUJBRzVFLE1BQ0EsSUFBcUIsSUFBakJELEVBQ0YsTUFBTSxJQUFJLEVBQVcsa0JBQW9CUixFQUFLLEVBQVdVLGVBRTdELENBQ0YsRUFJRWYsZUM5RUYsTUFBTSxHQUFhRSxHQUFVRixXQVM3QixNQUFNZ0IsR0FDSixXQUFBOWIsQ0FBWStiLEdBQ1YvZ0IsS0FBSzJRLFNBQVdvUSxFQUNoQi9nQixLQUFLZ2hCLGFBQWUsQ0FDbEJwVyxRQUFTLElBQUksR0FDYkMsU0FBVSxJQUFJLEdBRWxCLENBVUEsT0FBQUQsQ0FBUXFXLEVBQWF0VyxHQUdRLGlCQUFoQnNXLEdBQ1R0VyxFQUFTQSxHQUFVLENBQUMsR0FDYjRELElBQU0wUyxFQUVidFcsRUFBU3NXLEdBQWUsQ0FBQyxFQUczQnRXLEVBQVNpVSxHQUFZNWUsS0FBSzJRLFNBQVVoRyxHQUVwQyxNQUFNLGFBQUNpRyxFQUFZLGlCQUFFd0wsRUFBZ0IsUUFBRXBMLEdBQVdyRyxPQUU3Qm5ELElBQWpCb0osR0FDRm9QLEdBQVVTLGNBQWM3UCxFQUFjLENBQ3BDdEIsa0JBQW1CLEdBQVdzQixhQUFhLEdBQVdzUSxTQUN0RDNSLGtCQUFtQixHQUFXcUIsYUFBYSxHQUFXc1EsU0FDdEQxUixvQkFBcUIsR0FBV29CLGFBQWEsR0FBV3NRLFdBQ3ZELEdBR21CLE1BQXBCOUUsSUFDRXJSLEVBQU1ySixXQUFXMGEsR0FDbkJ6UixFQUFPeVIsaUJBQW1CLENBQ3hCM04sVUFBVzJOLEdBR2I0RCxHQUFVUyxjQUFjckUsRUFBa0IsQ0FDeEN2TyxPQUFRLEdBQVdzVCxTQUNuQjFTLFVBQVcsR0FBVzBTLFdBQ3JCLElBS1B4VyxFQUFPbUksUUFBVW5JLEVBQU9tSSxRQUFVOVMsS0FBSzJRLFNBQVNtQyxRQUFVLE9BQU83UixjQUdqRSxJQUFJbWdCLEVBQWlCcFEsR0FBV2pHLEVBQU1sRixNQUNwQ21MLEVBQVE2QixPQUNSN0IsRUFBUXJHLEVBQU9tSSxTQUdqQjlCLEdBQVdqRyxFQUFNeEksUUFDZixDQUFDLFNBQVUsTUFBTyxPQUFRLE9BQVEsTUFBTyxRQUFTLFdBQ2pEdVEsV0FDUTlCLEVBQVE4QixFQUFPLElBSTFCbkksRUFBT3FHLFFBQVUsR0FBYS9FLE9BQU9tVixFQUFnQnBRLEdBR3JELE1BQU1xUSxFQUEwQixHQUNoQyxJQUFJQyxHQUFpQyxFQUNyQ3RoQixLQUFLZ2hCLGFBQWFwVyxRQUFRckksU0FBUSxTQUFvQ2dmLEdBQ2pDLG1CQUF4QkEsRUFBWXRTLFVBQTBELElBQWhDc1MsRUFBWXRTLFFBQVF0RSxLQUlyRTJXLEVBQWlDQSxHQUFrQ0MsRUFBWXZTLFlBRS9FcVMsRUFBd0JHLFFBQVFELEVBQVl6UyxVQUFXeVMsRUFBWXhTLFVBQ3JFLElBRUEsTUFBTTBTLEVBQTJCLEdBS2pDLElBQUlDLEVBSkoxaEIsS0FBS2doQixhQUFhblcsU0FBU3RJLFNBQVEsU0FBa0NnZixHQUNuRUUsRUFBeUJwWixLQUFLa1osRUFBWXpTLFVBQVd5UyxFQUFZeFMsU0FDbkUsSUFHQSxJQUNJak0sRUFEQS9DLEVBQUksRUFHUixJQUFLdWhCLEVBQWdDLENBQ25DLE1BQU1LLEVBQVEsQ0FBQ2pELEdBQWdCemUsS0FBS0QsV0FBT3dILEdBTzNDLElBTkFtYSxFQUFNSCxRQUFRcGhCLE1BQU11aEIsRUFBT04sR0FDM0JNLEVBQU10WixLQUFLakksTUFBTXVoQixFQUFPRixHQUN4QjNlLEVBQU02ZSxFQUFNaGYsT0FFWitlLEVBQVVsSCxRQUFRQyxRQUFROVAsR0FFbkI1SyxFQUFJK0MsR0FDVDRlLEVBQVVBLEVBQVFwWCxLQUFLcVgsRUFBTTVoQixLQUFNNGhCLEVBQU01aEIsTUFHM0MsT0FBTzJoQixDQUNULENBRUE1ZSxFQUFNdWUsRUFBd0IxZSxPQUU5QixJQUFJaWYsRUFBWWpYLEVBSWhCLElBRkE1SyxFQUFJLEVBRUdBLEVBQUkrQyxHQUFLLENBQ2QsTUFBTStlLEVBQWNSLEVBQXdCdGhCLEtBQ3RDK2hCLEVBQWFULEVBQXdCdGhCLEtBQzNDLElBQ0U2aEIsRUFBWUMsRUFBWUQsRUFDMUIsQ0FBRSxNQUFPcFcsR0FDUHNXLEVBQVcvZ0IsS0FBS2YsS0FBTXdMLEdBQ3RCLEtBQ0YsQ0FDRixDQUVBLElBQ0VrVyxFQUFVaEQsR0FBZ0IzZCxLQUFLZixLQUFNNGhCLEVBQ3ZDLENBQUUsTUFBT3BXLEdBQ1AsT0FBT2dQLFFBQVFFLE9BQU9sUCxFQUN4QixDQUtBLElBSEF6TCxFQUFJLEVBQ0orQyxFQUFNMmUsRUFBeUI5ZSxPQUV4QjVDLEVBQUkrQyxHQUNUNGUsRUFBVUEsRUFBUXBYLEtBQUttWCxFQUF5QjFoQixLQUFNMGhCLEVBQXlCMWhCLE1BR2pGLE9BQU8yaEIsQ0FDVCxDQUVBLE1BQUFLLENBQU9wWCxHQUdMLE9BQU8yRCxFQURVOEksSUFEakJ6TSxFQUFTaVUsR0FBWTVlLEtBQUsyUSxTQUFVaEcsSUFDRTBNLFFBQVMxTSxFQUFPNEQsS0FDNUI1RCxFQUFPdUQsT0FBUXZELEVBQU95UixpQkFDbEQsRUFJRnJSLEVBQU14SSxRQUFRLENBQUMsU0FBVSxNQUFPLE9BQVEsWUFBWSxTQUE2QnVRLEdBRS9FZ08sR0FBTXRnQixVQUFVc1MsR0FBVSxTQUFTdkUsRUFBSzVELEdBQ3RDLE9BQU8zSyxLQUFLNEssUUFBUWdVLEdBQVlqVSxHQUFVLENBQUMsRUFBRyxDQUM1Q21JLFNBQ0F2RSxNQUNBd0MsTUFBT3BHLEdBQVUsQ0FBQyxHQUFHb0csT0FFekIsQ0FDRixJQUVBaEcsRUFBTXhJLFFBQVEsQ0FBQyxPQUFRLE1BQU8sVUFBVSxTQUErQnVRLEdBR3JFLFNBQVNrUCxFQUFtQkMsR0FDMUIsT0FBTyxTQUFvQjFULEVBQUt3QyxFQUFNcEcsR0FDcEMsT0FBTzNLLEtBQUs0SyxRQUFRZ1UsR0FBWWpVLEdBQVUsQ0FBQyxFQUFHLENBQzVDbUksU0FDQTlCLFFBQVNpUixFQUFTLENBQ2hCLGVBQWdCLHVCQUNkLENBQUMsRUFDTDFULE1BQ0F3QyxTQUVKLENBQ0YsQ0FFQStQLEdBQU10Z0IsVUFBVXNTLEdBQVVrUCxJQUUxQmxCLEdBQU10Z0IsVUFBVXNTLEVBQVMsUUFBVWtQLEdBQW1CLEVBQ3hELElBRUEsVUM3TEEsTUFBTUUsR0FDSixXQUFBbGQsQ0FBWW1kLEdBQ1YsR0FBd0IsbUJBQWJBLEVBQ1QsTUFBTSxJQUFJMVYsVUFBVSxnQ0FHdEIsSUFBSTJWLEVBRUpwaUIsS0FBSzBoQixRQUFVLElBQUlsSCxTQUFRLFNBQXlCQyxHQUNsRDJILEVBQWlCM0gsQ0FDbkIsSUFFQSxNQUFNdE8sRUFBUW5NLEtBR2RBLEtBQUswaEIsUUFBUXBYLE1BQUttVCxJQUNoQixJQUFLdFIsRUFBTWtXLFdBQVksT0FFdkIsSUFBSXRpQixFQUFJb00sRUFBTWtXLFdBQVcxZixPQUV6QixLQUFPNUMsS0FBTSxHQUNYb00sRUFBTWtXLFdBQVd0aUIsR0FBRzBkLEdBRXRCdFIsRUFBTWtXLFdBQWEsSUFBSSxJQUl6QnJpQixLQUFLMGhCLFFBQVFwWCxLQUFPZ1ksSUFDbEIsSUFBSUMsRUFFSixNQUFNYixFQUFVLElBQUlsSCxTQUFRQyxJQUMxQnRPLEVBQU13UixVQUFVbEQsR0FDaEI4SCxFQUFXOUgsQ0FBTyxJQUNqQm5RLEtBQUtnWSxHQU1SLE9BSkFaLEVBQVFqRSxPQUFTLFdBQ2Z0UixFQUFNNk8sWUFBWXVILEVBQ3BCLEVBRU9iLENBQU8sRUFHaEJTLEdBQVMsU0FBZ0IxWCxFQUFTRSxFQUFRQyxHQUNwQ3VCLEVBQU02UixTQUtWN1IsRUFBTTZSLE9BQVMsSUFBSSxHQUFjdlQsRUFBU0UsRUFBUUMsR0FDbER3WCxFQUFlalcsRUFBTTZSLFFBQ3ZCLEdBQ0YsQ0FLQSxnQkFBQVMsR0FDRSxHQUFJemUsS0FBS2dlLE9BQ1AsTUFBTWhlLEtBQUtnZSxNQUVmLENBTUEsU0FBQUwsQ0FBVS9FLEdBQ0o1WSxLQUFLZ2UsT0FDUHBGLEVBQVM1WSxLQUFLZ2UsUUFJWmhlLEtBQUtxaUIsV0FDUHJpQixLQUFLcWlCLFdBQVdoYSxLQUFLdVEsR0FFckI1WSxLQUFLcWlCLFdBQWEsQ0FBQ3pKLEVBRXZCLENBTUEsV0FBQW9DLENBQVlwQyxHQUNWLElBQUs1WSxLQUFLcWlCLFdBQ1IsT0FFRixNQUFNNVUsRUFBUXpOLEtBQUtxaUIsV0FBVzNhLFFBQVFrUixJQUN2QixJQUFYbkwsR0FDRnpOLEtBQUtxaUIsV0FBV0csT0FBTy9VLEVBQU8sRUFFbEMsQ0FNQSxhQUFPdkQsR0FDTCxJQUFJdVQsRUFJSixNQUFPLENBQ0x0UixNQUpZLElBQUkrVixJQUFZLFNBQWtCTyxHQUM5Q2hGLEVBQVNnRixDQUNYLElBR0VoRixTQUVKLEVBR0YsVUN4SEEsTUFBTWlGLEdBQWlCLENBQ3JCQyxTQUFVLElBQ1ZDLG1CQUFvQixJQUNwQkMsV0FBWSxJQUNaQyxXQUFZLElBQ1pDLEdBQUksSUFDSkMsUUFBUyxJQUNUQyxTQUFVLElBQ1ZDLDRCQUE2QixJQUM3QkMsVUFBVyxJQUNYQyxhQUFjLElBQ2RDLGVBQWdCLElBQ2hCQyxZQUFhLElBQ2JDLGdCQUFpQixJQUNqQkMsT0FBUSxJQUNSQyxnQkFBaUIsSUFDakJDLGlCQUFrQixJQUNsQkMsTUFBTyxJQUNQQyxTQUFVLElBQ1ZDLFlBQWEsSUFDYkMsU0FBVSxJQUNWQyxPQUFRLElBQ1JDLGtCQUFtQixJQUNuQkMsa0JBQW1CLElBQ25CQyxXQUFZLElBQ1pDLGFBQWMsSUFDZEMsZ0JBQWlCLElBQ2pCQyxVQUFXLElBQ1hDLFNBQVUsSUFDVkMsaUJBQWtCLElBQ2xCQyxjQUFlLElBQ2ZDLDRCQUE2QixJQUM3QkMsZUFBZ0IsSUFDaEJDLFNBQVUsSUFDVkMsS0FBTSxJQUNOQyxlQUFnQixJQUNoQkMsbUJBQW9CLElBQ3BCQyxnQkFBaUIsSUFDakJDLFdBQVksSUFDWkMscUJBQXNCLElBQ3RCQyxvQkFBcUIsSUFDckJDLGtCQUFtQixJQUNuQkMsVUFBVyxJQUNYQyxtQkFBb0IsSUFDcEJDLG9CQUFxQixJQUNyQkMsT0FBUSxJQUNSQyxpQkFBa0IsSUFDbEJDLFNBQVUsSUFDVkMsZ0JBQWlCLElBQ2pCQyxxQkFBc0IsSUFDdEJDLGdCQUFpQixJQUNqQkMsNEJBQTZCLElBQzdCQywyQkFBNEIsSUFDNUJDLG9CQUFxQixJQUNyQkMsZUFBZ0IsSUFDaEJDLFdBQVksSUFDWkMsbUJBQW9CLElBQ3BCQyxlQUFnQixJQUNoQkMsd0JBQXlCLElBQ3pCQyxzQkFBdUIsSUFDdkJDLG9CQUFxQixJQUNyQkMsYUFBYyxJQUNkQyxZQUFhLElBQ2JDLDhCQUErQixLQUdqQ2xtQixPQUFPa1EsUUFBUWlTLElBQWdCbmdCLFNBQVEsRUFBRVEsRUFBSzZELE1BQzVDOGIsR0FBZTliLEdBQVM3RCxDQUFHLElBRzdCLFVDeEJBLE1BQU0yakIsR0FuQk4sU0FBU0MsRUFBZUMsR0FDdEIsTUFBTXBqQixFQUFVLElBQUksR0FBTW9qQixHQUNwQkMsRUFBVzVtQixFQUFLLEdBQU1PLFVBQVVvSyxRQUFTcEgsR0FhL0MsT0FWQXVILEVBQU05RSxPQUFPNGdCLEVBQVUsR0FBTXJtQixVQUFXZ0QsRUFBUyxDQUFDZixZQUFZLElBRzlEc0ksRUFBTTlFLE9BQU80Z0IsRUFBVXJqQixFQUFTLEtBQU0sQ0FBQ2YsWUFBWSxJQUduRG9rQixFQUFTam1CLE9BQVMsU0FBZ0JtZ0IsR0FDaEMsT0FBTzRGLEVBQWUvSCxHQUFZZ0ksRUFBZTdGLEdBQ25ELEVBRU84RixDQUNULENBR2NGLENBQWUsSUFHN0JELEdBQU01RixNQUFRLEdBR2Q0RixHQUFNcFEsY0FBZ0IsR0FDdEJvUSxHQUFNeEUsWUFBYyxHQUNwQndFLEdBQU10USxTQUFXQSxHQUNqQnNRLEdBQU1JLFFMdkRpQixRS3dEdkJKLEdBQU1LLFdBQWEsRUFHbkJMLEdBQU1sYyxXQUFhLEVBR25Ca2MsR0FBTU0sT0FBU04sR0FBTXBRLGNBR3JCb1EsR0FBTU8sSUFBTSxTQUFhQyxHQUN2QixPQUFPMU0sUUFBUXlNLElBQUlDLEVBQ3JCLEVBRUFSLEdBQU1TLE9DOUNTLFNBQWdCQyxHQUM3QixPQUFPLFNBQWN4ZixHQUNuQixPQUFPd2YsRUFBU2huQixNQUFNLEtBQU13SCxFQUM5QixDQUNGLEVENkNBOGUsR0FBTVcsYUU3RFMsU0FBc0JDLEdBQ25DLE9BQU92YyxFQUFNbkosU0FBUzBsQixLQUFzQyxJQUF6QkEsRUFBUUQsWUFDN0MsRUY4REFYLEdBQU05SCxZQUFjQSxHQUVwQjhILEdBQU1wVCxhQUFlLEdBRXJCb1QsR0FBTWEsV0FBYTFtQixHQUFTLEdBQWVrSyxFQUFNbkgsV0FBVy9DLEdBQVMsSUFBSXNFLFNBQVN0RSxHQUFTQSxHQUUzRjZsQixHQUFNYyxXQUFhdEosR0FFbkJ3SSxHQUFNaEUsZUFBaUIsR0FFdkJnRSxHQUFNZSxRQUFVZixHQUdoQixVR3BDQSxHQWxENEMsQ0FDMUN0UyxJQUFLLENBQUM3RixHQUFlTCxZQUNaLEdBQU1rRyxJQUFJN0YsRUFBSyxDQUFFTCxXQUUxQndaLEtBQU0sQ0FDSm5aLEVBQ0FvWixFQUErQixDQUFDLEVBQ2hDbmIsRUFBNkIsQ0FBQyxJQUV2QixHQUFNa2IsS0FBS25aLEVBQUtvWixFQUFNbmIsMkdDSjFCLE1BQU1vYixFQUNYQyxLQUNBQyxVQUNBQyxZQUNBQyxjQUNBQyxlQUNBQyxXQUNBQyxjQUNBQyxTQUNBQyxTQUNBQyx1QkFBd0IsRUFFeEJDLHNCQUNBLFdBQUF2akIsQ0FBWXdILEdBQ1YsTUFBTSxTQUFFZ2MsRUFBUSxXQUFFQyxFQUFVLGNBQUVDLEdBQWtCbGMsRUFDaER4TSxLQUFLdW9CLHNCQUF3Qi9iLENBQy9CLENBRUEsd0JBQU1tYyxDQUFtQkMsR0FRdkIsYUFMNkIsVUFBV2xCLEtBQ3RDMW5CLEtBQUt1b0Isc0JBQXNCTSxXQUFXQyxhQUN0QyxDQUFFRixTQUNGLENBQUU1WCxRQUxZLENBQUUrWCxPQUFRLHFCQVE1QixDQUVBLGtCQUFNQyxDQUFheGQsRUFBT2hJLEdBQ3hCLE9BQU8sSUFBSWdYLFNBQVF5TyxNQUFPeE8sRUFBU0MsS0FFakMsTUFBTSxPQUFFcFAsRUFBTSxPQUFFaEcsR0FBV2tHLEVBQzNCLEdBQWUsTUFBWEYsRUFBZ0IsQ0FDbEIsTUFBTSxjQUFFNGQsR0FDTixVQUFlQywwQkFBNEIsQ0FBQyxFQUM5QzVJLFFBQVE2SSxJQUFJLGdCQUFpQkYsR0FFN0IsTUFBUW5ZLEtBQU1zWSxTQUF1QnJwQixLQUFLMm9CLG1CQUN4QzNvQixLQUFLdW9CLHNCQUFzQkcsZUFDM0JuZSxNQUFNbVEsR0FDUjZGLFFBQVE2SSxJQUFJLG1CQUFvQkMsR0FDM0JBLEdBQWEzTyxFQUFPbFAsR0FFekIsVUFBZThkLHVCQUF1QkQsR0FDdENycEIsS0FBS3VwQixpQkFDTCxNQUFNLE9BQUV6VyxFQUFNLEtBQUUwVyxHQUFTaG1CLEVBQ3pCK2MsUUFBUTZJLElBQUksb0JBQXFCdFcsRUFBUTBXLEdBQ3pDL08sRUFBUXphLEtBQUs4UyxNQUFXMFcsR0FDMUIsQ0FFQTlPLEVBQU9sUCxFQUFNLEdBRWpCLENBRUEsZ0NBQUlpZSxHQUNGLE1BQU01QixFQUFPeGtCLFFBQVF3a0IsS0FDZkMsRUFBWUQsR0FBTTZCLFFBQVE1QixVQUMxQkUsRUFBZ0JILEdBQU02QixRQUFRMUIsY0FDOUJDLEVBQWlCSixHQUFNNkIsUUFBUXpCLGVBRXJDLFNBRHNCSixHQUFTQyxHQUFjRyxHQUFtQkQsRUFFbEUsQ0FDQSxVQUFNMkIsR0FDSixPQUFPLElBQUluUCxTQUFReU8sTUFBT3hPLEVBQVNDLEtBQzVCMWEsS0FBS3lwQiw4QkFLUnpwQixLQUFLNm5CLEtBQU94a0IsUUFBUXdrQixLQUNwQjduQixLQUFLOG5CLFVBQVk5bkIsS0FBSzZuQixLQUFLNkIsT0FBTzVCLFVBQ2xDOW5CLEtBQUsrbkIsWUFBYy9uQixLQUFLNm5CLEtBQUs2QixPQUFPNUIsVUFBVS9XLEtBQUs2WSxTQUNuRDVwQixLQUFLZ29CLGNBQWdCaG9CLEtBQUs2bkIsS0FBSzZCLE9BQU8xQixjQUN0Q2hvQixLQUFLaW9CLGVBQWlCam9CLEtBQUs2bkIsS0FBSzZCLE9BQU96QixlQUV2Q2pvQixLQUFLa29CLFdBQWFsb0IsS0FBSzZuQixLQUFLNkIsT0FBTzVCLFVBQVVJLFdBQzdDbG9CLEtBQUtvb0IsU0FBV3BvQixLQUFLa29CLFdBQVdFLFNBQ2hDcG9CLEtBQUttb0IsY0FBZ0Jub0IsS0FBS2tvQixXQUFXQyxjQUNyQ25vQixLQUFLcW9CLFNBQVdyb0IsS0FBS2tvQixXQUFXRyxTQUVoQ3JvQixLQUFLdXBCLGlCQUVMdnBCLEtBQUtzb0IsdUJBQXdCLEVBQzdCN04sR0FBUSxJQWxCUitCLFlBQVd5TSxVQUNUeE8sUUFBY3phLEtBQUsycEIsT0FBTyxHQUN6QixJQWlCTCxHQUVKLENBRUEsaUJBQU1FLENBQVlDLEVBQVV0ZCxHQUUxQixHQURBK1QsUUFBUTZJLElBQUksV0FBWVUsSUFDbkJBLEVBQVUsTUFBTSxJQUFJbmhCLE1BQU0sNEJBRS9CLElBQ0UsSUFBSSxXQUFFb2hCLEVBQVUsUUFBRUMsRUFBTyxVQUFFQyxFQUFTLFFBQUVDLEdBQVkxZCxFQUNsRHdkLEdBQVdBLEdBQVcsSUFBSTlkLEtBQUs4RixHQUVULGlCQUFOQSxFQUFpQixDQUFFMU4sS0FBTTBOLEdBQU1BLElBRS9DK1gsR0FBY0EsR0FBYyxJQUFJN2QsS0FBSzhGLEdBQ2YsaUJBQU5BLEVBQWlCLENBQUUxTixLQUFNME4sR0FBTUEsSUFHL0MsTUFBTW1ZLFFBQWdCbnFCLEtBQUtnb0IsY0FBY29DLFdBQ3RDQyxVQUFVLENBQ1RQLFdBQ0FRLFdBQVksQ0FDVixDQUNFTCxVQUFXQSxFQUNYQyxRQUFTQSxJQUdiRixRQUFTQSxFQUNURCxXQUFZQSxFQUNaUSxtQkFBb0IsQ0FBQyxXQUV0QmpnQixNQUFNMEgsR0FDRUEsSUFJWCxPQUFPLElBQUF3WSx3QkFBdUIsQ0FBQ0wsR0FJakMsQ0FBRSxNQUFPM2UsR0FDUCxhQUFheEwsS0FBS2dwQixhQUFheGQsRUFBTyxDQUNwQ3NILE9BQVEsY0FDUjBXLEtBQU0sQ0FBQ00sRUFBVXRkLElBSXJCLENBQ0YsQ0FFQSxrQkFBTWllLEdBRUosT0FEQWxLLFFBQVE2SSxJQUFJLHVCQUF3QnBwQixLQUFLaW9CLHNCQUM1QmpvQixLQUFLaW9CLGVBQWV5QyxpQkFDOUJDLE9BQ0FyZ0IsTUFBTTBILEdBQU1BLEVBQUUxTSxPQUFPb2xCLG1CQUNyQm5nQixPQUFNMGUsTUFBT2pYLElBQ1osTUFBTTRZLFFBQVk1cUIsS0FBS2dwQixhQUFhaFgsRUFBRyxDQUNyQ2MsT0FBUSxlQUNSMFcsS0FBTSxLQUdSLE9BREFqSixRQUFRNkksSUFBSSxNQUFPd0IsR0FDWkEsQ0FBRyxHQUVoQixDQUVBLGNBQUFyQixHQUNFLE1BQU0sYUFBRXNCLEdBQWlCLFVBQWUxQiwwQkFBNEIsQ0FBQyxFQUNyRW5wQixLQUFLNm5CLEtBQUs2QixPQUFPb0IsU0FBUyxDQUN4QkQsYUFBY0EsSUFFaEI3cUIsS0FBSzZuQixLQUFLek0sS0FBSzBQLFNBQVMsQ0FDdEJELGFBQWNBLEdBRWxCLHdCQ25FRixTQUFTRSxFQUEwQnZlLEdBQ2pDLE1BQVF1RSxLQUFNaWEsRUFBWSxVQUFFQyxHQUFjemUsR0FDcEMsS0FBRTBlLEVBQUksV0FBRW5CLEVBQVUsUUFBRUMsRUFBTyxjQUFFbUIsR0FBa0JILEVBQ3JELElBQUtqQixFQUFXcUIsU0FBU0gsR0FBWSxPQUFPRCxFQUM1QyxNQUFNSyxFQUFpQnRCLEVBQVdyaUIsUUFBUXVqQixHQUVwQ2xhLEVBQU9tYSxFQUFLaGYsS0FBS29mLElBQ3JCLE1BQU0sZ0JBQUVDLEVBQWUsYUFBRUMsR0FBaUJGLEVBQ3BDRyxFQUFTRCxFQUFhRSxRQUFPLENBQUNwbUIsRUFBUXFtQixLQUNuQyxJQUFLcm1CLEVBQVEsQ0FBQ3FtQixFQUFRcm5CLE1BQU9xbkIsRUFBUS9rQixTQUMzQyxDQUFDLEdBQ0osTUFBTyxDQUFFdEMsS0FBTWluQixFQUFnQkYsR0FBZ0J6a0IsU0FBVTZrQixFQUFRLElBSW5FLElBQUlHLEVBQVMsQ0FBQyxFQVVkLE9BVEE1QixFQUFRem5CLFNBQVEsRUFBRytCLFFBQVF2RSxLQUV6QjZyQixFQUFPdG5CLEdBQVF5TSxFQUFLMmEsUUFBTyxDQUFDRyxFQUFLQyxLQUMvQixJQUFJQyxFQUFTRixFQUdiLE9BRElDLEVBQUt4bkIsS0FBT3luQixHQUFVQyxTQUFTRixFQUFLeG5CLEtBQ2pDeW5CLENBQU0sR0FDWixFQUFFLElBRUEsQ0FBRWhiLE9BQU02YSxTQUNqQixDQUVPLFNBQVNwQixFQUF1QkwsR0FDckMsTUFBTThCLEVBdEVSLFNBQXFDM21CLEdBQ25DLElBQ0VBLFFBQVEsY0FBRTRtQixFQUFnQixHQUFFLGlCQUFFQyxFQUFtQixHQUFFLEtBQUVqQixFQUFPLEdBQUUsT0FBRVUsSUFDOUR0bUIsRUFBTyxHQVNYLE1BQU04bUIsRUFBaUJsQixFQUFLaGYsS0FBS29mLElBQy9CLElBQUksZ0JBQUVDLEVBQWtCLEdBQUUsYUFBRUMsRUFBZSxJQUFPRixFQVNsRCxPQVJBQyxFQUFrQkEsRUFBZ0JyZixLQUFJLENBQUM4RixFQUFHalMsS0FBTSxJQUMzQ29zQixFQUFpQnBzQixNQUNqQmlTLE1BRUx3WixFQUFlQSxFQUFhdGYsS0FBSSxDQUFDOEYsRUFBR2pTLEtBQU0sSUFDckNtc0IsRUFBY25zQixNQUNkaVMsTUFFRSxDQUFFdVosa0JBQWlCQyxlQUFjLElBSXBDTCxFQUFnQmUsRUFBY1IsUUFBTyxDQUFDRyxFQUFLQyxFQUFNTyxLQUM5QyxJQUNGUixFQUNILENBQUNDLEVBQUt4bkIsTUFBT3NuQixFQUFPLElBQUlKLGFBQWFhLElBQWV6bEIsT0FBUyxLQUU5RCxDQUFDLEdBQ0osTUFBTyxDQUNMb2pCLFFBQVNrQyxFQUNUbkMsV0FBWW9DLEVBQ1pqQixLQUFNa0IsRUFDTmpCLGNBQWVBLEVBR25CLENBK0J3Qm1CLENBQTRCbkMsR0FFbEQsSUFBSSxLQUFFZSxFQUFJLFdBQUVuQixFQUFVLGNBQUVvQixHQUFrQmMsRUFZMUMsT0FWQWxDLEVBQWFBLEVBQVcyQixRQUFPLENBQUNHLEVBQUtVLEtBQzVCLElBQ0ZWLEVBQ0gsQ0FBQ1UsRUFBS2pvQixNQUFPeW1CLEVBQTBCLENBQ3JDaGEsS0FBTWtiLEVBQ05oQixVQUFXc0IsT0FHZCxDQUFDLEdBRUcsQ0FBRXhDLGFBQVlvQixnQkFDdkIseUZDNUlBLFNBQVMsRUFBUWhoQixHQUNmLElBQUssSUFBSXBLLEVBQUksRUFBR0EsRUFBSU0sVUFBVXNDLE9BQVE1QyxJQUFLLENBQ3pDLElBQUltSyxFQUFTN0osVUFBVU4sR0FDdkIsSUFBSyxJQUFJZ0QsS0FBT21ILEVBQ2RDLEVBQU9wSCxHQUFPbUgsRUFBT25ILEVBRXpCLENBQ0EsT0FBT29ILENBQ1QsdUNBd0hBLElBQUlxaUIsRUFsR0osU0FBUzdDLEVBQU04QyxFQUFXQyxHQUN4QixTQUFTaGtCLEVBQUtwRSxFQUFNc0MsRUFBTytsQixHQUN6QixHQUF3QixvQkFBYjdjLFNBQVgsQ0FNa0MsaUJBRmxDNmMsRUFBYSxFQUFPLENBQUMsRUFBR0QsRUFBbUJDLElBRXJCbFcsVUFDcEJrVyxFQUFXbFcsUUFBVSxJQUFJSSxLQUFLQSxLQUFLTSxNQUE2QixNQUFyQndWLEVBQVdsVyxVQUVwRGtXLEVBQVdsVyxVQUNia1csRUFBV2xXLFFBQVVrVyxFQUFXbFcsUUFBUW1XLGVBRzFDdG9CLEVBQU95SixtQkFBbUJ6SixHQUN2QjhCLFFBQVEsdUJBQXdCNlEsb0JBQ2hDN1EsUUFBUSxRQUFTeW1CLFFBRXBCLElBQUlDLEVBQXdCLEdBQzVCLElBQUssSUFBSUMsS0FBaUJKLEVBQ25CQSxFQUFXSSxLQUloQkQsR0FBeUIsS0FBT0MsR0FFRSxJQUE5QkosRUFBV0ksS0FXZkQsR0FBeUIsSUFBTUgsRUFBV0ksR0FBZWhrQixNQUFNLEtBQUssS0FHdEUsT0FBUStHLFNBQVM4RyxPQUNmdFMsRUFBTyxJQUFNbW9CLEVBQVVqVyxNQUFNNVAsRUFBT3RDLEdBQVF3b0IsQ0F0QzlDLENBdUNGLENBNEJBLE9BQU92c0IsT0FBT0ssT0FDWixDQUNFOEgsTUFDQTBMLElBN0JKLFNBQWM5UCxHQUNaLEdBQXdCLG9CQUFid0wsWUFBNkJ6UCxVQUFVc0MsUUFBVzJCLEdBQTdELENBUUEsSUFGQSxJQUFJNFksRUFBVXBOLFNBQVM4RyxPQUFTOUcsU0FBUzhHLE9BQU83TixNQUFNLE1BQVEsR0FDMURpa0IsRUFBTSxDQUFDLEVBQ0ZqdEIsRUFBSSxFQUFHQSxFQUFJbWQsRUFBUXZhLE9BQVE1QyxJQUFLLENBQ3ZDLElBQUlrdEIsRUFBUS9QLEVBQVFuZCxHQUFHZ0osTUFBTSxLQUN6Qm5DLEVBQVFxbUIsRUFBTWpzQixNQUFNLEdBQUdvTCxLQUFLLEtBRWhDLElBQ0UsSUFBSThnQixFQUFRalcsbUJBQW1CZ1csRUFBTSxJQUdyQyxHQUZBRCxFQUFJRSxHQUFTVCxFQUFVMVYsS0FBS25RLEVBQU9zbUIsR0FFL0I1b0IsSUFBUzRvQixFQUNYLEtBRUosQ0FBRSxNQUFPbGIsR0FBSSxDQUNmLENBRUEsT0FBTzFOLEVBQU8wb0IsRUFBSTFvQixHQUFRMG9CLENBcEIxQixDQXFCRixFQU1JOVYsT0FBUSxTQUFVNVMsRUFBTXFvQixHQUN0QmprQixFQUNFcEUsRUFDQSxHQUNBLEVBQU8sQ0FBQyxFQUFHcW9CLEVBQVksQ0FDckJsVyxTQUFVLElBR2hCLEVBQ0EwVyxlQUFnQixTQUFVUixHQUN4QixPQUFPaEQsRUFBSzNwQixLQUFLeXNCLFVBQVcsRUFBTyxDQUFDLEVBQUd6c0IsS0FBSzJzQixXQUFZQSxHQUMxRCxFQUNBUyxjQUFlLFNBQVVYLEdBQ3ZCLE9BQU85QyxFQUFLLEVBQU8sQ0FBQyxFQUFHM3BCLEtBQUt5c0IsVUFBV0EsR0FBWXpzQixLQUFLMnNCLFdBQzFELEdBRUYsQ0FDRUEsV0FBWSxDQUFFL2xCLE1BQU9yRyxPQUFPOHNCLE9BQU9YLElBQ25DRCxVQUFXLENBQUU3bEIsTUFBT3JHLE9BQU84c0IsT0FBT1osS0FHeEMsQ0FFVTlDLENBcEhhLENBQ3JCNVMsS0FBTSxTQUFVblEsR0FJZCxNQUhpQixNQUFiQSxFQUFNLEtBQ1JBLEVBQVFBLEVBQU01RixNQUFNLEdBQUksSUFFbkI0RixFQUFNUixRQUFRLG1CQUFvQjZRLG1CQUMzQyxFQUNBVCxNQUFPLFNBQVU1UCxHQUNmLE9BQU9tSCxtQkFBbUJuSCxHQUFPUixRQUMvQiwyQ0FDQTZRLG1CQUVKLEdBd0crQixDQUFFbEwsS0FBTSxNQ2hJekMsTUFBTXVoQixFQUNKQyxRQUFVLEVBRVYsR0FBQTdrQixDQUFJM0YsRUFBYTZELEVBQVk0RixHQUUzQixPQURBNUYsRUFBUTRGLEdBQVdBLEVBQVE1SyxTQUFXd0wsS0FBS0MsVUFBVXpHLEdBQVNBLEVBQ3ZENUcsS0FBS3V0QixRQUFRN2tCLElBQUkzRixFQUFLNkQsRUFDL0IsQ0FDQSxHQUFBd04sQ0FBSXJSLEdBQ0YsSUFDRSxPQUFPcUssS0FBSzJFLE1BQU0vUixLQUFLdXRCLFFBQVFuWixJQUFJclIsR0FDckMsQ0FBRSxNQUFPeUksR0FDUCxPQUFPeEwsS0FBS3V0QixRQUFRblosSUFBSXJSLEVBQzFCLENBQ0YsQ0FFQSxNQUFBbVUsQ0FBT25VLEdBQ0wvQyxLQUFLdXRCLFFBQVFyVyxPQUFPblUsRUFDdEIsRUF1QkYsTUFGNEIsSUFuQjVCLE1BRUV3cUIsUUFBVSxJQUFJRCxFQUdkRSx3QkFBa0MsMEJBRWxDLHNCQUFBbEUsQ0FBdUJ2WSxHQUNyQi9RLEtBQUt1dEIsUUFBUTdrQixJQUFJMUksS0FBS3d0Qix3QkFBeUJwZ0IsS0FBS0MsVUFBVTBELEdBQ2hFLENBRUEsc0JBQUFvWSxHQUNFLE9BQU9ucEIsS0FBS3V0QixRQUFRblosSUFBSXBVLEtBQUt3dEIsd0JBQy9CLENBQ0Esd0JBQUFDLEdBQ0UsT0FBT3p0QixLQUFLdXRCLFFBQVFyVyxPQUFPbFgsS0FBS3d0Qix3QkFDbEMsK0VDbkNLLE1BQU1FLEVBQ1gsd0JBQU1DLENBQW1CNWMsR0FBeUIsQ0FFbEQsbUJBQU02YyxDQUFjN2MsR0FBNkIsd0JDSDVDLFNBQVM4YyxFQUFZQyxHQUMxQixNQUFNLE9BQUVqWixFQUFNLE1BQUVqTyxFQUFLLFdBQUVtbkIsR0FBZUQsRUFDdEMsSUFBS2paLEVBQVEsTUFBTSxJQUFJbE0sTUFBTSw2QkFDN0IsR0FBZSxVQUFYa00sR0FNd0IsaUJBQWZrWixHQUFpRCxpQkFBZkEsRUFDM0MsTUFBTSxJQUFJcGxCLE1BQ1IsMEJBQTBCb2xCLEVBQVcsNENBSTNDLEdBQWUsU0FBWGxaLElBQ21CLGlCQUFWak8sSUFBdUJBLEVBQU1vbkIsT0FDdEMsTUFBTSxJQUFJcmxCLE1BQ1IsdUZBS1IsNkNDeEJJc2xCLEVBQTJCLENBQUMsRUFHaEMsU0FBU0MsRUFBb0JDLEdBRTVCLElBQUlDLEVBQWVILEVBQXlCRSxHQUM1QyxRQUFxQjNtQixJQUFqQjRtQixFQUNILE9BQU9BLEVBQWExdUIsUUFHckIsSUFBSUMsRUFBU3N1QixFQUF5QkUsR0FBWSxDQUdqRHp1QixRQUFTLENBQUMsR0FPWCxPQUhBMnVCLEVBQW9CRixHQUFVeHVCLEVBQVFBLEVBQU9ELFFBQVN3dUIsR0FHL0N2dUIsRUFBT0QsT0FDZixDQ3JCQXd1QixFQUFvQkksRUFBSSxTQUFTNXVCLEVBQVM2dUIsR0FDekMsSUFBSSxJQUFJeHJCLEtBQU93ckIsRUFDWEwsRUFBb0JNLEVBQUVELEVBQVl4ckIsS0FBU21yQixFQUFvQk0sRUFBRTl1QixFQUFTcUQsSUFDNUV4QyxPQUFPb0csZUFBZWpILEVBQVNxRCxFQUFLLENBQUV5RixZQUFZLEVBQU00TCxJQUFLbWEsRUFBV3hyQixJQUczRSxFQ1BBbXJCLEVBQW9CTSxFQUFJLFNBQVNoc0IsRUFBS3NCLEdBQVEsT0FBT3ZELE9BQU9DLFVBQVVxRCxlQUFlOUMsS0FBS3lCLEVBQUtzQixFQUFPLEVDQ3RHb3FCLEVBQW9CTyxFQUFJLFNBQVMvdUIsR0FDWCxvQkFBWHFDLFFBQTBCQSxPQUFPQyxhQUMxQ3pCLE9BQU9vRyxlQUFlakgsRUFBU3FDLE9BQU9DLFlBQWEsQ0FBRTRFLE1BQU8sV0FFN0RyRyxPQUFPb0csZUFBZWpILEVBQVMsYUFBYyxDQUFFa0gsT0FBTyxHQUN2RCxpSENnQkEsU0FBUzhuQixFQUFxQlosSUFDNUIsSUFBQUQsYUFBWUMsR0FDWixNQUFNLE9BQUVqWixFQUFNLFdBQUVrWixFQUFVLE1BQUVubkIsR0FBVWtuQixFQUN0QyxNQUFlLFVBQVhqWixFQUNLLENBQ0xvVixVQUFXOEQsRUFBYSxVQUN4QjdELFFBQVMsU0FHRSxTQUFYclYsRUFDSyxDQUNMb1YsVUFBV3JqQixFQUFNb25CLE1BQ2pCOUQsUUFBU3RqQixFQUFNK25CLEtBQU8sY0FIMUIsQ0FNRixDQUVPLE1BQU1DLFVBQXdCLEVBQUFsQix5QkFDbkNtQixZQUNBdEcsc0JBRUEsV0FBQXZqQixDQUFZd0gsR0FDVnNpQixRQUNBOXVCLEtBQUt1b0Isc0JBQXdCL2IsRUFDN0J4TSxLQUFLNnVCLFlBQWMsSUFBSSxFQUFBakgscUJBQXFCcGIsRUFDOUMsQ0FFQSxrQkFBTWllLEdBQ0osSUFBS3pxQixLQUFLNnVCLFlBQ1IsTUFBTSxJQUFJbG1CLE1BQ1IscUZBR0osSUFBSzNJLEtBQUs2dUIsWUFBWXBGLDZCQUNwQixNQUFNLElBQUk5Z0IsTUFDUixnREFJSixhQUFhM0ksS0FBSzZ1QixZQUFZcEUsY0FDaEMsQ0FFQSx3QkFBTWtELENBQW1CNWMsR0FDdkIsTUFBTSxPQUFFK2MsRUFBUWlCLEtBQUssU0FBRWpGLEVBQVEsT0FBRWpWLEdBQVcsQ0FBQyxHQUFNOUQsRUFDbkQvUSxLQUFLZ3ZCLGNBQWNsRixHQUNuQixJQUFJdGQsRUFBVSxDQUNadWQsV0FBWSxDQUFDLFFBQ2JDLFFBQVMsQ0FDUCxXQUNBLFdBQ0Esa0JBQ0EsNkJBRUMwRSxFQUFxQlosR0FDeEJqWixVQUdGLGFBQWE3VSxLQUFLNnVCLFlBQVloRixZQUFZQyxFQUFVdGQsRUFDdEQsQ0FFQSxtQkFBTW9oQixDQUFjN2MsR0FDbEIsTUFBTSxPQUFFa2UsRUFBTSxPQUFFbkIsRUFBUWlCLEtBQUssU0FBRWpGLEVBQVEsT0FBRWpWLEdBQVcsQ0FBQyxHQUFNOUQsRUFDM0QvUSxLQUFLZ3ZCLGNBQWNsRixHQUVuQixNQUFNRSxFQTVFVixTQUFnQ2lGLEdBUzlCLE9BUmlCQSxFQUFPL2lCLEtBQUtnakIsSUFDM0IsTUFBTSxLQUFFNXFCLEVBQU02cUIsTUFBTSxJQUFFSixHQUFRLENBQUMsR0FBTUcsRUFDckMsT0FBSUgsR0FDRUEsRUFBSUssV0FBbUIsZUFBZTlxQixJQUVyQ0EsQ0FBSSxHQUlmLENBa0VvQitxQixDQUF1QkosR0FDdkMsSUFBSXppQixFQUFVLENBQ1p1ZCxXQUFZLEdBQ1pDLGFBQ0cwRSxFQUFxQlosR0FDeEJqWixVQUdGLGFBQWE3VSxLQUFLNnVCLFlBQ2ZoRixZQUFZQyxFQUFVdGQsR0FDdEJsQyxNQUFNMEgsSUFDTCxNQUFNNFosRUFBUzVaLEdBQUdtWixlQUFpQixDQUFDLEVBQ3BDNUssUUFBUTZJLElBQUksU0FBVXdDLEVBQVE1QixHQUM5QixNQUFNMWtCLEVBQVMsQ0FBQyxFQUNoQixJQUFLLElBQUltSSxFQUFRLEVBQUdBLEVBQVF1YyxFQUFRcm5CLE9BQVE4SyxJQUFTLENBQ25ELE1BQU1ELEVBQUt5aEIsRUFBTy9pQixLQUFJOEYsR0FBR0EsRUFBRTFOLE9BQU1tSixHQUNqQ25JLEVBQU9rSSxHQUFNb2UsRUFBTzVCLEVBQVF2YyxHQUM5QixDQUNBLE9BQU9uSSxDQUFNLEdBRW5CLENBRVEsYUFBQTBwQixDQUFjbEYsR0FDcEIsSUFBS0EsRUFDSCxNQUFNLElBQUluaEIsTUFBTSw2QkFFcEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hbmFseXRpY3MtY2xpZW50L3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9hbmFseXRpY3MtY2xpZW50Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL2F4aW9zQDEuNi4yL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9iaW5kLmpzIiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi91dGlscy5qcyIsIndlYnBhY2s6Ly9hbmFseXRpY3MtY2xpZW50Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL2F4aW9zQDEuNi4yL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9BeGlvc0Vycm9yLmpzIiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3RvRm9ybURhdGEuanMiLCJ3ZWJwYWNrOi8vYW5hbHl0aWNzLWNsaWVudC8uL25vZGVfbW9kdWxlcy8ucG5wbS9heGlvc0AxLjYuMi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvQXhpb3NVUkxTZWFyY2hQYXJhbXMuanMiLCJ3ZWJwYWNrOi8vYW5hbHl0aWNzLWNsaWVudC8uL25vZGVfbW9kdWxlcy8ucG5wbS9heGlvc0AxLjYuMi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvYnVpbGRVUkwuanMiLCJ3ZWJwYWNrOi8vYW5hbHl0aWNzLWNsaWVudC8uL25vZGVfbW9kdWxlcy8ucG5wbS9heGlvc0AxLjYuMi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvSW50ZXJjZXB0b3JNYW5hZ2VyLmpzIiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9kZWZhdWx0cy90cmFuc2l0aW9uYWwuanMiLCJ3ZWJwYWNrOi8vYW5hbHl0aWNzLWNsaWVudC8uL25vZGVfbW9kdWxlcy8ucG5wbS9heGlvc0AxLjYuMi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL3BsYXRmb3JtL2Jyb3dzZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vYW5hbHl0aWNzLWNsaWVudC8uL25vZGVfbW9kdWxlcy8ucG5wbS9heGlvc0AxLjYuMi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL3BsYXRmb3JtL2Jyb3dzZXIvY2xhc3Nlcy9VUkxTZWFyY2hQYXJhbXMuanMiLCJ3ZWJwYWNrOi8vYW5hbHl0aWNzLWNsaWVudC8uL25vZGVfbW9kdWxlcy8ucG5wbS9heGlvc0AxLjYuMi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL3BsYXRmb3JtL2Jyb3dzZXIvY2xhc3Nlcy9Gb3JtRGF0YS5qcyIsIndlYnBhY2s6Ly9hbmFseXRpY3MtY2xpZW50Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL2F4aW9zQDEuNi4yL25vZGVfbW9kdWxlcy9heGlvcy9saWIvcGxhdGZvcm0vYnJvd3Nlci9jbGFzc2VzL0Jsb2IuanMiLCJ3ZWJwYWNrOi8vYW5hbHl0aWNzLWNsaWVudC8uL25vZGVfbW9kdWxlcy8ucG5wbS9heGlvc0AxLjYuMi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL3BsYXRmb3JtL2NvbW1vbi91dGlscy5qcyIsIndlYnBhY2s6Ly9hbmFseXRpY3MtY2xpZW50Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL2F4aW9zQDEuNi4yL25vZGVfbW9kdWxlcy9heGlvcy9saWIvcGxhdGZvcm0vaW5kZXguanMiLCJ3ZWJwYWNrOi8vYW5hbHl0aWNzLWNsaWVudC8uL25vZGVfbW9kdWxlcy8ucG5wbS9heGlvc0AxLjYuMi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvZm9ybURhdGFUb0pTT04uanMiLCJ3ZWJwYWNrOi8vYW5hbHl0aWNzLWNsaWVudC8uL25vZGVfbW9kdWxlcy8ucG5wbS9heGlvc0AxLjYuMi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2RlZmF1bHRzL2luZGV4LmpzIiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3RvVVJMRW5jb2RlZEZvcm0uanMiLCJ3ZWJwYWNrOi8vYW5hbHl0aWNzLWNsaWVudC8uL25vZGVfbW9kdWxlcy8ucG5wbS9heGlvc0AxLjYuMi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvcGFyc2VIZWFkZXJzLmpzIiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL0F4aW9zSGVhZGVycy5qcyIsIndlYnBhY2s6Ly9hbmFseXRpY3MtY2xpZW50Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL2F4aW9zQDEuNi4yL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS90cmFuc2Zvcm1EYXRhLmpzIiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvaXNDYW5jZWwuanMiLCJ3ZWJwYWNrOi8vYW5hbHl0aWNzLWNsaWVudC8uL25vZGVfbW9kdWxlcy8ucG5wbS9heGlvc0AxLjYuMi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NhbmNlbC9DYW5jZWxlZEVycm9yLmpzIiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2Nvb2tpZXMuanMiLCJ3ZWJwYWNrOi8vYW5hbHl0aWNzLWNsaWVudC8uL25vZGVfbW9kdWxlcy8ucG5wbS9heGlvc0AxLjYuMi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvYnVpbGRGdWxsUGF0aC5qcyIsIndlYnBhY2s6Ly9hbmFseXRpY3MtY2xpZW50Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL2F4aW9zQDEuNi4yL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9pc0Fic29sdXRlVVJMLmpzIiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2NvbWJpbmVVUkxzLmpzIiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2lzVVJMU2FtZU9yaWdpbi5qcyIsIndlYnBhY2s6Ly9hbmFseXRpY3MtY2xpZW50Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL2F4aW9zQDEuNi4yL25vZGVfbW9kdWxlcy9heGlvcy9saWIvYWRhcHRlcnMveGhyLmpzIiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3NwZWVkb21ldGVyLmpzIiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9hZGFwdGVycy9hZGFwdGVycy5qcyIsIndlYnBhY2s6Ly9hbmFseXRpY3MtY2xpZW50Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL2F4aW9zQDEuNi4yL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9udWxsLmpzIiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL3NldHRsZS5qcyIsIndlYnBhY2s6Ly9hbmFseXRpY3MtY2xpZW50Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL2F4aW9zQDEuNi4yL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9wYXJzZVByb3RvY29sLmpzIiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2Rpc3BhdGNoUmVxdWVzdC5qcyIsIndlYnBhY2s6Ly9hbmFseXRpY3MtY2xpZW50Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL2F4aW9zQDEuNi4yL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9tZXJnZUNvbmZpZy5qcyIsIndlYnBhY2s6Ly9hbmFseXRpY3MtY2xpZW50Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL2F4aW9zQDEuNi4yL25vZGVfbW9kdWxlcy9heGlvcy9saWIvZW52L2RhdGEuanMiLCJ3ZWJwYWNrOi8vYW5hbHl0aWNzLWNsaWVudC8uL25vZGVfbW9kdWxlcy8ucG5wbS9heGlvc0AxLjYuMi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvdmFsaWRhdG9yLmpzIiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL0F4aW9zLmpzIiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvQ2FuY2VsVG9rZW4uanMiLCJ3ZWJwYWNrOi8vYW5hbHl0aWNzLWNsaWVudC8uL25vZGVfbW9kdWxlcy8ucG5wbS9heGlvc0AxLjYuMi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvSHR0cFN0YXR1c0NvZGUuanMiLCJ3ZWJwYWNrOi8vYW5hbHl0aWNzLWNsaWVudC8uL25vZGVfbW9kdWxlcy8ucG5wbS9heGlvc0AxLjYuMi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2F4aW9zLmpzIiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3NwcmVhZC5qcyIsIndlYnBhY2s6Ly9hbmFseXRpY3MtY2xpZW50Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL2F4aW9zQDEuNi4yL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9pc0F4aW9zRXJyb3IuanMiLCJ3ZWJwYWNrOi8vYW5hbHl0aWNzLWNsaWVudC8uL3NyYy9kZXBzL2h0dHAtY2xpZW50LnRzIiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvLi9zcmMvbGliL2dhcGkvYW5hbHl0aWNzL2dhcGkuYW5hbHl0aWNzLnNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vYW5hbHl0aWNzLWNsaWVudC8uL3NyYy9saWIvZ2FwaS9nYXBpLnV0aWxzLnRzIiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvLi9ub2RlX21vZHVsZXMvLnBucG0vanMtY29va2llQDMuMC41L25vZGVfbW9kdWxlcy9qcy1jb29raWUvZGlzdC9qcy5jb29raWUubWpzIiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvLi9zcmMvbGliL2dhcGkvc3RvcmFnZS5zZXJ2aWNlLnRzIiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvLi9zcmMvdHlwZXMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vYW5hbHl0aWNzLWNsaWVudC8uL3NyYy91dGlscy9pbmRleC50cyIsIndlYnBhY2s6Ly9hbmFseXRpY3MtY2xpZW50L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9hbmFseXRpY3MtY2xpZW50L3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vYW5hbHl0aWNzLWNsaWVudC8uL3NyYy9saWIvZ2FwaS9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2Uge1xuXHRcdHZhciBhID0gZmFjdG9yeSgpO1xuXHRcdGZvcih2YXIgaSBpbiBhKSAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnID8gZXhwb3J0cyA6IHJvb3QpW2ldID0gYVtpXTtcblx0fVxufSkodGhpcywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBiaW5kKGZuLCB0aGlzQXJnKSB7XG4gIHJldHVybiBmdW5jdGlvbiB3cmFwKCkge1xuICAgIHJldHVybiBmbi5hcHBseSh0aGlzQXJnLCBhcmd1bWVudHMpO1xuICB9O1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgYmluZCBmcm9tICcuL2hlbHBlcnMvYmluZC5qcyc7XG5cbi8vIHV0aWxzIGlzIGEgbGlicmFyeSBvZiBnZW5lcmljIGhlbHBlciBmdW5jdGlvbnMgbm9uLXNwZWNpZmljIHRvIGF4aW9zXG5cbmNvbnN0IHt0b1N0cmluZ30gPSBPYmplY3QucHJvdG90eXBlO1xuY29uc3Qge2dldFByb3RvdHlwZU9mfSA9IE9iamVjdDtcblxuY29uc3Qga2luZE9mID0gKGNhY2hlID0+IHRoaW5nID0+IHtcbiAgICBjb25zdCBzdHIgPSB0b1N0cmluZy5jYWxsKHRoaW5nKTtcbiAgICByZXR1cm4gY2FjaGVbc3RyXSB8fCAoY2FjaGVbc3RyXSA9IHN0ci5zbGljZSg4LCAtMSkudG9Mb3dlckNhc2UoKSk7XG59KShPYmplY3QuY3JlYXRlKG51bGwpKTtcblxuY29uc3Qga2luZE9mVGVzdCA9ICh0eXBlKSA9PiB7XG4gIHR5cGUgPSB0eXBlLnRvTG93ZXJDYXNlKCk7XG4gIHJldHVybiAodGhpbmcpID0+IGtpbmRPZih0aGluZykgPT09IHR5cGVcbn1cblxuY29uc3QgdHlwZU9mVGVzdCA9IHR5cGUgPT4gdGhpbmcgPT4gdHlwZW9mIHRoaW5nID09PSB0eXBlO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIEFycmF5XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEFycmF5LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3Qge2lzQXJyYXl9ID0gQXJyYXk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgdW5kZWZpbmVkXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmFsdWUgaXMgdW5kZWZpbmVkLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNVbmRlZmluZWQgPSB0eXBlT2ZUZXN0KCd1bmRlZmluZWQnKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0J1ZmZlcih2YWwpIHtcbiAgcmV0dXJuIHZhbCAhPT0gbnVsbCAmJiAhaXNVbmRlZmluZWQodmFsKSAmJiB2YWwuY29uc3RydWN0b3IgIT09IG51bGwgJiYgIWlzVW5kZWZpbmVkKHZhbC5jb25zdHJ1Y3RvcilcbiAgICAmJiBpc0Z1bmN0aW9uKHZhbC5jb25zdHJ1Y3Rvci5pc0J1ZmZlcikgJiYgdmFsLmNvbnN0cnVjdG9yLmlzQnVmZmVyKHZhbCk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gQXJyYXlCdWZmZXJcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEFycmF5QnVmZmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNBcnJheUJ1ZmZlciA9IGtpbmRPZlRlc3QoJ0FycmF5QnVmZmVyJyk7XG5cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIHZpZXcgb24gYW4gQXJyYXlCdWZmZXJcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgdmlldyBvbiBhbiBBcnJheUJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlCdWZmZXJWaWV3KHZhbCkge1xuICBsZXQgcmVzdWx0O1xuICBpZiAoKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcpICYmIChBcnJheUJ1ZmZlci5pc1ZpZXcpKSB7XG4gICAgcmVzdWx0ID0gQXJyYXlCdWZmZXIuaXNWaWV3KHZhbCk7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0ID0gKHZhbCkgJiYgKHZhbC5idWZmZXIpICYmIChpc0FycmF5QnVmZmVyKHZhbC5idWZmZXIpKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgU3RyaW5nXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFN0cmluZywgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzU3RyaW5nID0gdHlwZU9mVGVzdCgnc3RyaW5nJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGdW5jdGlvblxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEZ1bmN0aW9uLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNGdW5jdGlvbiA9IHR5cGVPZlRlc3QoJ2Z1bmN0aW9uJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBOdW1iZXJcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgTnVtYmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNOdW1iZXIgPSB0eXBlT2ZUZXN0KCdudW1iZXInKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBPYmplY3RcbiAqXG4gKiBAcGFyYW0geyp9IHRoaW5nIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gT2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNPYmplY3QgPSAodGhpbmcpID0+IHRoaW5nICE9PSBudWxsICYmIHR5cGVvZiB0aGluZyA9PT0gJ29iamVjdCc7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBCb29sZWFuXG4gKlxuICogQHBhcmFtIHsqfSB0aGluZyBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBCb29sZWFuLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNCb29sZWFuID0gdGhpbmcgPT4gdGhpbmcgPT09IHRydWUgfHwgdGhpbmcgPT09IGZhbHNlO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgcGxhaW4gT2JqZWN0XG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIHBsYWluIE9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzUGxhaW5PYmplY3QgPSAodmFsKSA9PiB7XG4gIGlmIChraW5kT2YodmFsKSAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBwcm90b3R5cGUgPSBnZXRQcm90b3R5cGVPZih2YWwpO1xuICByZXR1cm4gKHByb3RvdHlwZSA9PT0gbnVsbCB8fCBwcm90b3R5cGUgPT09IE9iamVjdC5wcm90b3R5cGUgfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKHByb3RvdHlwZSkgPT09IG51bGwpICYmICEoU3ltYm9sLnRvU3RyaW5nVGFnIGluIHZhbCkgJiYgIShTeW1ib2wuaXRlcmF0b3IgaW4gdmFsKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIERhdGVcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRGF0ZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzRGF0ZSA9IGtpbmRPZlRlc3QoJ0RhdGUnKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZpbGVcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRmlsZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzRmlsZSA9IGtpbmRPZlRlc3QoJ0ZpbGUnKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEJsb2JcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgQmxvYiwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzQmxvYiA9IGtpbmRPZlRlc3QoJ0Jsb2InKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZpbGVMaXN0XG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEZpbGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc0ZpbGVMaXN0ID0ga2luZE9mVGVzdCgnRmlsZUxpc3QnKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFN0cmVhbVxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBTdHJlYW0sIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc1N0cmVhbSA9ICh2YWwpID0+IGlzT2JqZWN0KHZhbCkgJiYgaXNGdW5jdGlvbih2YWwucGlwZSk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGb3JtRGF0YVxuICpcbiAqIEBwYXJhbSB7Kn0gdGhpbmcgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBGb3JtRGF0YSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzRm9ybURhdGEgPSAodGhpbmcpID0+IHtcbiAgbGV0IGtpbmQ7XG4gIHJldHVybiB0aGluZyAmJiAoXG4gICAgKHR5cGVvZiBGb3JtRGF0YSA9PT0gJ2Z1bmN0aW9uJyAmJiB0aGluZyBpbnN0YW5jZW9mIEZvcm1EYXRhKSB8fCAoXG4gICAgICBpc0Z1bmN0aW9uKHRoaW5nLmFwcGVuZCkgJiYgKFxuICAgICAgICAoa2luZCA9IGtpbmRPZih0aGluZykpID09PSAnZm9ybWRhdGEnIHx8XG4gICAgICAgIC8vIGRldGVjdCBmb3JtLWRhdGEgaW5zdGFuY2VcbiAgICAgICAgKGtpbmQgPT09ICdvYmplY3QnICYmIGlzRnVuY3Rpb24odGhpbmcudG9TdHJpbmcpICYmIHRoaW5nLnRvU3RyaW5nKCkgPT09ICdbb2JqZWN0IEZvcm1EYXRhXScpXG4gICAgICApXG4gICAgKVxuICApXG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBVUkxTZWFyY2hQYXJhbXMgb2JqZWN0XG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFVSTFNlYXJjaFBhcmFtcyBvYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc1VSTFNlYXJjaFBhcmFtcyA9IGtpbmRPZlRlc3QoJ1VSTFNlYXJjaFBhcmFtcycpO1xuXG4vKipcbiAqIFRyaW0gZXhjZXNzIHdoaXRlc3BhY2Ugb2ZmIHRoZSBiZWdpbm5pbmcgYW5kIGVuZCBvZiBhIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgVGhlIFN0cmluZyB0byB0cmltXG4gKlxuICogQHJldHVybnMge1N0cmluZ30gVGhlIFN0cmluZyBmcmVlZCBvZiBleGNlc3Mgd2hpdGVzcGFjZVxuICovXG5jb25zdCB0cmltID0gKHN0cikgPT4gc3RyLnRyaW0gP1xuICBzdHIudHJpbSgpIDogc3RyLnJlcGxhY2UoL15bXFxzXFx1RkVGRlxceEEwXSt8W1xcc1xcdUZFRkZcXHhBMF0rJC9nLCAnJyk7XG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGFuIEFycmF5IG9yIGFuIE9iamVjdCBpbnZva2luZyBhIGZ1bmN0aW9uIGZvciBlYWNoIGl0ZW0uXG4gKlxuICogSWYgYG9iamAgaXMgYW4gQXJyYXkgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgcGFzc2luZ1xuICogdGhlIHZhbHVlLCBpbmRleCwgYW5kIGNvbXBsZXRlIGFycmF5IGZvciBlYWNoIGl0ZW0uXG4gKlxuICogSWYgJ29iaicgaXMgYW4gT2JqZWN0IGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHBhc3NpbmdcbiAqIHRoZSB2YWx1ZSwga2V5LCBhbmQgY29tcGxldGUgb2JqZWN0IGZvciBlYWNoIHByb3BlcnR5LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBvYmogVGhlIG9iamVjdCB0byBpdGVyYXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgY2FsbGJhY2sgdG8gaW52b2tlIGZvciBlYWNoIGl0ZW1cbiAqXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFthbGxPd25LZXlzID0gZmFsc2VdXG4gKiBAcmV0dXJucyB7YW55fVxuICovXG5mdW5jdGlvbiBmb3JFYWNoKG9iaiwgZm4sIHthbGxPd25LZXlzID0gZmFsc2V9ID0ge30pIHtcbiAgLy8gRG9uJ3QgYm90aGVyIGlmIG5vIHZhbHVlIHByb3ZpZGVkXG4gIGlmIChvYmogPT09IG51bGwgfHwgdHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBsZXQgaTtcbiAgbGV0IGw7XG5cbiAgLy8gRm9yY2UgYW4gYXJyYXkgaWYgbm90IGFscmVhZHkgc29tZXRoaW5nIGl0ZXJhYmxlXG4gIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xuICAgIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAgIG9iaiA9IFtvYmpdO1xuICB9XG5cbiAgaWYgKGlzQXJyYXkob2JqKSkge1xuICAgIC8vIEl0ZXJhdGUgb3ZlciBhcnJheSB2YWx1ZXNcbiAgICBmb3IgKGkgPSAwLCBsID0gb2JqLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgZm4uY2FsbChudWxsLCBvYmpbaV0sIGksIG9iaik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIEl0ZXJhdGUgb3ZlciBvYmplY3Qga2V5c1xuICAgIGNvbnN0IGtleXMgPSBhbGxPd25LZXlzID8gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMob2JqKSA6IE9iamVjdC5rZXlzKG9iaik7XG4gICAgY29uc3QgbGVuID0ga2V5cy5sZW5ndGg7XG4gICAgbGV0IGtleTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgIGZuLmNhbGwobnVsbCwgb2JqW2tleV0sIGtleSwgb2JqKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZmluZEtleShvYmosIGtleSkge1xuICBrZXkgPSBrZXkudG9Mb3dlckNhc2UoKTtcbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gIGxldCBpID0ga2V5cy5sZW5ndGg7XG4gIGxldCBfa2V5O1xuICB3aGlsZSAoaS0tID4gMCkge1xuICAgIF9rZXkgPSBrZXlzW2ldO1xuICAgIGlmIChrZXkgPT09IF9rZXkudG9Mb3dlckNhc2UoKSkge1xuICAgICAgcmV0dXJuIF9rZXk7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5jb25zdCBfZ2xvYmFsID0gKCgpID0+IHtcbiAgLyplc2xpbnQgbm8tdW5kZWY6MCovXG4gIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuIGdsb2JhbFRoaXM7XG4gIHJldHVybiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiBnbG9iYWwpXG59KSgpO1xuXG5jb25zdCBpc0NvbnRleHREZWZpbmVkID0gKGNvbnRleHQpID0+ICFpc1VuZGVmaW5lZChjb250ZXh0KSAmJiBjb250ZXh0ICE9PSBfZ2xvYmFsO1xuXG4vKipcbiAqIEFjY2VwdHMgdmFyYXJncyBleHBlY3RpbmcgZWFjaCBhcmd1bWVudCB0byBiZSBhbiBvYmplY3QsIHRoZW5cbiAqIGltbXV0YWJseSBtZXJnZXMgdGhlIHByb3BlcnRpZXMgb2YgZWFjaCBvYmplY3QgYW5kIHJldHVybnMgcmVzdWx0LlxuICpcbiAqIFdoZW4gbXVsdGlwbGUgb2JqZWN0cyBjb250YWluIHRoZSBzYW1lIGtleSB0aGUgbGF0ZXIgb2JqZWN0IGluXG4gKiB0aGUgYXJndW1lbnRzIGxpc3Qgd2lsbCB0YWtlIHByZWNlZGVuY2UuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiBgYGBqc1xuICogdmFyIHJlc3VsdCA9IG1lcmdlKHtmb286IDEyM30sIHtmb286IDQ1Nn0pO1xuICogY29uc29sZS5sb2cocmVzdWx0LmZvbyk7IC8vIG91dHB1dHMgNDU2XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqMSBPYmplY3QgdG8gbWVyZ2VcbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXN1bHQgb2YgYWxsIG1lcmdlIHByb3BlcnRpZXNcbiAqL1xuZnVuY3Rpb24gbWVyZ2UoLyogb2JqMSwgb2JqMiwgb2JqMywgLi4uICovKSB7XG4gIGNvbnN0IHtjYXNlbGVzc30gPSBpc0NvbnRleHREZWZpbmVkKHRoaXMpICYmIHRoaXMgfHwge307XG4gIGNvbnN0IHJlc3VsdCA9IHt9O1xuICBjb25zdCBhc3NpZ25WYWx1ZSA9ICh2YWwsIGtleSkgPT4ge1xuICAgIGNvbnN0IHRhcmdldEtleSA9IGNhc2VsZXNzICYmIGZpbmRLZXkocmVzdWx0LCBrZXkpIHx8IGtleTtcbiAgICBpZiAoaXNQbGFpbk9iamVjdChyZXN1bHRbdGFyZ2V0S2V5XSkgJiYgaXNQbGFpbk9iamVjdCh2YWwpKSB7XG4gICAgICByZXN1bHRbdGFyZ2V0S2V5XSA9IG1lcmdlKHJlc3VsdFt0YXJnZXRLZXldLCB2YWwpO1xuICAgIH0gZWxzZSBpZiAoaXNQbGFpbk9iamVjdCh2YWwpKSB7XG4gICAgICByZXN1bHRbdGFyZ2V0S2V5XSA9IG1lcmdlKHt9LCB2YWwpO1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheSh2YWwpKSB7XG4gICAgICByZXN1bHRbdGFyZ2V0S2V5XSA9IHZhbC5zbGljZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHRbdGFyZ2V0S2V5XSA9IHZhbDtcbiAgICB9XG4gIH1cblxuICBmb3IgKGxldCBpID0gMCwgbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBhcmd1bWVudHNbaV0gJiYgZm9yRWFjaChhcmd1bWVudHNbaV0sIGFzc2lnblZhbHVlKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEV4dGVuZHMgb2JqZWN0IGEgYnkgbXV0YWJseSBhZGRpbmcgdG8gaXQgdGhlIHByb3BlcnRpZXMgb2Ygb2JqZWN0IGIuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGEgVGhlIG9iamVjdCB0byBiZSBleHRlbmRlZFxuICogQHBhcmFtIHtPYmplY3R9IGIgVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbVxuICogQHBhcmFtIHtPYmplY3R9IHRoaXNBcmcgVGhlIG9iamVjdCB0byBiaW5kIGZ1bmN0aW9uIHRvXG4gKlxuICogQHBhcmFtIHtCb29sZWFufSBbYWxsT3duS2V5c11cbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSByZXN1bHRpbmcgdmFsdWUgb2Ygb2JqZWN0IGFcbiAqL1xuY29uc3QgZXh0ZW5kID0gKGEsIGIsIHRoaXNBcmcsIHthbGxPd25LZXlzfT0ge30pID0+IHtcbiAgZm9yRWFjaChiLCAodmFsLCBrZXkpID0+IHtcbiAgICBpZiAodGhpc0FyZyAmJiBpc0Z1bmN0aW9uKHZhbCkpIHtcbiAgICAgIGFba2V5XSA9IGJpbmQodmFsLCB0aGlzQXJnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYVtrZXldID0gdmFsO1xuICAgIH1cbiAgfSwge2FsbE93bktleXN9KTtcbiAgcmV0dXJuIGE7XG59XG5cbi8qKlxuICogUmVtb3ZlIGJ5dGUgb3JkZXIgbWFya2VyLiBUaGlzIGNhdGNoZXMgRUYgQkIgQkYgKHRoZSBVVEYtOCBCT00pXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbnRlbnQgd2l0aCBCT01cbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBjb250ZW50IHZhbHVlIHdpdGhvdXQgQk9NXG4gKi9cbmNvbnN0IHN0cmlwQk9NID0gKGNvbnRlbnQpID0+IHtcbiAgaWYgKGNvbnRlbnQuY2hhckNvZGVBdCgwKSA9PT0gMHhGRUZGKSB7XG4gICAgY29udGVudCA9IGNvbnRlbnQuc2xpY2UoMSk7XG4gIH1cbiAgcmV0dXJuIGNvbnRlbnQ7XG59XG5cbi8qKlxuICogSW5oZXJpdCB0aGUgcHJvdG90eXBlIG1ldGhvZHMgZnJvbSBvbmUgY29uc3RydWN0b3IgaW50byBhbm90aGVyXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtmdW5jdGlvbn0gc3VwZXJDb25zdHJ1Y3RvclxuICogQHBhcmFtIHtvYmplY3R9IFtwcm9wc11cbiAqIEBwYXJhbSB7b2JqZWN0fSBbZGVzY3JpcHRvcnNdXG4gKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmNvbnN0IGluaGVyaXRzID0gKGNvbnN0cnVjdG9yLCBzdXBlckNvbnN0cnVjdG9yLCBwcm9wcywgZGVzY3JpcHRvcnMpID0+IHtcbiAgY29uc3RydWN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNvbnN0cnVjdG9yLnByb3RvdHlwZSwgZGVzY3JpcHRvcnMpO1xuICBjb25zdHJ1Y3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjb25zdHJ1Y3RvcjtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbnN0cnVjdG9yLCAnc3VwZXInLCB7XG4gICAgdmFsdWU6IHN1cGVyQ29uc3RydWN0b3IucHJvdG90eXBlXG4gIH0pO1xuICBwcm9wcyAmJiBPYmplY3QuYXNzaWduKGNvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvcHMpO1xufVxuXG4vKipcbiAqIFJlc29sdmUgb2JqZWN0IHdpdGggZGVlcCBwcm90b3R5cGUgY2hhaW4gdG8gYSBmbGF0IG9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZU9iaiBzb3VyY2Ugb2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gW2Rlc3RPYmpdXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufEJvb2xlYW59IFtmaWx0ZXJdXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJvcEZpbHRlcl1cbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICovXG5jb25zdCB0b0ZsYXRPYmplY3QgPSAoc291cmNlT2JqLCBkZXN0T2JqLCBmaWx0ZXIsIHByb3BGaWx0ZXIpID0+IHtcbiAgbGV0IHByb3BzO1xuICBsZXQgaTtcbiAgbGV0IHByb3A7XG4gIGNvbnN0IG1lcmdlZCA9IHt9O1xuXG4gIGRlc3RPYmogPSBkZXN0T2JqIHx8IHt9O1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgaWYgKHNvdXJjZU9iaiA9PSBudWxsKSByZXR1cm4gZGVzdE9iajtcblxuICBkbyB7XG4gICAgcHJvcHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhzb3VyY2VPYmopO1xuICAgIGkgPSBwcm9wcy5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSA+IDApIHtcbiAgICAgIHByb3AgPSBwcm9wc1tpXTtcbiAgICAgIGlmICgoIXByb3BGaWx0ZXIgfHwgcHJvcEZpbHRlcihwcm9wLCBzb3VyY2VPYmosIGRlc3RPYmopKSAmJiAhbWVyZ2VkW3Byb3BdKSB7XG4gICAgICAgIGRlc3RPYmpbcHJvcF0gPSBzb3VyY2VPYmpbcHJvcF07XG4gICAgICAgIG1lcmdlZFtwcm9wXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHNvdXJjZU9iaiA9IGZpbHRlciAhPT0gZmFsc2UgJiYgZ2V0UHJvdG90eXBlT2Yoc291cmNlT2JqKTtcbiAgfSB3aGlsZSAoc291cmNlT2JqICYmICghZmlsdGVyIHx8IGZpbHRlcihzb3VyY2VPYmosIGRlc3RPYmopKSAmJiBzb3VyY2VPYmogIT09IE9iamVjdC5wcm90b3R5cGUpO1xuXG4gIHJldHVybiBkZXN0T2JqO1xufVxuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciBhIHN0cmluZyBlbmRzIHdpdGggdGhlIGNoYXJhY3RlcnMgb2YgYSBzcGVjaWZpZWQgc3RyaW5nXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHBhcmFtIHtTdHJpbmd9IHNlYXJjaFN0cmluZ1xuICogQHBhcmFtIHtOdW1iZXJ9IFtwb3NpdGlvbj0gMF1cbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuY29uc3QgZW5kc1dpdGggPSAoc3RyLCBzZWFyY2hTdHJpbmcsIHBvc2l0aW9uKSA9PiB7XG4gIHN0ciA9IFN0cmluZyhzdHIpO1xuICBpZiAocG9zaXRpb24gPT09IHVuZGVmaW5lZCB8fCBwb3NpdGlvbiA+IHN0ci5sZW5ndGgpIHtcbiAgICBwb3NpdGlvbiA9IHN0ci5sZW5ndGg7XG4gIH1cbiAgcG9zaXRpb24gLT0gc2VhcmNoU3RyaW5nLmxlbmd0aDtcbiAgY29uc3QgbGFzdEluZGV4ID0gc3RyLmluZGV4T2Yoc2VhcmNoU3RyaW5nLCBwb3NpdGlvbik7XG4gIHJldHVybiBsYXN0SW5kZXggIT09IC0xICYmIGxhc3RJbmRleCA9PT0gcG9zaXRpb247XG59XG5cblxuLyoqXG4gKiBSZXR1cm5zIG5ldyBhcnJheSBmcm9tIGFycmF5IGxpa2Ugb2JqZWN0IG9yIG51bGwgaWYgZmFpbGVkXG4gKlxuICogQHBhcmFtIHsqfSBbdGhpbmddXG4gKlxuICogQHJldHVybnMgez9BcnJheX1cbiAqL1xuY29uc3QgdG9BcnJheSA9ICh0aGluZykgPT4ge1xuICBpZiAoIXRoaW5nKSByZXR1cm4gbnVsbDtcbiAgaWYgKGlzQXJyYXkodGhpbmcpKSByZXR1cm4gdGhpbmc7XG4gIGxldCBpID0gdGhpbmcubGVuZ3RoO1xuICBpZiAoIWlzTnVtYmVyKGkpKSByZXR1cm4gbnVsbDtcbiAgY29uc3QgYXJyID0gbmV3IEFycmF5KGkpO1xuICB3aGlsZSAoaS0tID4gMCkge1xuICAgIGFycltpXSA9IHRoaW5nW2ldO1xuICB9XG4gIHJldHVybiBhcnI7XG59XG5cbi8qKlxuICogQ2hlY2tpbmcgaWYgdGhlIFVpbnQ4QXJyYXkgZXhpc3RzIGFuZCBpZiBpdCBkb2VzLCBpdCByZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBjaGVja3MgaWYgdGhlXG4gKiB0aGluZyBwYXNzZWQgaW4gaXMgYW4gaW5zdGFuY2Ugb2YgVWludDhBcnJheVxuICpcbiAqIEBwYXJhbSB7VHlwZWRBcnJheX1cbiAqXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5jb25zdCBpc1R5cGVkQXJyYXkgPSAoVHlwZWRBcnJheSA9PiB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gIHJldHVybiB0aGluZyA9PiB7XG4gICAgcmV0dXJuIFR5cGVkQXJyYXkgJiYgdGhpbmcgaW5zdGFuY2VvZiBUeXBlZEFycmF5O1xuICB9O1xufSkodHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnICYmIGdldFByb3RvdHlwZU9mKFVpbnQ4QXJyYXkpKTtcblxuLyoqXG4gKiBGb3IgZWFjaCBlbnRyeSBpbiB0aGUgb2JqZWN0LCBjYWxsIHRoZSBmdW5jdGlvbiB3aXRoIHRoZSBrZXkgYW5kIHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0PGFueSwgYW55Pn0gb2JqIC0gVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIFRoZSBmdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIGVudHJ5LlxuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5jb25zdCBmb3JFYWNoRW50cnkgPSAob2JqLCBmbikgPT4ge1xuICBjb25zdCBnZW5lcmF0b3IgPSBvYmogJiYgb2JqW1N5bWJvbC5pdGVyYXRvcl07XG5cbiAgY29uc3QgaXRlcmF0b3IgPSBnZW5lcmF0b3IuY2FsbChvYmopO1xuXG4gIGxldCByZXN1bHQ7XG5cbiAgd2hpbGUgKChyZXN1bHQgPSBpdGVyYXRvci5uZXh0KCkpICYmICFyZXN1bHQuZG9uZSkge1xuICAgIGNvbnN0IHBhaXIgPSByZXN1bHQudmFsdWU7XG4gICAgZm4uY2FsbChvYmosIHBhaXJbMF0sIHBhaXJbMV0pO1xuICB9XG59XG5cbi8qKlxuICogSXQgdGFrZXMgYSByZWd1bGFyIGV4cHJlc3Npb24gYW5kIGEgc3RyaW5nLCBhbmQgcmV0dXJucyBhbiBhcnJheSBvZiBhbGwgdGhlIG1hdGNoZXNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVnRXhwIC0gVGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byBtYXRjaCBhZ2FpbnN0LlxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciAtIFRoZSBzdHJpbmcgdG8gc2VhcmNoLlxuICpcbiAqIEByZXR1cm5zIHtBcnJheTxib29sZWFuPn1cbiAqL1xuY29uc3QgbWF0Y2hBbGwgPSAocmVnRXhwLCBzdHIpID0+IHtcbiAgbGV0IG1hdGNoZXM7XG4gIGNvbnN0IGFyciA9IFtdO1xuXG4gIHdoaWxlICgobWF0Y2hlcyA9IHJlZ0V4cC5leGVjKHN0cikpICE9PSBudWxsKSB7XG4gICAgYXJyLnB1c2gobWF0Y2hlcyk7XG4gIH1cblxuICByZXR1cm4gYXJyO1xufVxuXG4vKiBDaGVja2luZyBpZiB0aGUga2luZE9mVGVzdCBmdW5jdGlvbiByZXR1cm5zIHRydWUgd2hlbiBwYXNzZWQgYW4gSFRNTEZvcm1FbGVtZW50LiAqL1xuY29uc3QgaXNIVE1MRm9ybSA9IGtpbmRPZlRlc3QoJ0hUTUxGb3JtRWxlbWVudCcpO1xuXG5jb25zdCB0b0NhbWVsQ2FzZSA9IHN0ciA9PiB7XG4gIHJldHVybiBzdHIudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9bLV9cXHNdKFthLXpcXGRdKShcXHcqKS9nLFxuICAgIGZ1bmN0aW9uIHJlcGxhY2VyKG0sIHAxLCBwMikge1xuICAgICAgcmV0dXJuIHAxLnRvVXBwZXJDYXNlKCkgKyBwMjtcbiAgICB9XG4gICk7XG59O1xuXG4vKiBDcmVhdGluZyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBjaGVjayBpZiBhbiBvYmplY3QgaGFzIGEgcHJvcGVydHkuICovXG5jb25zdCBoYXNPd25Qcm9wZXJ0eSA9ICgoe2hhc093blByb3BlcnR5fSkgPT4gKG9iaiwgcHJvcCkgPT4gaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKShPYmplY3QucHJvdG90eXBlKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFJlZ0V4cCBvYmplY3RcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgUmVnRXhwIG9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzUmVnRXhwID0ga2luZE9mVGVzdCgnUmVnRXhwJyk7XG5cbmNvbnN0IHJlZHVjZURlc2NyaXB0b3JzID0gKG9iaiwgcmVkdWNlcikgPT4ge1xuICBjb25zdCBkZXNjcmlwdG9ycyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG9iaik7XG4gIGNvbnN0IHJlZHVjZWREZXNjcmlwdG9ycyA9IHt9O1xuXG4gIGZvckVhY2goZGVzY3JpcHRvcnMsIChkZXNjcmlwdG9yLCBuYW1lKSA9PiB7XG4gICAgbGV0IHJldDtcbiAgICBpZiAoKHJldCA9IHJlZHVjZXIoZGVzY3JpcHRvciwgbmFtZSwgb2JqKSkgIT09IGZhbHNlKSB7XG4gICAgICByZWR1Y2VkRGVzY3JpcHRvcnNbbmFtZV0gPSByZXQgfHwgZGVzY3JpcHRvcjtcbiAgICB9XG4gIH0pO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG9iaiwgcmVkdWNlZERlc2NyaXB0b3JzKTtcbn1cblxuLyoqXG4gKiBNYWtlcyBhbGwgbWV0aG9kcyByZWFkLW9ubHlcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqL1xuXG5jb25zdCBmcmVlemVNZXRob2RzID0gKG9iaikgPT4ge1xuICByZWR1Y2VEZXNjcmlwdG9ycyhvYmosIChkZXNjcmlwdG9yLCBuYW1lKSA9PiB7XG4gICAgLy8gc2tpcCByZXN0cmljdGVkIHByb3BzIGluIHN0cmljdCBtb2RlXG4gICAgaWYgKGlzRnVuY3Rpb24ob2JqKSAmJiBbJ2FyZ3VtZW50cycsICdjYWxsZXInLCAnY2FsbGVlJ10uaW5kZXhPZihuYW1lKSAhPT0gLTEpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCB2YWx1ZSA9IG9ialtuYW1lXTtcblxuICAgIGlmICghaXNGdW5jdGlvbih2YWx1ZSkpIHJldHVybjtcblxuICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGZhbHNlO1xuXG4gICAgaWYgKCd3cml0YWJsZScgaW4gZGVzY3JpcHRvcikge1xuICAgICAgZGVzY3JpcHRvci53cml0YWJsZSA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghZGVzY3JpcHRvci5zZXQpIHtcbiAgICAgIGRlc2NyaXB0b3Iuc2V0ID0gKCkgPT4ge1xuICAgICAgICB0aHJvdyBFcnJvcignQ2FuIG5vdCByZXdyaXRlIHJlYWQtb25seSBtZXRob2QgXFwnJyArIG5hbWUgKyAnXFwnJyk7XG4gICAgICB9O1xuICAgIH1cbiAgfSk7XG59XG5cbmNvbnN0IHRvT2JqZWN0U2V0ID0gKGFycmF5T3JTdHJpbmcsIGRlbGltaXRlcikgPT4ge1xuICBjb25zdCBvYmogPSB7fTtcblxuICBjb25zdCBkZWZpbmUgPSAoYXJyKSA9PiB7XG4gICAgYXJyLmZvckVhY2godmFsdWUgPT4ge1xuICAgICAgb2JqW3ZhbHVlXSA9IHRydWU7XG4gICAgfSk7XG4gIH1cblxuICBpc0FycmF5KGFycmF5T3JTdHJpbmcpID8gZGVmaW5lKGFycmF5T3JTdHJpbmcpIDogZGVmaW5lKFN0cmluZyhhcnJheU9yU3RyaW5nKS5zcGxpdChkZWxpbWl0ZXIpKTtcblxuICByZXR1cm4gb2JqO1xufVxuXG5jb25zdCBub29wID0gKCkgPT4ge31cblxuY29uc3QgdG9GaW5pdGVOdW1iZXIgPSAodmFsdWUsIGRlZmF1bHRWYWx1ZSkgPT4ge1xuICB2YWx1ZSA9ICt2YWx1ZTtcbiAgcmV0dXJuIE51bWJlci5pc0Zpbml0ZSh2YWx1ZSkgPyB2YWx1ZSA6IGRlZmF1bHRWYWx1ZTtcbn1cblxuY29uc3QgQUxQSEEgPSAnYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXonXG5cbmNvbnN0IERJR0lUID0gJzAxMjM0NTY3ODknO1xuXG5jb25zdCBBTFBIQUJFVCA9IHtcbiAgRElHSVQsXG4gIEFMUEhBLFxuICBBTFBIQV9ESUdJVDogQUxQSEEgKyBBTFBIQS50b1VwcGVyQ2FzZSgpICsgRElHSVRcbn1cblxuY29uc3QgZ2VuZXJhdGVTdHJpbmcgPSAoc2l6ZSA9IDE2LCBhbHBoYWJldCA9IEFMUEhBQkVULkFMUEhBX0RJR0lUKSA9PiB7XG4gIGxldCBzdHIgPSAnJztcbiAgY29uc3Qge2xlbmd0aH0gPSBhbHBoYWJldDtcbiAgd2hpbGUgKHNpemUtLSkge1xuICAgIHN0ciArPSBhbHBoYWJldFtNYXRoLnJhbmRvbSgpICogbGVuZ3RofDBdXG4gIH1cblxuICByZXR1cm4gc3RyO1xufVxuXG4vKipcbiAqIElmIHRoZSB0aGluZyBpcyBhIEZvcm1EYXRhIG9iamVjdCwgcmV0dXJuIHRydWUsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXG4gKlxuICogQHBhcmFtIHt1bmtub3dufSB0aGluZyAtIFRoZSB0aGluZyB0byBjaGVjay5cbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNTcGVjQ29tcGxpYW50Rm9ybSh0aGluZykge1xuICByZXR1cm4gISEodGhpbmcgJiYgaXNGdW5jdGlvbih0aGluZy5hcHBlbmQpICYmIHRoaW5nW1N5bWJvbC50b1N0cmluZ1RhZ10gPT09ICdGb3JtRGF0YScgJiYgdGhpbmdbU3ltYm9sLml0ZXJhdG9yXSk7XG59XG5cbmNvbnN0IHRvSlNPTk9iamVjdCA9IChvYmopID0+IHtcbiAgY29uc3Qgc3RhY2sgPSBuZXcgQXJyYXkoMTApO1xuXG4gIGNvbnN0IHZpc2l0ID0gKHNvdXJjZSwgaSkgPT4ge1xuXG4gICAgaWYgKGlzT2JqZWN0KHNvdXJjZSkpIHtcbiAgICAgIGlmIChzdGFjay5pbmRleE9mKHNvdXJjZSkgPj0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmKCEoJ3RvSlNPTicgaW4gc291cmNlKSkge1xuICAgICAgICBzdGFja1tpXSA9IHNvdXJjZTtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gaXNBcnJheShzb3VyY2UpID8gW10gOiB7fTtcblxuICAgICAgICBmb3JFYWNoKHNvdXJjZSwgKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgICBjb25zdCByZWR1Y2VkVmFsdWUgPSB2aXNpdCh2YWx1ZSwgaSArIDEpO1xuICAgICAgICAgICFpc1VuZGVmaW5lZChyZWR1Y2VkVmFsdWUpICYmICh0YXJnZXRba2V5XSA9IHJlZHVjZWRWYWx1ZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHN0YWNrW2ldID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNvdXJjZTtcbiAgfVxuXG4gIHJldHVybiB2aXNpdChvYmosIDApO1xufVxuXG5jb25zdCBpc0FzeW5jRm4gPSBraW5kT2ZUZXN0KCdBc3luY0Z1bmN0aW9uJyk7XG5cbmNvbnN0IGlzVGhlbmFibGUgPSAodGhpbmcpID0+XG4gIHRoaW5nICYmIChpc09iamVjdCh0aGluZykgfHwgaXNGdW5jdGlvbih0aGluZykpICYmIGlzRnVuY3Rpb24odGhpbmcudGhlbikgJiYgaXNGdW5jdGlvbih0aGluZy5jYXRjaCk7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgaXNBcnJheSxcbiAgaXNBcnJheUJ1ZmZlcixcbiAgaXNCdWZmZXIsXG4gIGlzRm9ybURhdGEsXG4gIGlzQXJyYXlCdWZmZXJWaWV3LFxuICBpc1N0cmluZyxcbiAgaXNOdW1iZXIsXG4gIGlzQm9vbGVhbixcbiAgaXNPYmplY3QsXG4gIGlzUGxhaW5PYmplY3QsXG4gIGlzVW5kZWZpbmVkLFxuICBpc0RhdGUsXG4gIGlzRmlsZSxcbiAgaXNCbG9iLFxuICBpc1JlZ0V4cCxcbiAgaXNGdW5jdGlvbixcbiAgaXNTdHJlYW0sXG4gIGlzVVJMU2VhcmNoUGFyYW1zLFxuICBpc1R5cGVkQXJyYXksXG4gIGlzRmlsZUxpc3QsXG4gIGZvckVhY2gsXG4gIG1lcmdlLFxuICBleHRlbmQsXG4gIHRyaW0sXG4gIHN0cmlwQk9NLFxuICBpbmhlcml0cyxcbiAgdG9GbGF0T2JqZWN0LFxuICBraW5kT2YsXG4gIGtpbmRPZlRlc3QsXG4gIGVuZHNXaXRoLFxuICB0b0FycmF5LFxuICBmb3JFYWNoRW50cnksXG4gIG1hdGNoQWxsLFxuICBpc0hUTUxGb3JtLFxuICBoYXNPd25Qcm9wZXJ0eSxcbiAgaGFzT3duUHJvcDogaGFzT3duUHJvcGVydHksIC8vIGFuIGFsaWFzIHRvIGF2b2lkIEVTTGludCBuby1wcm90b3R5cGUtYnVpbHRpbnMgZGV0ZWN0aW9uXG4gIHJlZHVjZURlc2NyaXB0b3JzLFxuICBmcmVlemVNZXRob2RzLFxuICB0b09iamVjdFNldCxcbiAgdG9DYW1lbENhc2UsXG4gIG5vb3AsXG4gIHRvRmluaXRlTnVtYmVyLFxuICBmaW5kS2V5LFxuICBnbG9iYWw6IF9nbG9iYWwsXG4gIGlzQ29udGV4dERlZmluZWQsXG4gIEFMUEhBQkVULFxuICBnZW5lcmF0ZVN0cmluZyxcbiAgaXNTcGVjQ29tcGxpYW50Rm9ybSxcbiAgdG9KU09OT2JqZWN0LFxuICBpc0FzeW5jRm4sXG4gIGlzVGhlbmFibGVcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5cbi8qKlxuICogQ3JlYXRlIGFuIEVycm9yIHdpdGggdGhlIHNwZWNpZmllZCBtZXNzYWdlLCBjb25maWcsIGVycm9yIGNvZGUsIHJlcXVlc3QgYW5kIHJlc3BvbnNlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICogQHBhcmFtIHtzdHJpbmd9IFtjb2RlXSBUaGUgZXJyb3IgY29kZSAoZm9yIGV4YW1wbGUsICdFQ09OTkFCT1JURUQnKS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnXSBUaGUgY29uZmlnLlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXF1ZXN0XSBUaGUgcmVxdWVzdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVzcG9uc2VdIFRoZSByZXNwb25zZS5cbiAqXG4gKiBAcmV0dXJucyB7RXJyb3J9IFRoZSBjcmVhdGVkIGVycm9yLlxuICovXG5mdW5jdGlvbiBBeGlvc0Vycm9yKG1lc3NhZ2UsIGNvZGUsIGNvbmZpZywgcmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgRXJyb3IuY2FsbCh0aGlzKTtcblxuICBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHtcbiAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCB0aGlzLmNvbnN0cnVjdG9yKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnN0YWNrID0gKG5ldyBFcnJvcigpKS5zdGFjaztcbiAgfVxuXG4gIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gIHRoaXMubmFtZSA9ICdBeGlvc0Vycm9yJztcbiAgY29kZSAmJiAodGhpcy5jb2RlID0gY29kZSk7XG4gIGNvbmZpZyAmJiAodGhpcy5jb25maWcgPSBjb25maWcpO1xuICByZXF1ZXN0ICYmICh0aGlzLnJlcXVlc3QgPSByZXF1ZXN0KTtcbiAgcmVzcG9uc2UgJiYgKHRoaXMucmVzcG9uc2UgPSByZXNwb25zZSk7XG59XG5cbnV0aWxzLmluaGVyaXRzKEF4aW9zRXJyb3IsIEVycm9yLCB7XG4gIHRvSlNPTjogZnVuY3Rpb24gdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICAvLyBTdGFuZGFyZFxuICAgICAgbWVzc2FnZTogdGhpcy5tZXNzYWdlLFxuICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgLy8gTWljcm9zb2Z0XG4gICAgICBkZXNjcmlwdGlvbjogdGhpcy5kZXNjcmlwdGlvbixcbiAgICAgIG51bWJlcjogdGhpcy5udW1iZXIsXG4gICAgICAvLyBNb3ppbGxhXG4gICAgICBmaWxlTmFtZTogdGhpcy5maWxlTmFtZSxcbiAgICAgIGxpbmVOdW1iZXI6IHRoaXMubGluZU51bWJlcixcbiAgICAgIGNvbHVtbk51bWJlcjogdGhpcy5jb2x1bW5OdW1iZXIsXG4gICAgICBzdGFjazogdGhpcy5zdGFjayxcbiAgICAgIC8vIEF4aW9zXG4gICAgICBjb25maWc6IHV0aWxzLnRvSlNPTk9iamVjdCh0aGlzLmNvbmZpZyksXG4gICAgICBjb2RlOiB0aGlzLmNvZGUsXG4gICAgICBzdGF0dXM6IHRoaXMucmVzcG9uc2UgJiYgdGhpcy5yZXNwb25zZS5zdGF0dXMgPyB0aGlzLnJlc3BvbnNlLnN0YXR1cyA6IG51bGxcbiAgICB9O1xuICB9XG59KTtcblxuY29uc3QgcHJvdG90eXBlID0gQXhpb3NFcnJvci5wcm90b3R5cGU7XG5jb25zdCBkZXNjcmlwdG9ycyA9IHt9O1xuXG5bXG4gICdFUlJfQkFEX09QVElPTl9WQUxVRScsXG4gICdFUlJfQkFEX09QVElPTicsXG4gICdFQ09OTkFCT1JURUQnLFxuICAnRVRJTUVET1VUJyxcbiAgJ0VSUl9ORVRXT1JLJyxcbiAgJ0VSUl9GUl9UT09fTUFOWV9SRURJUkVDVFMnLFxuICAnRVJSX0RFUFJFQ0FURUQnLFxuICAnRVJSX0JBRF9SRVNQT05TRScsXG4gICdFUlJfQkFEX1JFUVVFU1QnLFxuICAnRVJSX0NBTkNFTEVEJyxcbiAgJ0VSUl9OT1RfU1VQUE9SVCcsXG4gICdFUlJfSU5WQUxJRF9VUkwnXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuXS5mb3JFYWNoKGNvZGUgPT4ge1xuICBkZXNjcmlwdG9yc1tjb2RlXSA9IHt2YWx1ZTogY29kZX07XG59KTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoQXhpb3NFcnJvciwgZGVzY3JpcHRvcnMpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvdHlwZSwgJ2lzQXhpb3NFcnJvcicsIHt2YWx1ZTogdHJ1ZX0pO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuQXhpb3NFcnJvci5mcm9tID0gKGVycm9yLCBjb2RlLCBjb25maWcsIHJlcXVlc3QsIHJlc3BvbnNlLCBjdXN0b21Qcm9wcykgPT4ge1xuICBjb25zdCBheGlvc0Vycm9yID0gT2JqZWN0LmNyZWF0ZShwcm90b3R5cGUpO1xuXG4gIHV0aWxzLnRvRmxhdE9iamVjdChlcnJvciwgYXhpb3NFcnJvciwgZnVuY3Rpb24gZmlsdGVyKG9iaikge1xuICAgIHJldHVybiBvYmogIT09IEVycm9yLnByb3RvdHlwZTtcbiAgfSwgcHJvcCA9PiB7XG4gICAgcmV0dXJuIHByb3AgIT09ICdpc0F4aW9zRXJyb3InO1xuICB9KTtcblxuICBBeGlvc0Vycm9yLmNhbGwoYXhpb3NFcnJvciwgZXJyb3IubWVzc2FnZSwgY29kZSwgY29uZmlnLCByZXF1ZXN0LCByZXNwb25zZSk7XG5cbiAgYXhpb3NFcnJvci5jYXVzZSA9IGVycm9yO1xuXG4gIGF4aW9zRXJyb3IubmFtZSA9IGVycm9yLm5hbWU7XG5cbiAgY3VzdG9tUHJvcHMgJiYgT2JqZWN0LmFzc2lnbihheGlvc0Vycm9yLCBjdXN0b21Qcm9wcyk7XG5cbiAgcmV0dXJuIGF4aW9zRXJyb3I7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBBeGlvc0Vycm9yO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuaW1wb3J0IEF4aW9zRXJyb3IgZnJvbSAnLi4vY29yZS9BeGlvc0Vycm9yLmpzJztcbi8vIHRlbXBvcmFyeSBob3RmaXggdG8gYXZvaWQgY2lyY3VsYXIgcmVmZXJlbmNlcyB1bnRpbCBBeGlvc1VSTFNlYXJjaFBhcmFtcyBpcyByZWZhY3RvcmVkXG5pbXBvcnQgUGxhdGZvcm1Gb3JtRGF0YSBmcm9tICcuLi9wbGF0Zm9ybS9ub2RlL2NsYXNzZXMvRm9ybURhdGEuanMnO1xuXG4vKipcbiAqIERldGVybWluZXMgaWYgdGhlIGdpdmVuIHRoaW5nIGlzIGEgYXJyYXkgb3IganMgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0aGluZyAtIFRoZSBvYmplY3Qgb3IgYXJyYXkgdG8gYmUgdmlzaXRlZC5cbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNWaXNpdGFibGUodGhpbmcpIHtcbiAgcmV0dXJuIHV0aWxzLmlzUGxhaW5PYmplY3QodGhpbmcpIHx8IHV0aWxzLmlzQXJyYXkodGhpbmcpO1xufVxuXG4vKipcbiAqIEl0IHJlbW92ZXMgdGhlIGJyYWNrZXRzIGZyb20gdGhlIGVuZCBvZiBhIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBUaGUga2V5IG9mIHRoZSBwYXJhbWV0ZXIuXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gdGhlIGtleSB3aXRob3V0IHRoZSBicmFja2V0cy5cbiAqL1xuZnVuY3Rpb24gcmVtb3ZlQnJhY2tldHMoa2V5KSB7XG4gIHJldHVybiB1dGlscy5lbmRzV2l0aChrZXksICdbXScpID8ga2V5LnNsaWNlKDAsIC0yKSA6IGtleTtcbn1cblxuLyoqXG4gKiBJdCB0YWtlcyBhIHBhdGgsIGEga2V5LCBhbmQgYSBib29sZWFuLCBhbmQgcmV0dXJucyBhIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gVGhlIHBhdGggdG8gdGhlIGN1cnJlbnQga2V5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIFRoZSBrZXkgb2YgdGhlIGN1cnJlbnQgb2JqZWN0IGJlaW5nIGl0ZXJhdGVkIG92ZXIuXG4gKiBAcGFyYW0ge3N0cmluZ30gZG90cyAtIElmIHRydWUsIHRoZSBrZXkgd2lsbCBiZSByZW5kZXJlZCB3aXRoIGRvdHMgaW5zdGVhZCBvZiBicmFja2V0cy5cbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgcGF0aCB0byB0aGUgY3VycmVudCBrZXkuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlcktleShwYXRoLCBrZXksIGRvdHMpIHtcbiAgaWYgKCFwYXRoKSByZXR1cm4ga2V5O1xuICByZXR1cm4gcGF0aC5jb25jYXQoa2V5KS5tYXAoZnVuY3Rpb24gZWFjaCh0b2tlbiwgaSkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgIHRva2VuID0gcmVtb3ZlQnJhY2tldHModG9rZW4pO1xuICAgIHJldHVybiAhZG90cyAmJiBpID8gJ1snICsgdG9rZW4gKyAnXScgOiB0b2tlbjtcbiAgfSkuam9pbihkb3RzID8gJy4nIDogJycpO1xufVxuXG4vKipcbiAqIElmIHRoZSBhcnJheSBpcyBhbiBhcnJheSBhbmQgbm9uZSBvZiBpdHMgZWxlbWVudHMgYXJlIHZpc2l0YWJsZSwgdGhlbiBpdCdzIGEgZmxhdCBhcnJheS5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PGFueT59IGFyciAtIFRoZSBhcnJheSB0byBjaGVja1xuICpcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc0ZsYXRBcnJheShhcnIpIHtcbiAgcmV0dXJuIHV0aWxzLmlzQXJyYXkoYXJyKSAmJiAhYXJyLnNvbWUoaXNWaXNpdGFibGUpO1xufVxuXG5jb25zdCBwcmVkaWNhdGVzID0gdXRpbHMudG9GbGF0T2JqZWN0KHV0aWxzLCB7fSwgbnVsbCwgZnVuY3Rpb24gZmlsdGVyKHByb3ApIHtcbiAgcmV0dXJuIC9eaXNbQS1aXS8udGVzdChwcm9wKTtcbn0pO1xuXG4vKipcbiAqIENvbnZlcnQgYSBkYXRhIG9iamVjdCB0byBGb3JtRGF0YVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEBwYXJhbSB7P09iamVjdH0gW2Zvcm1EYXRhXVxuICogQHBhcmFtIHs/T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRpb25zLnZpc2l0b3JdXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLm1ldGFUb2tlbnMgPSB0cnVlXVxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5kb3RzID0gZmFsc2VdXG4gKiBAcGFyYW0gez9Cb29sZWFufSBbb3B0aW9ucy5pbmRleGVzID0gZmFsc2VdXG4gKlxuICogQHJldHVybnMge09iamVjdH1cbiAqKi9cblxuLyoqXG4gKiBJdCBjb252ZXJ0cyBhbiBvYmplY3QgaW50byBhIEZvcm1EYXRhIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0PGFueSwgYW55Pn0gb2JqIC0gVGhlIG9iamVjdCB0byBjb252ZXJ0IHRvIGZvcm0gZGF0YS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBmb3JtRGF0YSAtIFRoZSBGb3JtRGF0YSBvYmplY3QgdG8gYXBwZW5kIHRvLlxuICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCBhbnk+fSBvcHRpb25zXG4gKlxuICogQHJldHVybnNcbiAqL1xuZnVuY3Rpb24gdG9Gb3JtRGF0YShvYmosIGZvcm1EYXRhLCBvcHRpb25zKSB7XG4gIGlmICghdXRpbHMuaXNPYmplY3Qob2JqKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3RhcmdldCBtdXN0IGJlIGFuIG9iamVjdCcpO1xuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gIGZvcm1EYXRhID0gZm9ybURhdGEgfHwgbmV3IChQbGF0Zm9ybUZvcm1EYXRhIHx8IEZvcm1EYXRhKSgpO1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICBvcHRpb25zID0gdXRpbHMudG9GbGF0T2JqZWN0KG9wdGlvbnMsIHtcbiAgICBtZXRhVG9rZW5zOiB0cnVlLFxuICAgIGRvdHM6IGZhbHNlLFxuICAgIGluZGV4ZXM6IGZhbHNlXG4gIH0sIGZhbHNlLCBmdW5jdGlvbiBkZWZpbmVkKG9wdGlvbiwgc291cmNlKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gICAgcmV0dXJuICF1dGlscy5pc1VuZGVmaW5lZChzb3VyY2Vbb3B0aW9uXSk7XG4gIH0pO1xuXG4gIGNvbnN0IG1ldGFUb2tlbnMgPSBvcHRpb25zLm1ldGFUb2tlbnM7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZVxuICBjb25zdCB2aXNpdG9yID0gb3B0aW9ucy52aXNpdG9yIHx8IGRlZmF1bHRWaXNpdG9yO1xuICBjb25zdCBkb3RzID0gb3B0aW9ucy5kb3RzO1xuICBjb25zdCBpbmRleGVzID0gb3B0aW9ucy5pbmRleGVzO1xuICBjb25zdCBfQmxvYiA9IG9wdGlvbnMuQmxvYiB8fCB0eXBlb2YgQmxvYiAhPT0gJ3VuZGVmaW5lZCcgJiYgQmxvYjtcbiAgY29uc3QgdXNlQmxvYiA9IF9CbG9iICYmIHV0aWxzLmlzU3BlY0NvbXBsaWFudEZvcm0oZm9ybURhdGEpO1xuXG4gIGlmICghdXRpbHMuaXNGdW5jdGlvbih2aXNpdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3Zpc2l0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gIH1cblxuICBmdW5jdGlvbiBjb252ZXJ0VmFsdWUodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT09IG51bGwpIHJldHVybiAnJztcblxuICAgIGlmICh1dGlscy5pc0RhdGUodmFsdWUpKSB7XG4gICAgICByZXR1cm4gdmFsdWUudG9JU09TdHJpbmcoKTtcbiAgICB9XG5cbiAgICBpZiAoIXVzZUJsb2IgJiYgdXRpbHMuaXNCbG9iKHZhbHVlKSkge1xuICAgICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IoJ0Jsb2IgaXMgbm90IHN1cHBvcnRlZC4gVXNlIGEgQnVmZmVyIGluc3RlYWQuJyk7XG4gICAgfVxuXG4gICAgaWYgKHV0aWxzLmlzQXJyYXlCdWZmZXIodmFsdWUpIHx8IHV0aWxzLmlzVHlwZWRBcnJheSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB1c2VCbG9iICYmIHR5cGVvZiBCbG9iID09PSAnZnVuY3Rpb24nID8gbmV3IEJsb2IoW3ZhbHVlXSkgOiBCdWZmZXIuZnJvbSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIERlZmF1bHQgdmlzaXRvci5cbiAgICpcbiAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IGtleVxuICAgKiBAcGFyYW0ge0FycmF5PFN0cmluZ3xOdW1iZXI+fSBwYXRoXG4gICAqIEB0aGlzIHtGb3JtRGF0YX1cbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59IHJldHVybiB0cnVlIHRvIHZpc2l0IHRoZSBlYWNoIHByb3Agb2YgdGhlIHZhbHVlIHJlY3Vyc2l2ZWx5XG4gICAqL1xuICBmdW5jdGlvbiBkZWZhdWx0VmlzaXRvcih2YWx1ZSwga2V5LCBwYXRoKSB7XG4gICAgbGV0IGFyciA9IHZhbHVlO1xuXG4gICAgaWYgKHZhbHVlICYmICFwYXRoICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGlmICh1dGlscy5lbmRzV2l0aChrZXksICd7fScpKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICBrZXkgPSBtZXRhVG9rZW5zID8ga2V5IDoga2V5LnNsaWNlKDAsIC0yKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgIHZhbHVlID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgKHV0aWxzLmlzQXJyYXkodmFsdWUpICYmIGlzRmxhdEFycmF5KHZhbHVlKSkgfHxcbiAgICAgICAgKCh1dGlscy5pc0ZpbGVMaXN0KHZhbHVlKSB8fCB1dGlscy5lbmRzV2l0aChrZXksICdbXScpKSAmJiAoYXJyID0gdXRpbHMudG9BcnJheSh2YWx1ZSkpXG4gICAgICAgICkpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgIGtleSA9IHJlbW92ZUJyYWNrZXRzKGtleSk7XG5cbiAgICAgICAgYXJyLmZvckVhY2goZnVuY3Rpb24gZWFjaChlbCwgaW5kZXgpIHtcbiAgICAgICAgICAhKHV0aWxzLmlzVW5kZWZpbmVkKGVsKSB8fCBlbCA9PT0gbnVsbCkgJiYgZm9ybURhdGEuYXBwZW5kKFxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5lc3RlZC10ZXJuYXJ5XG4gICAgICAgICAgICBpbmRleGVzID09PSB0cnVlID8gcmVuZGVyS2V5KFtrZXldLCBpbmRleCwgZG90cykgOiAoaW5kZXhlcyA9PT0gbnVsbCA/IGtleSA6IGtleSArICdbXScpLFxuICAgICAgICAgICAgY29udmVydFZhbHVlKGVsKVxuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGlzVmlzaXRhYmxlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZm9ybURhdGEuYXBwZW5kKHJlbmRlcktleShwYXRoLCBrZXksIGRvdHMpLCBjb252ZXJ0VmFsdWUodmFsdWUpKTtcblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGNvbnN0IHN0YWNrID0gW107XG5cbiAgY29uc3QgZXhwb3NlZEhlbHBlcnMgPSBPYmplY3QuYXNzaWduKHByZWRpY2F0ZXMsIHtcbiAgICBkZWZhdWx0VmlzaXRvcixcbiAgICBjb252ZXJ0VmFsdWUsXG4gICAgaXNWaXNpdGFibGVcbiAgfSk7XG5cbiAgZnVuY3Rpb24gYnVpbGQodmFsdWUsIHBhdGgpIHtcbiAgICBpZiAodXRpbHMuaXNVbmRlZmluZWQodmFsdWUpKSByZXR1cm47XG5cbiAgICBpZiAoc3RhY2suaW5kZXhPZih2YWx1ZSkgIT09IC0xKSB7XG4gICAgICB0aHJvdyBFcnJvcignQ2lyY3VsYXIgcmVmZXJlbmNlIGRldGVjdGVkIGluICcgKyBwYXRoLmpvaW4oJy4nKSk7XG4gICAgfVxuXG4gICAgc3RhY2sucHVzaCh2YWx1ZSk7XG5cbiAgICB1dGlscy5mb3JFYWNoKHZhbHVlLCBmdW5jdGlvbiBlYWNoKGVsLCBrZXkpIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9ICEodXRpbHMuaXNVbmRlZmluZWQoZWwpIHx8IGVsID09PSBudWxsKSAmJiB2aXNpdG9yLmNhbGwoXG4gICAgICAgIGZvcm1EYXRhLCBlbCwgdXRpbHMuaXNTdHJpbmcoa2V5KSA/IGtleS50cmltKCkgOiBrZXksIHBhdGgsIGV4cG9zZWRIZWxwZXJzXG4gICAgICApO1xuXG4gICAgICBpZiAocmVzdWx0ID09PSB0cnVlKSB7XG4gICAgICAgIGJ1aWxkKGVsLCBwYXRoID8gcGF0aC5jb25jYXQoa2V5KSA6IFtrZXldKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHN0YWNrLnBvcCgpO1xuICB9XG5cbiAgaWYgKCF1dGlscy5pc09iamVjdChvYmopKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZGF0YSBtdXN0IGJlIGFuIG9iamVjdCcpO1xuICB9XG5cbiAgYnVpbGQob2JqKTtcblxuICByZXR1cm4gZm9ybURhdGE7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHRvRm9ybURhdGE7XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB0b0Zvcm1EYXRhIGZyb20gJy4vdG9Gb3JtRGF0YS5qcyc7XG5cbi8qKlxuICogSXQgZW5jb2RlcyBhIHN0cmluZyBieSByZXBsYWNpbmcgYWxsIGNoYXJhY3RlcnMgdGhhdCBhcmUgbm90IGluIHRoZSB1bnJlc2VydmVkIHNldCB3aXRoXG4gKiB0aGVpciBwZXJjZW50LWVuY29kZWQgZXF1aXZhbGVudHNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIC0gVGhlIHN0cmluZyB0byBlbmNvZGUuXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGVuY29kZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBlbmNvZGUoc3RyKSB7XG4gIGNvbnN0IGNoYXJNYXAgPSB7XG4gICAgJyEnOiAnJTIxJyxcbiAgICBcIidcIjogJyUyNycsXG4gICAgJygnOiAnJTI4JyxcbiAgICAnKSc6ICclMjknLFxuICAgICd+JzogJyU3RScsXG4gICAgJyUyMCc6ICcrJyxcbiAgICAnJTAwJzogJ1xceDAwJ1xuICB9O1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHN0cikucmVwbGFjZSgvWyEnKCl+XXwlMjB8JTAwL2csIGZ1bmN0aW9uIHJlcGxhY2VyKG1hdGNoKSB7XG4gICAgcmV0dXJuIGNoYXJNYXBbbWF0Y2hdO1xuICB9KTtcbn1cblxuLyoqXG4gKiBJdCB0YWtlcyBhIHBhcmFtcyBvYmplY3QgYW5kIGNvbnZlcnRzIGl0IHRvIGEgRm9ybURhdGEgb2JqZWN0XG4gKlxuICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCBhbnk+fSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyB0byBiZSBjb252ZXJ0ZWQgdG8gYSBGb3JtRGF0YSBvYmplY3QuXG4gKiBAcGFyYW0ge09iamVjdDxzdHJpbmcsIGFueT59IG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBvYmplY3QgcGFzc2VkIHRvIHRoZSBBeGlvcyBjb25zdHJ1Y3Rvci5cbiAqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gQXhpb3NVUkxTZWFyY2hQYXJhbXMocGFyYW1zLCBvcHRpb25zKSB7XG4gIHRoaXMuX3BhaXJzID0gW107XG5cbiAgcGFyYW1zICYmIHRvRm9ybURhdGEocGFyYW1zLCB0aGlzLCBvcHRpb25zKTtcbn1cblxuY29uc3QgcHJvdG90eXBlID0gQXhpb3NVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlO1xuXG5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24gYXBwZW5kKG5hbWUsIHZhbHVlKSB7XG4gIHRoaXMuX3BhaXJzLnB1c2goW25hbWUsIHZhbHVlXSk7XG59O1xuXG5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyhlbmNvZGVyKSB7XG4gIGNvbnN0IF9lbmNvZGUgPSBlbmNvZGVyID8gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gZW5jb2Rlci5jYWxsKHRoaXMsIHZhbHVlLCBlbmNvZGUpO1xuICB9IDogZW5jb2RlO1xuXG4gIHJldHVybiB0aGlzLl9wYWlycy5tYXAoZnVuY3Rpb24gZWFjaChwYWlyKSB7XG4gICAgcmV0dXJuIF9lbmNvZGUocGFpclswXSkgKyAnPScgKyBfZW5jb2RlKHBhaXJbMV0pO1xuICB9LCAnJykuam9pbignJicpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQXhpb3NVUkxTZWFyY2hQYXJhbXM7XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgQXhpb3NVUkxTZWFyY2hQYXJhbXMgZnJvbSAnLi4vaGVscGVycy9BeGlvc1VSTFNlYXJjaFBhcmFtcy5qcyc7XG5cbi8qKlxuICogSXQgcmVwbGFjZXMgYWxsIGluc3RhbmNlcyBvZiB0aGUgY2hhcmFjdGVycyBgOmAsIGAkYCwgYCxgLCBgK2AsIGBbYCwgYW5kIGBdYCB3aXRoIHRoZWlyXG4gKiBVUkkgZW5jb2RlZCBjb3VudGVycGFydHNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsIFRoZSB2YWx1ZSB0byBiZSBlbmNvZGVkLlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBlbmNvZGVkIHZhbHVlLlxuICovXG5mdW5jdGlvbiBlbmNvZGUodmFsKSB7XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQodmFsKS5cbiAgICByZXBsYWNlKC8lM0EvZ2ksICc6JykuXG4gICAgcmVwbGFjZSgvJTI0L2csICckJykuXG4gICAgcmVwbGFjZSgvJTJDL2dpLCAnLCcpLlxuICAgIHJlcGxhY2UoLyUyMC9nLCAnKycpLlxuICAgIHJlcGxhY2UoLyU1Qi9naSwgJ1snKS5cbiAgICByZXBsYWNlKC8lNUQvZ2ksICddJyk7XG59XG5cbi8qKlxuICogQnVpbGQgYSBVUkwgYnkgYXBwZW5kaW5nIHBhcmFtcyB0byB0aGUgZW5kXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgYmFzZSBvZiB0aGUgdXJsIChlLmcuLCBodHRwOi8vd3d3Lmdvb2dsZS5jb20pXG4gKiBAcGFyYW0ge29iamVjdH0gW3BhcmFtc10gVGhlIHBhcmFtcyB0byBiZSBhcHBlbmRlZFxuICogQHBhcmFtIHs/b2JqZWN0fSBvcHRpb25zXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGZvcm1hdHRlZCB1cmxcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYnVpbGRVUkwodXJsLCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gIGlmICghcGFyYW1zKSB7XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuICBcbiAgY29uc3QgX2VuY29kZSA9IG9wdGlvbnMgJiYgb3B0aW9ucy5lbmNvZGUgfHwgZW5jb2RlO1xuXG4gIGNvbnN0IHNlcmlhbGl6ZUZuID0gb3B0aW9ucyAmJiBvcHRpb25zLnNlcmlhbGl6ZTtcblxuICBsZXQgc2VyaWFsaXplZFBhcmFtcztcblxuICBpZiAoc2VyaWFsaXplRm4pIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gc2VyaWFsaXplRm4ocGFyYW1zLCBvcHRpb25zKTtcbiAgfSBlbHNlIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gdXRpbHMuaXNVUkxTZWFyY2hQYXJhbXMocGFyYW1zKSA/XG4gICAgICBwYXJhbXMudG9TdHJpbmcoKSA6XG4gICAgICBuZXcgQXhpb3NVUkxTZWFyY2hQYXJhbXMocGFyYW1zLCBvcHRpb25zKS50b1N0cmluZyhfZW5jb2RlKTtcbiAgfVxuXG4gIGlmIChzZXJpYWxpemVkUGFyYW1zKSB7XG4gICAgY29uc3QgaGFzaG1hcmtJbmRleCA9IHVybC5pbmRleE9mKFwiI1wiKTtcblxuICAgIGlmIChoYXNobWFya0luZGV4ICE9PSAtMSkge1xuICAgICAgdXJsID0gdXJsLnNsaWNlKDAsIGhhc2htYXJrSW5kZXgpO1xuICAgIH1cbiAgICB1cmwgKz0gKHVybC5pbmRleE9mKCc/JykgPT09IC0xID8gJz8nIDogJyYnKSArIHNlcmlhbGl6ZWRQYXJhbXM7XG4gIH1cblxuICByZXR1cm4gdXJsO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi8uLi91dGlscy5qcyc7XG5cbmNsYXNzIEludGVyY2VwdG9yTWFuYWdlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuaGFuZGxlcnMgPSBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSBuZXcgaW50ZXJjZXB0b3IgdG8gdGhlIHN0YWNrXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bGZpbGxlZCBUaGUgZnVuY3Rpb24gdG8gaGFuZGxlIGB0aGVuYCBmb3IgYSBgUHJvbWlzZWBcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcmVqZWN0ZWQgVGhlIGZ1bmN0aW9uIHRvIGhhbmRsZSBgcmVqZWN0YCBmb3IgYSBgUHJvbWlzZWBcbiAgICpcbiAgICogQHJldHVybiB7TnVtYmVyfSBBbiBJRCB1c2VkIHRvIHJlbW92ZSBpbnRlcmNlcHRvciBsYXRlclxuICAgKi9cbiAgdXNlKGZ1bGZpbGxlZCwgcmVqZWN0ZWQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLmhhbmRsZXJzLnB1c2goe1xuICAgICAgZnVsZmlsbGVkLFxuICAgICAgcmVqZWN0ZWQsXG4gICAgICBzeW5jaHJvbm91czogb3B0aW9ucyA/IG9wdGlvbnMuc3luY2hyb25vdXMgOiBmYWxzZSxcbiAgICAgIHJ1bldoZW46IG9wdGlvbnMgPyBvcHRpb25zLnJ1bldoZW4gOiBudWxsXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuaGFuZGxlcnMubGVuZ3RoIC0gMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYW4gaW50ZXJjZXB0b3IgZnJvbSB0aGUgc3RhY2tcbiAgICpcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGlkIFRoZSBJRCB0aGF0IHdhcyByZXR1cm5lZCBieSBgdXNlYFxuICAgKlxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gYHRydWVgIGlmIHRoZSBpbnRlcmNlcHRvciB3YXMgcmVtb3ZlZCwgYGZhbHNlYCBvdGhlcndpc2VcbiAgICovXG4gIGVqZWN0KGlkKSB7XG4gICAgaWYgKHRoaXMuaGFuZGxlcnNbaWRdKSB7XG4gICAgICB0aGlzLmhhbmRsZXJzW2lkXSA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENsZWFyIGFsbCBpbnRlcmNlcHRvcnMgZnJvbSB0aGUgc3RhY2tcbiAgICpcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBjbGVhcigpIHtcbiAgICBpZiAodGhpcy5oYW5kbGVycykge1xuICAgICAgdGhpcy5oYW5kbGVycyA9IFtdO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJdGVyYXRlIG92ZXIgYWxsIHRoZSByZWdpc3RlcmVkIGludGVyY2VwdG9yc1xuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBpcyBwYXJ0aWN1bGFybHkgdXNlZnVsIGZvciBza2lwcGluZyBvdmVyIGFueVxuICAgKiBpbnRlcmNlcHRvcnMgdGhhdCBtYXkgaGF2ZSBiZWNvbWUgYG51bGxgIGNhbGxpbmcgYGVqZWN0YC5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggaW50ZXJjZXB0b3JcbiAgICpcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBmb3JFYWNoKGZuKSB7XG4gICAgdXRpbHMuZm9yRWFjaCh0aGlzLmhhbmRsZXJzLCBmdW5jdGlvbiBmb3JFYWNoSGFuZGxlcihoKSB7XG4gICAgICBpZiAoaCAhPT0gbnVsbCkge1xuICAgICAgICBmbihoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBJbnRlcmNlcHRvck1hbmFnZXI7XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgc2lsZW50SlNPTlBhcnNpbmc6IHRydWUsXG4gIGZvcmNlZEpTT05QYXJzaW5nOiB0cnVlLFxuICBjbGFyaWZ5VGltZW91dEVycm9yOiBmYWxzZVxufTtcbiIsImltcG9ydCBVUkxTZWFyY2hQYXJhbXMgZnJvbSAnLi9jbGFzc2VzL1VSTFNlYXJjaFBhcmFtcy5qcydcbmltcG9ydCBGb3JtRGF0YSBmcm9tICcuL2NsYXNzZXMvRm9ybURhdGEuanMnXG5pbXBvcnQgQmxvYiBmcm9tICcuL2NsYXNzZXMvQmxvYi5qcydcblxuZXhwb3J0IGRlZmF1bHQge1xuICBpc0Jyb3dzZXI6IHRydWUsXG4gIGNsYXNzZXM6IHtcbiAgICBVUkxTZWFyY2hQYXJhbXMsXG4gICAgRm9ybURhdGEsXG4gICAgQmxvYlxuICB9LFxuICBwcm90b2NvbHM6IFsnaHR0cCcsICdodHRwcycsICdmaWxlJywgJ2Jsb2InLCAndXJsJywgJ2RhdGEnXVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IEF4aW9zVVJMU2VhcmNoUGFyYW1zIGZyb20gJy4uLy4uLy4uL2hlbHBlcnMvQXhpb3NVUkxTZWFyY2hQYXJhbXMuanMnO1xuZXhwb3J0IGRlZmF1bHQgdHlwZW9mIFVSTFNlYXJjaFBhcmFtcyAhPT0gJ3VuZGVmaW5lZCcgPyBVUkxTZWFyY2hQYXJhbXMgOiBBeGlvc1VSTFNlYXJjaFBhcmFtcztcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0IGRlZmF1bHQgdHlwZW9mIEZvcm1EYXRhICE9PSAndW5kZWZpbmVkJyA/IEZvcm1EYXRhIDogbnVsbDtcbiIsIid1c2Ugc3RyaWN0J1xuXG5leHBvcnQgZGVmYXVsdCB0eXBlb2YgQmxvYiAhPT0gJ3VuZGVmaW5lZCcgPyBCbG9iIDogbnVsbFxuIiwiY29uc3QgaGFzQnJvd3NlckVudiA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCc7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIGVudmlyb25tZW50XG4gKlxuICogVGhpcyBhbGxvd3MgYXhpb3MgdG8gcnVuIGluIGEgd2ViIHdvcmtlciwgYW5kIHJlYWN0LW5hdGl2ZS5cbiAqIEJvdGggZW52aXJvbm1lbnRzIHN1cHBvcnQgWE1MSHR0cFJlcXVlc3QsIGJ1dCBub3QgZnVsbHkgc3RhbmRhcmQgZ2xvYmFscy5cbiAqXG4gKiB3ZWIgd29ya2VyczpcbiAqICB0eXBlb2Ygd2luZG93IC0+IHVuZGVmaW5lZFxuICogIHR5cGVvZiBkb2N1bWVudCAtPiB1bmRlZmluZWRcbiAqXG4gKiByZWFjdC1uYXRpdmU6XG4gKiAgbmF2aWdhdG9yLnByb2R1Y3QgLT4gJ1JlYWN0TmF0aXZlJ1xuICogbmF0aXZlc2NyaXB0XG4gKiAgbmF2aWdhdG9yLnByb2R1Y3QgLT4gJ05hdGl2ZVNjcmlwdCcgb3IgJ05TJ1xuICpcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5jb25zdCBoYXNTdGFuZGFyZEJyb3dzZXJFbnYgPSAoXG4gIChwcm9kdWN0KSA9PiB7XG4gICAgcmV0dXJuIGhhc0Jyb3dzZXJFbnYgJiYgWydSZWFjdE5hdGl2ZScsICdOYXRpdmVTY3JpcHQnLCAnTlMnXS5pbmRleE9mKHByb2R1Y3QpIDwgMFxuICB9KSh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IucHJvZHVjdCk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIHdlYldvcmtlciBlbnZpcm9ubWVudFxuICpcbiAqIEFsdGhvdWdoIHRoZSBgaXNTdGFuZGFyZEJyb3dzZXJFbnZgIG1ldGhvZCBpbmRpY2F0ZXMgdGhhdFxuICogYGFsbG93cyBheGlvcyB0byBydW4gaW4gYSB3ZWIgd29ya2VyYCwgdGhlIFdlYldvcmtlciB3aWxsIHN0aWxsIGJlXG4gKiBmaWx0ZXJlZCBvdXQgZHVlIHRvIGl0cyBqdWRnbWVudCBzdGFuZGFyZFxuICogYHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCdgLlxuICogVGhpcyBsZWFkcyB0byBhIHByb2JsZW0gd2hlbiBheGlvcyBwb3N0IGBGb3JtRGF0YWAgaW4gd2ViV29ya2VyXG4gKi9cbmNvbnN0IGhhc1N0YW5kYXJkQnJvd3NlcldlYldvcmtlckVudiA9ICgoKSA9PiB7XG4gIHJldHVybiAoXG4gICAgdHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgIHNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZSAmJlxuICAgIHR5cGVvZiBzZWxmLmltcG9ydFNjcmlwdHMgPT09ICdmdW5jdGlvbidcbiAgKTtcbn0pKCk7XG5cbmV4cG9ydCB7XG4gIGhhc0Jyb3dzZXJFbnYsXG4gIGhhc1N0YW5kYXJkQnJvd3NlcldlYldvcmtlckVudixcbiAgaGFzU3RhbmRhcmRCcm93c2VyRW52XG59XG4iLCJpbXBvcnQgcGxhdGZvcm0gZnJvbSAnLi9ub2RlL2luZGV4LmpzJztcbmltcG9ydCAqIGFzIHV0aWxzIGZyb20gJy4vY29tbW9uL3V0aWxzLmpzJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICAuLi51dGlscyxcbiAgLi4ucGxhdGZvcm1cbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4uL3V0aWxzLmpzJztcblxuLyoqXG4gKiBJdCB0YWtlcyBhIHN0cmluZyBsaWtlIGBmb29beF1beV1bel1gIGFuZCByZXR1cm5zIGFuIGFycmF5IGxpa2UgYFsnZm9vJywgJ3gnLCAneScsICd6J11cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKlxuICogQHJldHVybnMgQW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAqL1xuZnVuY3Rpb24gcGFyc2VQcm9wUGF0aChuYW1lKSB7XG4gIC8vIGZvb1t4XVt5XVt6XVxuICAvLyBmb28ueC55LnpcbiAgLy8gZm9vLXgteS16XG4gIC8vIGZvbyB4IHkgelxuICByZXR1cm4gdXRpbHMubWF0Y2hBbGwoL1xcdyt8XFxbKFxcdyopXS9nLCBuYW1lKS5tYXAobWF0Y2ggPT4ge1xuICAgIHJldHVybiBtYXRjaFswXSA9PT0gJ1tdJyA/ICcnIDogbWF0Y2hbMV0gfHwgbWF0Y2hbMF07XG4gIH0pO1xufVxuXG4vKipcbiAqIENvbnZlcnQgYW4gYXJyYXkgdG8gYW4gb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8YW55Pn0gYXJyIC0gVGhlIGFycmF5IHRvIGNvbnZlcnQgdG8gYW4gb2JqZWN0LlxuICpcbiAqIEByZXR1cm5zIEFuIG9iamVjdCB3aXRoIHRoZSBzYW1lIGtleXMgYW5kIHZhbHVlcyBhcyB0aGUgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGFycmF5VG9PYmplY3QoYXJyKSB7XG4gIGNvbnN0IG9iaiA9IHt9O1xuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoYXJyKTtcbiAgbGV0IGk7XG4gIGNvbnN0IGxlbiA9IGtleXMubGVuZ3RoO1xuICBsZXQga2V5O1xuICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICBrZXkgPSBrZXlzW2ldO1xuICAgIG9ialtrZXldID0gYXJyW2tleV07XG4gIH1cbiAgcmV0dXJuIG9iajtcbn1cblxuLyoqXG4gKiBJdCB0YWtlcyBhIEZvcm1EYXRhIG9iamVjdCBhbmQgcmV0dXJucyBhIEphdmFTY3JpcHQgb2JqZWN0XG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGZvcm1EYXRhIFRoZSBGb3JtRGF0YSBvYmplY3QgdG8gY29udmVydCB0byBKU09OLlxuICpcbiAqIEByZXR1cm5zIHtPYmplY3Q8c3RyaW5nLCBhbnk+IHwgbnVsbH0gVGhlIGNvbnZlcnRlZCBvYmplY3QuXG4gKi9cbmZ1bmN0aW9uIGZvcm1EYXRhVG9KU09OKGZvcm1EYXRhKSB7XG4gIGZ1bmN0aW9uIGJ1aWxkUGF0aChwYXRoLCB2YWx1ZSwgdGFyZ2V0LCBpbmRleCkge1xuICAgIGxldCBuYW1lID0gcGF0aFtpbmRleCsrXTtcbiAgICBjb25zdCBpc051bWVyaWNLZXkgPSBOdW1iZXIuaXNGaW5pdGUoK25hbWUpO1xuICAgIGNvbnN0IGlzTGFzdCA9IGluZGV4ID49IHBhdGgubGVuZ3RoO1xuICAgIG5hbWUgPSAhbmFtZSAmJiB1dGlscy5pc0FycmF5KHRhcmdldCkgPyB0YXJnZXQubGVuZ3RoIDogbmFtZTtcblxuICAgIGlmIChpc0xhc3QpIHtcbiAgICAgIGlmICh1dGlscy5oYXNPd25Qcm9wKHRhcmdldCwgbmFtZSkpIHtcbiAgICAgICAgdGFyZ2V0W25hbWVdID0gW3RhcmdldFtuYW1lXSwgdmFsdWVdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0W25hbWVdID0gdmFsdWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAhaXNOdW1lcmljS2V5O1xuICAgIH1cblxuICAgIGlmICghdGFyZ2V0W25hbWVdIHx8ICF1dGlscy5pc09iamVjdCh0YXJnZXRbbmFtZV0pKSB7XG4gICAgICB0YXJnZXRbbmFtZV0gPSBbXTtcbiAgICB9XG5cbiAgICBjb25zdCByZXN1bHQgPSBidWlsZFBhdGgocGF0aCwgdmFsdWUsIHRhcmdldFtuYW1lXSwgaW5kZXgpO1xuXG4gICAgaWYgKHJlc3VsdCAmJiB1dGlscy5pc0FycmF5KHRhcmdldFtuYW1lXSkpIHtcbiAgICAgIHRhcmdldFtuYW1lXSA9IGFycmF5VG9PYmplY3QodGFyZ2V0W25hbWVdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gIWlzTnVtZXJpY0tleTtcbiAgfVxuXG4gIGlmICh1dGlscy5pc0Zvcm1EYXRhKGZvcm1EYXRhKSAmJiB1dGlscy5pc0Z1bmN0aW9uKGZvcm1EYXRhLmVudHJpZXMpKSB7XG4gICAgY29uc3Qgb2JqID0ge307XG5cbiAgICB1dGlscy5mb3JFYWNoRW50cnkoZm9ybURhdGEsIChuYW1lLCB2YWx1ZSkgPT4ge1xuICAgICAgYnVpbGRQYXRoKHBhcnNlUHJvcFBhdGgobmFtZSksIHZhbHVlLCBvYmosIDApO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmb3JtRGF0YVRvSlNPTjtcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4uL3V0aWxzLmpzJztcbmltcG9ydCBBeGlvc0Vycm9yIGZyb20gJy4uL2NvcmUvQXhpb3NFcnJvci5qcyc7XG5pbXBvcnQgdHJhbnNpdGlvbmFsRGVmYXVsdHMgZnJvbSAnLi90cmFuc2l0aW9uYWwuanMnO1xuaW1wb3J0IHRvRm9ybURhdGEgZnJvbSAnLi4vaGVscGVycy90b0Zvcm1EYXRhLmpzJztcbmltcG9ydCB0b1VSTEVuY29kZWRGb3JtIGZyb20gJy4uL2hlbHBlcnMvdG9VUkxFbmNvZGVkRm9ybS5qcyc7XG5pbXBvcnQgcGxhdGZvcm0gZnJvbSAnLi4vcGxhdGZvcm0vaW5kZXguanMnO1xuaW1wb3J0IGZvcm1EYXRhVG9KU09OIGZyb20gJy4uL2hlbHBlcnMvZm9ybURhdGFUb0pTT04uanMnO1xuXG4vKipcbiAqIEl0IHRha2VzIGEgc3RyaW5nLCB0cmllcyB0byBwYXJzZSBpdCwgYW5kIGlmIGl0IGZhaWxzLCBpdCByZXR1cm5zIHRoZSBzdHJpbmdpZmllZCB2ZXJzaW9uXG4gKiBvZiB0aGUgaW5wdXRcbiAqXG4gKiBAcGFyYW0ge2FueX0gcmF3VmFsdWUgLSBUaGUgdmFsdWUgdG8gYmUgc3RyaW5naWZpZWQuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwYXJzZXIgLSBBIGZ1bmN0aW9uIHRoYXQgcGFyc2VzIGEgc3RyaW5nIGludG8gYSBKYXZhU2NyaXB0IG9iamVjdC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVuY29kZXIgLSBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSB2YWx1ZSBhbmQgcmV0dXJucyBhIHN0cmluZy5cbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBBIHN0cmluZ2lmaWVkIHZlcnNpb24gb2YgdGhlIHJhd1ZhbHVlLlxuICovXG5mdW5jdGlvbiBzdHJpbmdpZnlTYWZlbHkocmF3VmFsdWUsIHBhcnNlciwgZW5jb2Rlcikge1xuICBpZiAodXRpbHMuaXNTdHJpbmcocmF3VmFsdWUpKSB7XG4gICAgdHJ5IHtcbiAgICAgIChwYXJzZXIgfHwgSlNPTi5wYXJzZSkocmF3VmFsdWUpO1xuICAgICAgcmV0dXJuIHV0aWxzLnRyaW0ocmF3VmFsdWUpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGlmIChlLm5hbWUgIT09ICdTeW50YXhFcnJvcicpIHtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gKGVuY29kZXIgfHwgSlNPTi5zdHJpbmdpZnkpKHJhd1ZhbHVlKTtcbn1cblxuY29uc3QgZGVmYXVsdHMgPSB7XG5cbiAgdHJhbnNpdGlvbmFsOiB0cmFuc2l0aW9uYWxEZWZhdWx0cyxcblxuICBhZGFwdGVyOiBbJ3hocicsICdodHRwJ10sXG5cbiAgdHJhbnNmb3JtUmVxdWVzdDogW2Z1bmN0aW9uIHRyYW5zZm9ybVJlcXVlc3QoZGF0YSwgaGVhZGVycykge1xuICAgIGNvbnN0IGNvbnRlbnRUeXBlID0gaGVhZGVycy5nZXRDb250ZW50VHlwZSgpIHx8ICcnO1xuICAgIGNvbnN0IGhhc0pTT05Db250ZW50VHlwZSA9IGNvbnRlbnRUeXBlLmluZGV4T2YoJ2FwcGxpY2F0aW9uL2pzb24nKSA+IC0xO1xuICAgIGNvbnN0IGlzT2JqZWN0UGF5bG9hZCA9IHV0aWxzLmlzT2JqZWN0KGRhdGEpO1xuXG4gICAgaWYgKGlzT2JqZWN0UGF5bG9hZCAmJiB1dGlscy5pc0hUTUxGb3JtKGRhdGEpKSB7XG4gICAgICBkYXRhID0gbmV3IEZvcm1EYXRhKGRhdGEpO1xuICAgIH1cblxuICAgIGNvbnN0IGlzRm9ybURhdGEgPSB1dGlscy5pc0Zvcm1EYXRhKGRhdGEpO1xuXG4gICAgaWYgKGlzRm9ybURhdGEpIHtcbiAgICAgIGlmICghaGFzSlNPTkNvbnRlbnRUeXBlKSB7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhhc0pTT05Db250ZW50VHlwZSA/IEpTT04uc3RyaW5naWZ5KGZvcm1EYXRhVG9KU09OKGRhdGEpKSA6IGRhdGE7XG4gICAgfVxuXG4gICAgaWYgKHV0aWxzLmlzQXJyYXlCdWZmZXIoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQnVmZmVyKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc1N0cmVhbShkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNGaWxlKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0Jsb2IoZGF0YSlcbiAgICApIHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNBcnJheUJ1ZmZlclZpZXcoZGF0YSkpIHtcbiAgICAgIHJldHVybiBkYXRhLmJ1ZmZlcjtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmlzVVJMU2VhcmNoUGFyYW1zKGRhdGEpKSB7XG4gICAgICBoZWFkZXJzLnNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD11dGYtOCcsIGZhbHNlKTtcbiAgICAgIHJldHVybiBkYXRhLnRvU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgbGV0IGlzRmlsZUxpc3Q7XG5cbiAgICBpZiAoaXNPYmplY3RQYXlsb2FkKSB7XG4gICAgICBpZiAoY29udGVudFR5cGUuaW5kZXhPZignYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJykgPiAtMSkge1xuICAgICAgICByZXR1cm4gdG9VUkxFbmNvZGVkRm9ybShkYXRhLCB0aGlzLmZvcm1TZXJpYWxpemVyKS50b1N0cmluZygpO1xuICAgICAgfVxuXG4gICAgICBpZiAoKGlzRmlsZUxpc3QgPSB1dGlscy5pc0ZpbGVMaXN0KGRhdGEpKSB8fCBjb250ZW50VHlwZS5pbmRleE9mKCdtdWx0aXBhcnQvZm9ybS1kYXRhJykgPiAtMSkge1xuICAgICAgICBjb25zdCBfRm9ybURhdGEgPSB0aGlzLmVudiAmJiB0aGlzLmVudi5Gb3JtRGF0YTtcblxuICAgICAgICByZXR1cm4gdG9Gb3JtRGF0YShcbiAgICAgICAgICBpc0ZpbGVMaXN0ID8geydmaWxlc1tdJzogZGF0YX0gOiBkYXRhLFxuICAgICAgICAgIF9Gb3JtRGF0YSAmJiBuZXcgX0Zvcm1EYXRhKCksXG4gICAgICAgICAgdGhpcy5mb3JtU2VyaWFsaXplclxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpc09iamVjdFBheWxvYWQgfHwgaGFzSlNPTkNvbnRlbnRUeXBlICkge1xuICAgICAgaGVhZGVycy5zZXRDb250ZW50VHlwZSgnYXBwbGljYXRpb24vanNvbicsIGZhbHNlKTtcbiAgICAgIHJldHVybiBzdHJpbmdpZnlTYWZlbHkoZGF0YSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH1dLFxuXG4gIHRyYW5zZm9ybVJlc3BvbnNlOiBbZnVuY3Rpb24gdHJhbnNmb3JtUmVzcG9uc2UoZGF0YSkge1xuICAgIGNvbnN0IHRyYW5zaXRpb25hbCA9IHRoaXMudHJhbnNpdGlvbmFsIHx8IGRlZmF1bHRzLnRyYW5zaXRpb25hbDtcbiAgICBjb25zdCBmb3JjZWRKU09OUGFyc2luZyA9IHRyYW5zaXRpb25hbCAmJiB0cmFuc2l0aW9uYWwuZm9yY2VkSlNPTlBhcnNpbmc7XG4gICAgY29uc3QgSlNPTlJlcXVlc3RlZCA9IHRoaXMucmVzcG9uc2VUeXBlID09PSAnanNvbic7XG5cbiAgICBpZiAoZGF0YSAmJiB1dGlscy5pc1N0cmluZyhkYXRhKSAmJiAoKGZvcmNlZEpTT05QYXJzaW5nICYmICF0aGlzLnJlc3BvbnNlVHlwZSkgfHwgSlNPTlJlcXVlc3RlZCkpIHtcbiAgICAgIGNvbnN0IHNpbGVudEpTT05QYXJzaW5nID0gdHJhbnNpdGlvbmFsICYmIHRyYW5zaXRpb25hbC5zaWxlbnRKU09OUGFyc2luZztcbiAgICAgIGNvbnN0IHN0cmljdEpTT05QYXJzaW5nID0gIXNpbGVudEpTT05QYXJzaW5nICYmIEpTT05SZXF1ZXN0ZWQ7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoc3RyaWN0SlNPTlBhcnNpbmcpIHtcbiAgICAgICAgICBpZiAoZS5uYW1lID09PSAnU3ludGF4RXJyb3InKSB7XG4gICAgICAgICAgICB0aHJvdyBBeGlvc0Vycm9yLmZyb20oZSwgQXhpb3NFcnJvci5FUlJfQkFEX1JFU1BPTlNFLCB0aGlzLCBudWxsLCB0aGlzLnJlc3BvbnNlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkYXRhO1xuICB9XSxcblxuICAvKipcbiAgICogQSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyB0byBhYm9ydCBhIHJlcXVlc3QuIElmIHNldCB0byAwIChkZWZhdWx0KSBhXG4gICAqIHRpbWVvdXQgaXMgbm90IGNyZWF0ZWQuXG4gICAqL1xuICB0aW1lb3V0OiAwLFxuXG4gIHhzcmZDb29raWVOYW1lOiAnWFNSRi1UT0tFTicsXG4gIHhzcmZIZWFkZXJOYW1lOiAnWC1YU1JGLVRPS0VOJyxcblxuICBtYXhDb250ZW50TGVuZ3RoOiAtMSxcbiAgbWF4Qm9keUxlbmd0aDogLTEsXG5cbiAgZW52OiB7XG4gICAgRm9ybURhdGE6IHBsYXRmb3JtLmNsYXNzZXMuRm9ybURhdGEsXG4gICAgQmxvYjogcGxhdGZvcm0uY2xhc3Nlcy5CbG9iXG4gIH0sXG5cbiAgdmFsaWRhdGVTdGF0dXM6IGZ1bmN0aW9uIHZhbGlkYXRlU3RhdHVzKHN0YXR1cykge1xuICAgIHJldHVybiBzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMDtcbiAgfSxcblxuICBoZWFkZXJzOiB7XG4gICAgY29tbW9uOiB7XG4gICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKicsXG4gICAgICAnQ29udGVudC1UeXBlJzogdW5kZWZpbmVkXG4gICAgfVxuICB9XG59O1xuXG51dGlscy5mb3JFYWNoKFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJywgJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJ10sIChtZXRob2QpID0+IHtcbiAgZGVmYXVsdHMuaGVhZGVyc1ttZXRob2RdID0ge307XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgZGVmYXVsdHM7XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgdG9Gb3JtRGF0YSBmcm9tICcuL3RvRm9ybURhdGEuanMnO1xuaW1wb3J0IHBsYXRmb3JtIGZyb20gJy4uL3BsYXRmb3JtL2luZGV4LmpzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdG9VUkxFbmNvZGVkRm9ybShkYXRhLCBvcHRpb25zKSB7XG4gIHJldHVybiB0b0Zvcm1EYXRhKGRhdGEsIG5ldyBwbGF0Zm9ybS5jbGFzc2VzLlVSTFNlYXJjaFBhcmFtcygpLCBPYmplY3QuYXNzaWduKHtcbiAgICB2aXNpdG9yOiBmdW5jdGlvbih2YWx1ZSwga2V5LCBwYXRoLCBoZWxwZXJzKSB7XG4gICAgICBpZiAocGxhdGZvcm0uaXNOb2RlICYmIHV0aWxzLmlzQnVmZmVyKHZhbHVlKSkge1xuICAgICAgICB0aGlzLmFwcGVuZChrZXksIHZhbHVlLnRvU3RyaW5nKCdiYXNlNjQnKSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGhlbHBlcnMuZGVmYXVsdFZpc2l0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gIH0sIG9wdGlvbnMpKTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4vLi4vdXRpbHMuanMnO1xuXG4vLyBSYXdBeGlvc0hlYWRlcnMgd2hvc2UgZHVwbGljYXRlcyBhcmUgaWdub3JlZCBieSBub2RlXG4vLyBjLmYuIGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvaHR0cC5odG1sI2h0dHBfbWVzc2FnZV9oZWFkZXJzXG5jb25zdCBpZ25vcmVEdXBsaWNhdGVPZiA9IHV0aWxzLnRvT2JqZWN0U2V0KFtcbiAgJ2FnZScsICdhdXRob3JpemF0aW9uJywgJ2NvbnRlbnQtbGVuZ3RoJywgJ2NvbnRlbnQtdHlwZScsICdldGFnJyxcbiAgJ2V4cGlyZXMnLCAnZnJvbScsICdob3N0JywgJ2lmLW1vZGlmaWVkLXNpbmNlJywgJ2lmLXVubW9kaWZpZWQtc2luY2UnLFxuICAnbGFzdC1tb2RpZmllZCcsICdsb2NhdGlvbicsICdtYXgtZm9yd2FyZHMnLCAncHJveHktYXV0aG9yaXphdGlvbicsXG4gICdyZWZlcmVyJywgJ3JldHJ5LWFmdGVyJywgJ3VzZXItYWdlbnQnXG5dKTtcblxuLyoqXG4gKiBQYXJzZSBoZWFkZXJzIGludG8gYW4gb2JqZWN0XG4gKlxuICogYGBgXG4gKiBEYXRlOiBXZWQsIDI3IEF1ZyAyMDE0IDA4OjU4OjQ5IEdNVFxuICogQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uXG4gKiBDb25uZWN0aW9uOiBrZWVwLWFsaXZlXG4gKiBUcmFuc2Zlci1FbmNvZGluZzogY2h1bmtlZFxuICogYGBgXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHJhd0hlYWRlcnMgSGVhZGVycyBuZWVkaW5nIHRvIGJlIHBhcnNlZFxuICpcbiAqIEByZXR1cm5zIHtPYmplY3R9IEhlYWRlcnMgcGFyc2VkIGludG8gYW4gb2JqZWN0XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHJhd0hlYWRlcnMgPT4ge1xuICBjb25zdCBwYXJzZWQgPSB7fTtcbiAgbGV0IGtleTtcbiAgbGV0IHZhbDtcbiAgbGV0IGk7XG5cbiAgcmF3SGVhZGVycyAmJiByYXdIZWFkZXJzLnNwbGl0KCdcXG4nKS5mb3JFYWNoKGZ1bmN0aW9uIHBhcnNlcihsaW5lKSB7XG4gICAgaSA9IGxpbmUuaW5kZXhPZignOicpO1xuICAgIGtleSA9IGxpbmUuc3Vic3RyaW5nKDAsIGkpLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICAgIHZhbCA9IGxpbmUuc3Vic3RyaW5nKGkgKyAxKS50cmltKCk7XG5cbiAgICBpZiAoIWtleSB8fCAocGFyc2VkW2tleV0gJiYgaWdub3JlRHVwbGljYXRlT2Zba2V5XSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoa2V5ID09PSAnc2V0LWNvb2tpZScpIHtcbiAgICAgIGlmIChwYXJzZWRba2V5XSkge1xuICAgICAgICBwYXJzZWRba2V5XS5wdXNoKHZhbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJzZWRba2V5XSA9IFt2YWxdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwYXJzZWRba2V5XSA9IHBhcnNlZFtrZXldID8gcGFyc2VkW2tleV0gKyAnLCAnICsgdmFsIDogdmFsO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHBhcnNlZDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgcGFyc2VIZWFkZXJzIGZyb20gJy4uL2hlbHBlcnMvcGFyc2VIZWFkZXJzLmpzJztcblxuY29uc3QgJGludGVybmFscyA9IFN5bWJvbCgnaW50ZXJuYWxzJyk7XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUhlYWRlcihoZWFkZXIpIHtcbiAgcmV0dXJuIGhlYWRlciAmJiBTdHJpbmcoaGVhZGVyKS50cmltKCkudG9Mb3dlckNhc2UoKTtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplVmFsdWUodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09PSBmYWxzZSB8fCB2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIHV0aWxzLmlzQXJyYXkodmFsdWUpID8gdmFsdWUubWFwKG5vcm1hbGl6ZVZhbHVlKSA6IFN0cmluZyh2YWx1ZSk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlVG9rZW5zKHN0cikge1xuICBjb25zdCB0b2tlbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBjb25zdCB0b2tlbnNSRSA9IC8oW15cXHMsOz1dKylcXHMqKD86PVxccyooW14sO10rKSk/L2c7XG4gIGxldCBtYXRjaDtcblxuICB3aGlsZSAoKG1hdGNoID0gdG9rZW5zUkUuZXhlYyhzdHIpKSkge1xuICAgIHRva2Vuc1ttYXRjaFsxXV0gPSBtYXRjaFsyXTtcbiAgfVxuXG4gIHJldHVybiB0b2tlbnM7XG59XG5cbmNvbnN0IGlzVmFsaWRIZWFkZXJOYW1lID0gKHN0cikgPT4gL15bLV9hLXpBLVowLTleYHx+LCEjJCUmJyorLl0rJC8udGVzdChzdHIudHJpbSgpKTtcblxuZnVuY3Rpb24gbWF0Y2hIZWFkZXJWYWx1ZShjb250ZXh0LCB2YWx1ZSwgaGVhZGVyLCBmaWx0ZXIsIGlzSGVhZGVyTmFtZUZpbHRlcikge1xuICBpZiAodXRpbHMuaXNGdW5jdGlvbihmaWx0ZXIpKSB7XG4gICAgcmV0dXJuIGZpbHRlci5jYWxsKHRoaXMsIHZhbHVlLCBoZWFkZXIpO1xuICB9XG5cbiAgaWYgKGlzSGVhZGVyTmFtZUZpbHRlcikge1xuICAgIHZhbHVlID0gaGVhZGVyO1xuICB9XG5cbiAgaWYgKCF1dGlscy5pc1N0cmluZyh2YWx1ZSkpIHJldHVybjtcblxuICBpZiAodXRpbHMuaXNTdHJpbmcoZmlsdGVyKSkge1xuICAgIHJldHVybiB2YWx1ZS5pbmRleE9mKGZpbHRlcikgIT09IC0xO1xuICB9XG5cbiAgaWYgKHV0aWxzLmlzUmVnRXhwKGZpbHRlcikpIHtcbiAgICByZXR1cm4gZmlsdGVyLnRlc3QodmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGZvcm1hdEhlYWRlcihoZWFkZXIpIHtcbiAgcmV0dXJuIGhlYWRlci50cmltKClcbiAgICAudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8oW2EtelxcZF0pKFxcdyopL2csICh3LCBjaGFyLCBzdHIpID0+IHtcbiAgICAgIHJldHVybiBjaGFyLnRvVXBwZXJDYXNlKCkgKyBzdHI7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGJ1aWxkQWNjZXNzb3JzKG9iaiwgaGVhZGVyKSB7XG4gIGNvbnN0IGFjY2Vzc29yTmFtZSA9IHV0aWxzLnRvQ2FtZWxDYXNlKCcgJyArIGhlYWRlcik7XG5cbiAgWydnZXQnLCAnc2V0JywgJ2hhcyddLmZvckVhY2gobWV0aG9kTmFtZSA9PiB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgbWV0aG9kTmFtZSArIGFjY2Vzc29yTmFtZSwge1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uKGFyZzEsIGFyZzIsIGFyZzMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbbWV0aG9kTmFtZV0uY2FsbCh0aGlzLCBoZWFkZXIsIGFyZzEsIGFyZzIsIGFyZzMpO1xuICAgICAgfSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9KTtcbn1cblxuY2xhc3MgQXhpb3NIZWFkZXJzIHtcbiAgY29uc3RydWN0b3IoaGVhZGVycykge1xuICAgIGhlYWRlcnMgJiYgdGhpcy5zZXQoaGVhZGVycyk7XG4gIH1cblxuICBzZXQoaGVhZGVyLCB2YWx1ZU9yUmV3cml0ZSwgcmV3cml0ZSkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuXG4gICAgZnVuY3Rpb24gc2V0SGVhZGVyKF92YWx1ZSwgX2hlYWRlciwgX3Jld3JpdGUpIHtcbiAgICAgIGNvbnN0IGxIZWFkZXIgPSBub3JtYWxpemVIZWFkZXIoX2hlYWRlcik7XG5cbiAgICAgIGlmICghbEhlYWRlcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2hlYWRlciBuYW1lIG11c3QgYmUgYSBub24tZW1wdHkgc3RyaW5nJyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGtleSA9IHV0aWxzLmZpbmRLZXkoc2VsZiwgbEhlYWRlcik7XG5cbiAgICAgIGlmKCFrZXkgfHwgc2VsZltrZXldID09PSB1bmRlZmluZWQgfHwgX3Jld3JpdGUgPT09IHRydWUgfHwgKF9yZXdyaXRlID09PSB1bmRlZmluZWQgJiYgc2VsZltrZXldICE9PSBmYWxzZSkpIHtcbiAgICAgICAgc2VsZltrZXkgfHwgX2hlYWRlcl0gPSBub3JtYWxpemVWYWx1ZShfdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHNldEhlYWRlcnMgPSAoaGVhZGVycywgX3Jld3JpdGUpID0+XG4gICAgICB1dGlscy5mb3JFYWNoKGhlYWRlcnMsIChfdmFsdWUsIF9oZWFkZXIpID0+IHNldEhlYWRlcihfdmFsdWUsIF9oZWFkZXIsIF9yZXdyaXRlKSk7XG5cbiAgICBpZiAodXRpbHMuaXNQbGFpbk9iamVjdChoZWFkZXIpIHx8IGhlYWRlciBpbnN0YW5jZW9mIHRoaXMuY29uc3RydWN0b3IpIHtcbiAgICAgIHNldEhlYWRlcnMoaGVhZGVyLCB2YWx1ZU9yUmV3cml0ZSlcbiAgICB9IGVsc2UgaWYodXRpbHMuaXNTdHJpbmcoaGVhZGVyKSAmJiAoaGVhZGVyID0gaGVhZGVyLnRyaW0oKSkgJiYgIWlzVmFsaWRIZWFkZXJOYW1lKGhlYWRlcikpIHtcbiAgICAgIHNldEhlYWRlcnMocGFyc2VIZWFkZXJzKGhlYWRlciksIHZhbHVlT3JSZXdyaXRlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGVhZGVyICE9IG51bGwgJiYgc2V0SGVhZGVyKHZhbHVlT3JSZXdyaXRlLCBoZWFkZXIsIHJld3JpdGUpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZ2V0KGhlYWRlciwgcGFyc2VyKSB7XG4gICAgaGVhZGVyID0gbm9ybWFsaXplSGVhZGVyKGhlYWRlcik7XG5cbiAgICBpZiAoaGVhZGVyKSB7XG4gICAgICBjb25zdCBrZXkgPSB1dGlscy5maW5kS2V5KHRoaXMsIGhlYWRlcik7XG5cbiAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzW2tleV07XG5cbiAgICAgICAgaWYgKCFwYXJzZXIpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFyc2VyID09PSB0cnVlKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlVG9rZW5zKHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1dGlscy5pc0Z1bmN0aW9uKHBhcnNlcikpIHtcbiAgICAgICAgICByZXR1cm4gcGFyc2VyLmNhbGwodGhpcywgdmFsdWUsIGtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodXRpbHMuaXNSZWdFeHAocGFyc2VyKSkge1xuICAgICAgICAgIHJldHVybiBwYXJzZXIuZXhlYyh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdwYXJzZXIgbXVzdCBiZSBib29sZWFufHJlZ2V4cHxmdW5jdGlvbicpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGhhcyhoZWFkZXIsIG1hdGNoZXIpIHtcbiAgICBoZWFkZXIgPSBub3JtYWxpemVIZWFkZXIoaGVhZGVyKTtcblxuICAgIGlmIChoZWFkZXIpIHtcbiAgICAgIGNvbnN0IGtleSA9IHV0aWxzLmZpbmRLZXkodGhpcywgaGVhZGVyKTtcblxuICAgICAgcmV0dXJuICEhKGtleSAmJiB0aGlzW2tleV0gIT09IHVuZGVmaW5lZCAmJiAoIW1hdGNoZXIgfHwgbWF0Y2hIZWFkZXJWYWx1ZSh0aGlzLCB0aGlzW2tleV0sIGtleSwgbWF0Y2hlcikpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBkZWxldGUoaGVhZGVyLCBtYXRjaGVyKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgbGV0IGRlbGV0ZWQgPSBmYWxzZTtcblxuICAgIGZ1bmN0aW9uIGRlbGV0ZUhlYWRlcihfaGVhZGVyKSB7XG4gICAgICBfaGVhZGVyID0gbm9ybWFsaXplSGVhZGVyKF9oZWFkZXIpO1xuXG4gICAgICBpZiAoX2hlYWRlcikge1xuICAgICAgICBjb25zdCBrZXkgPSB1dGlscy5maW5kS2V5KHNlbGYsIF9oZWFkZXIpO1xuXG4gICAgICAgIGlmIChrZXkgJiYgKCFtYXRjaGVyIHx8IG1hdGNoSGVhZGVyVmFsdWUoc2VsZiwgc2VsZltrZXldLCBrZXksIG1hdGNoZXIpKSkge1xuICAgICAgICAgIGRlbGV0ZSBzZWxmW2tleV07XG5cbiAgICAgICAgICBkZWxldGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh1dGlscy5pc0FycmF5KGhlYWRlcikpIHtcbiAgICAgIGhlYWRlci5mb3JFYWNoKGRlbGV0ZUhlYWRlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbGV0ZUhlYWRlcihoZWFkZXIpO1xuICAgIH1cblxuICAgIHJldHVybiBkZWxldGVkO1xuICB9XG5cbiAgY2xlYXIobWF0Y2hlcikge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyh0aGlzKTtcbiAgICBsZXQgaSA9IGtleXMubGVuZ3RoO1xuICAgIGxldCBkZWxldGVkID0gZmFsc2U7XG5cbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xuICAgICAgaWYoIW1hdGNoZXIgfHwgbWF0Y2hIZWFkZXJWYWx1ZSh0aGlzLCB0aGlzW2tleV0sIGtleSwgbWF0Y2hlciwgdHJ1ZSkpIHtcbiAgICAgICAgZGVsZXRlIHRoaXNba2V5XTtcbiAgICAgICAgZGVsZXRlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlbGV0ZWQ7XG4gIH1cblxuICBub3JtYWxpemUoZm9ybWF0KSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuXG4gICAgdXRpbHMuZm9yRWFjaCh0aGlzLCAodmFsdWUsIGhlYWRlcikgPT4ge1xuICAgICAgY29uc3Qga2V5ID0gdXRpbHMuZmluZEtleShoZWFkZXJzLCBoZWFkZXIpO1xuXG4gICAgICBpZiAoa2V5KSB7XG4gICAgICAgIHNlbGZba2V5XSA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKTtcbiAgICAgICAgZGVsZXRlIHNlbGZbaGVhZGVyXTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBub3JtYWxpemVkID0gZm9ybWF0ID8gZm9ybWF0SGVhZGVyKGhlYWRlcikgOiBTdHJpbmcoaGVhZGVyKS50cmltKCk7XG5cbiAgICAgIGlmIChub3JtYWxpemVkICE9PSBoZWFkZXIpIHtcbiAgICAgICAgZGVsZXRlIHNlbGZbaGVhZGVyXTtcbiAgICAgIH1cblxuICAgICAgc2VsZltub3JtYWxpemVkXSA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKTtcblxuICAgICAgaGVhZGVyc1tub3JtYWxpemVkXSA9IHRydWU7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGNvbmNhdCguLi50YXJnZXRzKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IuY29uY2F0KHRoaXMsIC4uLnRhcmdldHMpO1xuICB9XG5cbiAgdG9KU09OKGFzU3RyaW5ncykge1xuICAgIGNvbnN0IG9iaiA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgICB1dGlscy5mb3JFYWNoKHRoaXMsICh2YWx1ZSwgaGVhZGVyKSA9PiB7XG4gICAgICB2YWx1ZSAhPSBudWxsICYmIHZhbHVlICE9PSBmYWxzZSAmJiAob2JqW2hlYWRlcl0gPSBhc1N0cmluZ3MgJiYgdXRpbHMuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5qb2luKCcsICcpIDogdmFsdWUpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xuICAgIHJldHVybiBPYmplY3QuZW50cmllcyh0aGlzLnRvSlNPTigpKVtTeW1ib2wuaXRlcmF0b3JdKCk7XG4gIH1cblxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXModGhpcy50b0pTT04oKSkubWFwKChbaGVhZGVyLCB2YWx1ZV0pID0+IGhlYWRlciArICc6ICcgKyB2YWx1ZSkuam9pbignXFxuJyk7XG4gIH1cblxuICBnZXQgW1N5bWJvbC50b1N0cmluZ1RhZ10oKSB7XG4gICAgcmV0dXJuICdBeGlvc0hlYWRlcnMnO1xuICB9XG5cbiAgc3RhdGljIGZyb20odGhpbmcpIHtcbiAgICByZXR1cm4gdGhpbmcgaW5zdGFuY2VvZiB0aGlzID8gdGhpbmcgOiBuZXcgdGhpcyh0aGluZyk7XG4gIH1cblxuICBzdGF0aWMgY29uY2F0KGZpcnN0LCAuLi50YXJnZXRzKSB7XG4gICAgY29uc3QgY29tcHV0ZWQgPSBuZXcgdGhpcyhmaXJzdCk7XG5cbiAgICB0YXJnZXRzLmZvckVhY2goKHRhcmdldCkgPT4gY29tcHV0ZWQuc2V0KHRhcmdldCkpO1xuXG4gICAgcmV0dXJuIGNvbXB1dGVkO1xuICB9XG5cbiAgc3RhdGljIGFjY2Vzc29yKGhlYWRlcikge1xuICAgIGNvbnN0IGludGVybmFscyA9IHRoaXNbJGludGVybmFsc10gPSAodGhpc1skaW50ZXJuYWxzXSA9IHtcbiAgICAgIGFjY2Vzc29yczoge31cbiAgICB9KTtcblxuICAgIGNvbnN0IGFjY2Vzc29ycyA9IGludGVybmFscy5hY2Nlc3NvcnM7XG4gICAgY29uc3QgcHJvdG90eXBlID0gdGhpcy5wcm90b3R5cGU7XG5cbiAgICBmdW5jdGlvbiBkZWZpbmVBY2Nlc3NvcihfaGVhZGVyKSB7XG4gICAgICBjb25zdCBsSGVhZGVyID0gbm9ybWFsaXplSGVhZGVyKF9oZWFkZXIpO1xuXG4gICAgICBpZiAoIWFjY2Vzc29yc1tsSGVhZGVyXSkge1xuICAgICAgICBidWlsZEFjY2Vzc29ycyhwcm90b3R5cGUsIF9oZWFkZXIpO1xuICAgICAgICBhY2Nlc3NvcnNbbEhlYWRlcl0gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHV0aWxzLmlzQXJyYXkoaGVhZGVyKSA/IGhlYWRlci5mb3JFYWNoKGRlZmluZUFjY2Vzc29yKSA6IGRlZmluZUFjY2Vzc29yKGhlYWRlcik7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG5BeGlvc0hlYWRlcnMuYWNjZXNzb3IoWydDb250ZW50LVR5cGUnLCAnQ29udGVudC1MZW5ndGgnLCAnQWNjZXB0JywgJ0FjY2VwdC1FbmNvZGluZycsICdVc2VyLUFnZW50JywgJ0F1dGhvcml6YXRpb24nXSk7XG5cbi8vIHJlc2VydmVkIG5hbWVzIGhvdGZpeFxudXRpbHMucmVkdWNlRGVzY3JpcHRvcnMoQXhpb3NIZWFkZXJzLnByb3RvdHlwZSwgKHt2YWx1ZX0sIGtleSkgPT4ge1xuICBsZXQgbWFwcGVkID0ga2V5WzBdLnRvVXBwZXJDYXNlKCkgKyBrZXkuc2xpY2UoMSk7IC8vIG1hcCBgc2V0YCA9PiBgU2V0YFxuICByZXR1cm4ge1xuICAgIGdldDogKCkgPT4gdmFsdWUsXG4gICAgc2V0KGhlYWRlclZhbHVlKSB7XG4gICAgICB0aGlzW21hcHBlZF0gPSBoZWFkZXJWYWx1ZTtcbiAgICB9XG4gIH1cbn0pO1xuXG51dGlscy5mcmVlemVNZXRob2RzKEF4aW9zSGVhZGVycyk7XG5cbmV4cG9ydCBkZWZhdWx0IEF4aW9zSGVhZGVycztcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4vLi4vdXRpbHMuanMnO1xuaW1wb3J0IGRlZmF1bHRzIGZyb20gJy4uL2RlZmF1bHRzL2luZGV4LmpzJztcbmltcG9ydCBBeGlvc0hlYWRlcnMgZnJvbSAnLi4vY29yZS9BeGlvc0hlYWRlcnMuanMnO1xuXG4vKipcbiAqIFRyYW5zZm9ybSB0aGUgZGF0YSBmb3IgYSByZXF1ZXN0IG9yIGEgcmVzcG9uc2VcbiAqXG4gKiBAcGFyYW0ge0FycmF5fEZ1bmN0aW9ufSBmbnMgQSBzaW5nbGUgZnVuY3Rpb24gb3IgQXJyYXkgb2YgZnVuY3Rpb25zXG4gKiBAcGFyYW0gez9PYmplY3R9IHJlc3BvbnNlIFRoZSByZXNwb25zZSBvYmplY3RcbiAqXG4gKiBAcmV0dXJucyB7Kn0gVGhlIHJlc3VsdGluZyB0cmFuc2Zvcm1lZCBkYXRhXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRyYW5zZm9ybURhdGEoZm5zLCByZXNwb25zZSkge1xuICBjb25zdCBjb25maWcgPSB0aGlzIHx8IGRlZmF1bHRzO1xuICBjb25zdCBjb250ZXh0ID0gcmVzcG9uc2UgfHwgY29uZmlnO1xuICBjb25zdCBoZWFkZXJzID0gQXhpb3NIZWFkZXJzLmZyb20oY29udGV4dC5oZWFkZXJzKTtcbiAgbGV0IGRhdGEgPSBjb250ZXh0LmRhdGE7XG5cbiAgdXRpbHMuZm9yRWFjaChmbnMsIGZ1bmN0aW9uIHRyYW5zZm9ybShmbikge1xuICAgIGRhdGEgPSBmbi5jYWxsKGNvbmZpZywgZGF0YSwgaGVhZGVycy5ub3JtYWxpemUoKSwgcmVzcG9uc2UgPyByZXNwb25zZS5zdGF0dXMgOiB1bmRlZmluZWQpO1xuICB9KTtcblxuICBoZWFkZXJzLm5vcm1hbGl6ZSgpO1xuXG4gIHJldHVybiBkYXRhO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc0NhbmNlbCh2YWx1ZSkge1xuICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWUuX19DQU5DRUxfXyk7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBBeGlvc0Vycm9yIGZyb20gJy4uL2NvcmUvQXhpb3NFcnJvci5qcyc7XG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuXG4vKipcbiAqIEEgYENhbmNlbGVkRXJyb3JgIGlzIGFuIG9iamVjdCB0aGF0IGlzIHRocm93biB3aGVuIGFuIG9wZXJhdGlvbiBpcyBjYW5jZWxlZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZz19IG1lc3NhZ2UgVGhlIG1lc3NhZ2UuXG4gKiBAcGFyYW0ge09iamVjdD19IGNvbmZpZyBUaGUgY29uZmlnLlxuICogQHBhcmFtIHtPYmplY3Q9fSByZXF1ZXN0IFRoZSByZXF1ZXN0LlxuICpcbiAqIEByZXR1cm5zIHtDYW5jZWxlZEVycm9yfSBUaGUgY3JlYXRlZCBlcnJvci5cbiAqL1xuZnVuY3Rpb24gQ2FuY2VsZWRFcnJvcihtZXNzYWdlLCBjb25maWcsIHJlcXVlc3QpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gIEF4aW9zRXJyb3IuY2FsbCh0aGlzLCBtZXNzYWdlID09IG51bGwgPyAnY2FuY2VsZWQnIDogbWVzc2FnZSwgQXhpb3NFcnJvci5FUlJfQ0FOQ0VMRUQsIGNvbmZpZywgcmVxdWVzdCk7XG4gIHRoaXMubmFtZSA9ICdDYW5jZWxlZEVycm9yJztcbn1cblxudXRpbHMuaW5oZXJpdHMoQ2FuY2VsZWRFcnJvciwgQXhpb3NFcnJvciwge1xuICBfX0NBTkNFTF9fOiB0cnVlXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgQ2FuY2VsZWRFcnJvcjtcbiIsImltcG9ydCB1dGlscyBmcm9tICcuLy4uL3V0aWxzLmpzJztcbmltcG9ydCBwbGF0Zm9ybSBmcm9tICcuLi9wbGF0Zm9ybS9pbmRleC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IHBsYXRmb3JtLmhhc1N0YW5kYXJkQnJvd3NlckVudiA/XG5cbiAgLy8gU3RhbmRhcmQgYnJvd3NlciBlbnZzIHN1cHBvcnQgZG9jdW1lbnQuY29va2llXG4gIHtcbiAgICB3cml0ZShuYW1lLCB2YWx1ZSwgZXhwaXJlcywgcGF0aCwgZG9tYWluLCBzZWN1cmUpIHtcbiAgICAgIGNvbnN0IGNvb2tpZSA9IFtuYW1lICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKV07XG5cbiAgICAgIHV0aWxzLmlzTnVtYmVyKGV4cGlyZXMpICYmIGNvb2tpZS5wdXNoKCdleHBpcmVzPScgKyBuZXcgRGF0ZShleHBpcmVzKS50b0dNVFN0cmluZygpKTtcblxuICAgICAgdXRpbHMuaXNTdHJpbmcocGF0aCkgJiYgY29va2llLnB1c2goJ3BhdGg9JyArIHBhdGgpO1xuXG4gICAgICB1dGlscy5pc1N0cmluZyhkb21haW4pICYmIGNvb2tpZS5wdXNoKCdkb21haW49JyArIGRvbWFpbik7XG5cbiAgICAgIHNlY3VyZSA9PT0gdHJ1ZSAmJiBjb29raWUucHVzaCgnc2VjdXJlJyk7XG5cbiAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGNvb2tpZS5qb2luKCc7ICcpO1xuICAgIH0sXG5cbiAgICByZWFkKG5hbWUpIHtcbiAgICAgIGNvbnN0IG1hdGNoID0gZG9jdW1lbnQuY29va2llLm1hdGNoKG5ldyBSZWdFeHAoJyhefDtcXFxccyopKCcgKyBuYW1lICsgJyk9KFteO10qKScpKTtcbiAgICAgIHJldHVybiAobWF0Y2ggPyBkZWNvZGVVUklDb21wb25lbnQobWF0Y2hbM10pIDogbnVsbCk7XG4gICAgfSxcblxuICAgIHJlbW92ZShuYW1lKSB7XG4gICAgICB0aGlzLndyaXRlKG5hbWUsICcnLCBEYXRlLm5vdygpIC0gODY0MDAwMDApO1xuICAgIH1cbiAgfVxuXG4gIDpcblxuICAvLyBOb24tc3RhbmRhcmQgYnJvd3NlciBlbnYgKHdlYiB3b3JrZXJzLCByZWFjdC1uYXRpdmUpIGxhY2sgbmVlZGVkIHN1cHBvcnQuXG4gIHtcbiAgICB3cml0ZSgpIHt9LFxuICAgIHJlYWQoKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuICAgIHJlbW92ZSgpIHt9XG4gIH07XG5cbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IGlzQWJzb2x1dGVVUkwgZnJvbSAnLi4vaGVscGVycy9pc0Fic29sdXRlVVJMLmpzJztcbmltcG9ydCBjb21iaW5lVVJMcyBmcm9tICcuLi9oZWxwZXJzL2NvbWJpbmVVUkxzLmpzJztcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFVSTCBieSBjb21iaW5pbmcgdGhlIGJhc2VVUkwgd2l0aCB0aGUgcmVxdWVzdGVkVVJMLFxuICogb25seSB3aGVuIHRoZSByZXF1ZXN0ZWRVUkwgaXMgbm90IGFscmVhZHkgYW4gYWJzb2x1dGUgVVJMLlxuICogSWYgdGhlIHJlcXVlc3RVUkwgaXMgYWJzb2x1dGUsIHRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgcmVxdWVzdGVkVVJMIHVudG91Y2hlZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZVVSTCBUaGUgYmFzZSBVUkxcbiAqIEBwYXJhbSB7c3RyaW5nfSByZXF1ZXN0ZWRVUkwgQWJzb2x1dGUgb3IgcmVsYXRpdmUgVVJMIHRvIGNvbWJpbmVcbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgY29tYmluZWQgZnVsbCBwYXRoXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGJ1aWxkRnVsbFBhdGgoYmFzZVVSTCwgcmVxdWVzdGVkVVJMKSB7XG4gIGlmIChiYXNlVVJMICYmICFpc0Fic29sdXRlVVJMKHJlcXVlc3RlZFVSTCkpIHtcbiAgICByZXR1cm4gY29tYmluZVVSTHMoYmFzZVVSTCwgcmVxdWVzdGVkVVJMKTtcbiAgfVxuICByZXR1cm4gcmVxdWVzdGVkVVJMO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB0aGUgc3BlY2lmaWVkIFVSTCBpcyBhYnNvbHV0ZVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIFVSTCB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHNwZWNpZmllZCBVUkwgaXMgYWJzb2x1dGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc0Fic29sdXRlVVJMKHVybCkge1xuICAvLyBBIFVSTCBpcyBjb25zaWRlcmVkIGFic29sdXRlIGlmIGl0IGJlZ2lucyB3aXRoIFwiPHNjaGVtZT46Ly9cIiBvciBcIi8vXCIgKHByb3RvY29sLXJlbGF0aXZlIFVSTCkuXG4gIC8vIFJGQyAzOTg2IGRlZmluZXMgc2NoZW1lIG5hbWUgYXMgYSBzZXF1ZW5jZSBvZiBjaGFyYWN0ZXJzIGJlZ2lubmluZyB3aXRoIGEgbGV0dGVyIGFuZCBmb2xsb3dlZFxuICAvLyBieSBhbnkgY29tYmluYXRpb24gb2YgbGV0dGVycywgZGlnaXRzLCBwbHVzLCBwZXJpb2QsIG9yIGh5cGhlbi5cbiAgcmV0dXJuIC9eKFthLXpdW2EtelxcZCtcXC0uXSo6KT9cXC9cXC8vaS50ZXN0KHVybCk7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBVUkwgYnkgY29tYmluaW5nIHRoZSBzcGVjaWZpZWQgVVJMc1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlVVJMIFRoZSBiYXNlIFVSTFxuICogQHBhcmFtIHtzdHJpbmd9IHJlbGF0aXZlVVJMIFRoZSByZWxhdGl2ZSBVUkxcbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgY29tYmluZWQgVVJMXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNvbWJpbmVVUkxzKGJhc2VVUkwsIHJlbGF0aXZlVVJMKSB7XG4gIHJldHVybiByZWxhdGl2ZVVSTFxuICAgID8gYmFzZVVSTC5yZXBsYWNlKC9cXC8rJC8sICcnKSArICcvJyArIHJlbGF0aXZlVVJMLnJlcGxhY2UoL15cXC8rLywgJycpXG4gICAgOiBiYXNlVVJMO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi8uLi91dGlscy5qcyc7XG5pbXBvcnQgcGxhdGZvcm0gZnJvbSAnLi4vcGxhdGZvcm0vaW5kZXguanMnO1xuXG5leHBvcnQgZGVmYXVsdCBwbGF0Zm9ybS5oYXNTdGFuZGFyZEJyb3dzZXJFbnYgP1xuXG4vLyBTdGFuZGFyZCBicm93c2VyIGVudnMgaGF2ZSBmdWxsIHN1cHBvcnQgb2YgdGhlIEFQSXMgbmVlZGVkIHRvIHRlc3Rcbi8vIHdoZXRoZXIgdGhlIHJlcXVlc3QgVVJMIGlzIG9mIHRoZSBzYW1lIG9yaWdpbiBhcyBjdXJyZW50IGxvY2F0aW9uLlxuICAoZnVuY3Rpb24gc3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgIGNvbnN0IG1zaWUgPSAvKG1zaWV8dHJpZGVudCkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgIGNvbnN0IHVybFBhcnNpbmdOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIGxldCBvcmlnaW5VUkw7XG5cbiAgICAvKipcbiAgICAqIFBhcnNlIGEgVVJMIHRvIGRpc2NvdmVyIGl0cyBjb21wb25lbnRzXG4gICAgKlxuICAgICogQHBhcmFtIHtTdHJpbmd9IHVybCBUaGUgVVJMIHRvIGJlIHBhcnNlZFxuICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAqL1xuICAgIGZ1bmN0aW9uIHJlc29sdmVVUkwodXJsKSB7XG4gICAgICBsZXQgaHJlZiA9IHVybDtcblxuICAgICAgaWYgKG1zaWUpIHtcbiAgICAgICAgLy8gSUUgbmVlZHMgYXR0cmlidXRlIHNldCB0d2ljZSB0byBub3JtYWxpemUgcHJvcGVydGllc1xuICAgICAgICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcbiAgICAgICAgaHJlZiA9IHVybFBhcnNpbmdOb2RlLmhyZWY7XG4gICAgICB9XG5cbiAgICAgIHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIGhyZWYpO1xuXG4gICAgICAvLyB1cmxQYXJzaW5nTm9kZSBwcm92aWRlcyB0aGUgVXJsVXRpbHMgaW50ZXJmYWNlIC0gaHR0cDovL3VybC5zcGVjLndoYXR3Zy5vcmcvI3VybHV0aWxzXG4gICAgICByZXR1cm4ge1xuICAgICAgICBocmVmOiB1cmxQYXJzaW5nTm9kZS5ocmVmLFxuICAgICAgICBwcm90b2NvbDogdXJsUGFyc2luZ05vZGUucHJvdG9jb2wgPyB1cmxQYXJzaW5nTm9kZS5wcm90b2NvbC5yZXBsYWNlKC86JC8sICcnKSA6ICcnLFxuICAgICAgICBob3N0OiB1cmxQYXJzaW5nTm9kZS5ob3N0LFxuICAgICAgICBzZWFyY2g6IHVybFBhcnNpbmdOb2RlLnNlYXJjaCA/IHVybFBhcnNpbmdOb2RlLnNlYXJjaC5yZXBsYWNlKC9eXFw/LywgJycpIDogJycsXG4gICAgICAgIGhhc2g6IHVybFBhcnNpbmdOb2RlLmhhc2ggPyB1cmxQYXJzaW5nTm9kZS5oYXNoLnJlcGxhY2UoL14jLywgJycpIDogJycsXG4gICAgICAgIGhvc3RuYW1lOiB1cmxQYXJzaW5nTm9kZS5ob3N0bmFtZSxcbiAgICAgICAgcG9ydDogdXJsUGFyc2luZ05vZGUucG9ydCxcbiAgICAgICAgcGF0aG5hbWU6ICh1cmxQYXJzaW5nTm9kZS5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJykgP1xuICAgICAgICAgIHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lIDpcbiAgICAgICAgICAnLycgKyB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBvcmlnaW5VUkwgPSByZXNvbHZlVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcblxuICAgIC8qKlxuICAgICogRGV0ZXJtaW5lIGlmIGEgVVJMIHNoYXJlcyB0aGUgc2FtZSBvcmlnaW4gYXMgdGhlIGN1cnJlbnQgbG9jYXRpb25cbiAgICAqXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gcmVxdWVzdFVSTCBUaGUgVVJMIHRvIHRlc3RcbiAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIFVSTCBzaGFyZXMgdGhlIHNhbWUgb3JpZ2luLCBvdGhlcndpc2UgZmFsc2VcbiAgICAqL1xuICAgIHJldHVybiBmdW5jdGlvbiBpc1VSTFNhbWVPcmlnaW4ocmVxdWVzdFVSTCkge1xuICAgICAgY29uc3QgcGFyc2VkID0gKHV0aWxzLmlzU3RyaW5nKHJlcXVlc3RVUkwpKSA/IHJlc29sdmVVUkwocmVxdWVzdFVSTCkgOiByZXF1ZXN0VVJMO1xuICAgICAgcmV0dXJuIChwYXJzZWQucHJvdG9jb2wgPT09IG9yaWdpblVSTC5wcm90b2NvbCAmJlxuICAgICAgICAgIHBhcnNlZC5ob3N0ID09PSBvcmlnaW5VUkwuaG9zdCk7XG4gICAgfTtcbiAgfSkoKSA6XG5cbiAgLy8gTm9uIHN0YW5kYXJkIGJyb3dzZXIgZW52cyAod2ViIHdvcmtlcnMsIHJlYWN0LW5hdGl2ZSkgbGFjayBuZWVkZWQgc3VwcG9ydC5cbiAgKGZ1bmN0aW9uIG5vblN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gaXNVUkxTYW1lT3JpZ2luKCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgfSkoKTtcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4vLi4vdXRpbHMuanMnO1xuaW1wb3J0IHNldHRsZSBmcm9tICcuLy4uL2NvcmUvc2V0dGxlLmpzJztcbmltcG9ydCBjb29raWVzIGZyb20gJy4vLi4vaGVscGVycy9jb29raWVzLmpzJztcbmltcG9ydCBidWlsZFVSTCBmcm9tICcuLy4uL2hlbHBlcnMvYnVpbGRVUkwuanMnO1xuaW1wb3J0IGJ1aWxkRnVsbFBhdGggZnJvbSAnLi4vY29yZS9idWlsZEZ1bGxQYXRoLmpzJztcbmltcG9ydCBpc1VSTFNhbWVPcmlnaW4gZnJvbSAnLi8uLi9oZWxwZXJzL2lzVVJMU2FtZU9yaWdpbi5qcyc7XG5pbXBvcnQgdHJhbnNpdGlvbmFsRGVmYXVsdHMgZnJvbSAnLi4vZGVmYXVsdHMvdHJhbnNpdGlvbmFsLmpzJztcbmltcG9ydCBBeGlvc0Vycm9yIGZyb20gJy4uL2NvcmUvQXhpb3NFcnJvci5qcyc7XG5pbXBvcnQgQ2FuY2VsZWRFcnJvciBmcm9tICcuLi9jYW5jZWwvQ2FuY2VsZWRFcnJvci5qcyc7XG5pbXBvcnQgcGFyc2VQcm90b2NvbCBmcm9tICcuLi9oZWxwZXJzL3BhcnNlUHJvdG9jb2wuanMnO1xuaW1wb3J0IHBsYXRmb3JtIGZyb20gJy4uL3BsYXRmb3JtL2luZGV4LmpzJztcbmltcG9ydCBBeGlvc0hlYWRlcnMgZnJvbSAnLi4vY29yZS9BeGlvc0hlYWRlcnMuanMnO1xuaW1wb3J0IHNwZWVkb21ldGVyIGZyb20gJy4uL2hlbHBlcnMvc3BlZWRvbWV0ZXIuanMnO1xuXG5mdW5jdGlvbiBwcm9ncmVzc0V2ZW50UmVkdWNlcihsaXN0ZW5lciwgaXNEb3dubG9hZFN0cmVhbSkge1xuICBsZXQgYnl0ZXNOb3RpZmllZCA9IDA7XG4gIGNvbnN0IF9zcGVlZG9tZXRlciA9IHNwZWVkb21ldGVyKDUwLCAyNTApO1xuXG4gIHJldHVybiBlID0+IHtcbiAgICBjb25zdCBsb2FkZWQgPSBlLmxvYWRlZDtcbiAgICBjb25zdCB0b3RhbCA9IGUubGVuZ3RoQ29tcHV0YWJsZSA/IGUudG90YWwgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgcHJvZ3Jlc3NCeXRlcyA9IGxvYWRlZCAtIGJ5dGVzTm90aWZpZWQ7XG4gICAgY29uc3QgcmF0ZSA9IF9zcGVlZG9tZXRlcihwcm9ncmVzc0J5dGVzKTtcbiAgICBjb25zdCBpblJhbmdlID0gbG9hZGVkIDw9IHRvdGFsO1xuXG4gICAgYnl0ZXNOb3RpZmllZCA9IGxvYWRlZDtcblxuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICBsb2FkZWQsXG4gICAgICB0b3RhbCxcbiAgICAgIHByb2dyZXNzOiB0b3RhbCA/IChsb2FkZWQgLyB0b3RhbCkgOiB1bmRlZmluZWQsXG4gICAgICBieXRlczogcHJvZ3Jlc3NCeXRlcyxcbiAgICAgIHJhdGU6IHJhdGUgPyByYXRlIDogdW5kZWZpbmVkLFxuICAgICAgZXN0aW1hdGVkOiByYXRlICYmIHRvdGFsICYmIGluUmFuZ2UgPyAodG90YWwgLSBsb2FkZWQpIC8gcmF0ZSA6IHVuZGVmaW5lZCxcbiAgICAgIGV2ZW50OiBlXG4gICAgfTtcblxuICAgIGRhdGFbaXNEb3dubG9hZFN0cmVhbSA/ICdkb3dubG9hZCcgOiAndXBsb2FkJ10gPSB0cnVlO1xuXG4gICAgbGlzdGVuZXIoZGF0YSk7XG4gIH07XG59XG5cbmNvbnN0IGlzWEhSQWRhcHRlclN1cHBvcnRlZCA9IHR5cGVvZiBYTUxIdHRwUmVxdWVzdCAhPT0gJ3VuZGVmaW5lZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGlzWEhSQWRhcHRlclN1cHBvcnRlZCAmJiBmdW5jdGlvbiAoY29uZmlnKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiBkaXNwYXRjaFhoclJlcXVlc3QocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgbGV0IHJlcXVlc3REYXRhID0gY29uZmlnLmRhdGE7XG4gICAgY29uc3QgcmVxdWVzdEhlYWRlcnMgPSBBeGlvc0hlYWRlcnMuZnJvbShjb25maWcuaGVhZGVycykubm9ybWFsaXplKCk7XG4gICAgbGV0IHtyZXNwb25zZVR5cGUsIHdpdGhYU1JGVG9rZW59ID0gY29uZmlnO1xuICAgIGxldCBvbkNhbmNlbGVkO1xuICAgIGZ1bmN0aW9uIGRvbmUoKSB7XG4gICAgICBpZiAoY29uZmlnLmNhbmNlbFRva2VuKSB7XG4gICAgICAgIGNvbmZpZy5jYW5jZWxUb2tlbi51bnN1YnNjcmliZShvbkNhbmNlbGVkKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNvbmZpZy5zaWduYWwpIHtcbiAgICAgICAgY29uZmlnLnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIG9uQ2FuY2VsZWQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxldCBjb250ZW50VHlwZTtcblxuICAgIGlmICh1dGlscy5pc0Zvcm1EYXRhKHJlcXVlc3REYXRhKSkge1xuICAgICAgaWYgKHBsYXRmb3JtLmhhc1N0YW5kYXJkQnJvd3NlckVudiB8fCBwbGF0Zm9ybS5oYXNTdGFuZGFyZEJyb3dzZXJXZWJXb3JrZXJFbnYpIHtcbiAgICAgICAgcmVxdWVzdEhlYWRlcnMuc2V0Q29udGVudFR5cGUoZmFsc2UpOyAvLyBMZXQgdGhlIGJyb3dzZXIgc2V0IGl0XG4gICAgICB9IGVsc2UgaWYgKChjb250ZW50VHlwZSA9IHJlcXVlc3RIZWFkZXJzLmdldENvbnRlbnRUeXBlKCkpICE9PSBmYWxzZSkge1xuICAgICAgICAvLyBmaXggc2VtaWNvbG9uIGR1cGxpY2F0aW9uIGlzc3VlIGZvciBSZWFjdE5hdGl2ZSBGb3JtRGF0YSBpbXBsZW1lbnRhdGlvblxuICAgICAgICBjb25zdCBbdHlwZSwgLi4udG9rZW5zXSA9IGNvbnRlbnRUeXBlID8gY29udGVudFR5cGUuc3BsaXQoJzsnKS5tYXAodG9rZW4gPT4gdG9rZW4udHJpbSgpKS5maWx0ZXIoQm9vbGVhbikgOiBbXTtcbiAgICAgICAgcmVxdWVzdEhlYWRlcnMuc2V0Q29udGVudFR5cGUoW3R5cGUgfHwgJ211bHRpcGFydC9mb3JtLWRhdGEnLCAuLi50b2tlbnNdLmpvaW4oJzsgJykpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxldCByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAvLyBIVFRQIGJhc2ljIGF1dGhlbnRpY2F0aW9uXG4gICAgaWYgKGNvbmZpZy5hdXRoKSB7XG4gICAgICBjb25zdCB1c2VybmFtZSA9IGNvbmZpZy5hdXRoLnVzZXJuYW1lIHx8ICcnO1xuICAgICAgY29uc3QgcGFzc3dvcmQgPSBjb25maWcuYXV0aC5wYXNzd29yZCA/IHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChjb25maWcuYXV0aC5wYXNzd29yZCkpIDogJyc7XG4gICAgICByZXF1ZXN0SGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmFzaWMgJyArIGJ0b2EodXNlcm5hbWUgKyAnOicgKyBwYXNzd29yZCkpO1xuICAgIH1cblxuICAgIGNvbnN0IGZ1bGxQYXRoID0gYnVpbGRGdWxsUGF0aChjb25maWcuYmFzZVVSTCwgY29uZmlnLnVybCk7XG5cbiAgICByZXF1ZXN0Lm9wZW4oY29uZmlnLm1ldGhvZC50b1VwcGVyQ2FzZSgpLCBidWlsZFVSTChmdWxsUGF0aCwgY29uZmlnLnBhcmFtcywgY29uZmlnLnBhcmFtc1NlcmlhbGl6ZXIpLCB0cnVlKTtcblxuICAgIC8vIFNldCB0aGUgcmVxdWVzdCB0aW1lb3V0IGluIE1TXG4gICAgcmVxdWVzdC50aW1lb3V0ID0gY29uZmlnLnRpbWVvdXQ7XG5cbiAgICBmdW5jdGlvbiBvbmxvYWRlbmQoKSB7XG4gICAgICBpZiAoIXJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gUHJlcGFyZSB0aGUgcmVzcG9uc2VcbiAgICAgIGNvbnN0IHJlc3BvbnNlSGVhZGVycyA9IEF4aW9zSGVhZGVycy5mcm9tKFxuICAgICAgICAnZ2V0QWxsUmVzcG9uc2VIZWFkZXJzJyBpbiByZXF1ZXN0ICYmIHJlcXVlc3QuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKClcbiAgICAgICk7XG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSAhcmVzcG9uc2VUeXBlIHx8IHJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnIHx8IHJlc3BvbnNlVHlwZSA9PT0gJ2pzb24nID9cbiAgICAgICAgcmVxdWVzdC5yZXNwb25zZVRleHQgOiByZXF1ZXN0LnJlc3BvbnNlO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgIGRhdGE6IHJlc3BvbnNlRGF0YSxcbiAgICAgICAgc3RhdHVzOiByZXF1ZXN0LnN0YXR1cyxcbiAgICAgICAgc3RhdHVzVGV4dDogcmVxdWVzdC5zdGF0dXNUZXh0LFxuICAgICAgICBoZWFkZXJzOiByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgIGNvbmZpZyxcbiAgICAgICAgcmVxdWVzdFxuICAgICAgfTtcblxuICAgICAgc2V0dGxlKGZ1bmN0aW9uIF9yZXNvbHZlKHZhbHVlKSB7XG4gICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgICBkb25lKCk7XG4gICAgICB9LCBmdW5jdGlvbiBfcmVqZWN0KGVycikge1xuICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfSwgcmVzcG9uc2UpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoJ29ubG9hZGVuZCcgaW4gcmVxdWVzdCkge1xuICAgICAgLy8gVXNlIG9ubG9hZGVuZCBpZiBhdmFpbGFibGVcbiAgICAgIHJlcXVlc3Qub25sb2FkZW5kID0gb25sb2FkZW5kO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBMaXN0ZW4gZm9yIHJlYWR5IHN0YXRlIHRvIGVtdWxhdGUgb25sb2FkZW5kXG4gICAgICByZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZUxvYWQoKSB7XG4gICAgICAgIGlmICghcmVxdWVzdCB8fCByZXF1ZXN0LnJlYWR5U3RhdGUgIT09IDQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGUgcmVxdWVzdCBlcnJvcmVkIG91dCBhbmQgd2UgZGlkbid0IGdldCBhIHJlc3BvbnNlLCB0aGlzIHdpbGwgYmVcbiAgICAgICAgLy8gaGFuZGxlZCBieSBvbmVycm9yIGluc3RlYWRcbiAgICAgICAgLy8gV2l0aCBvbmUgZXhjZXB0aW9uOiByZXF1ZXN0IHRoYXQgdXNpbmcgZmlsZTogcHJvdG9jb2wsIG1vc3QgYnJvd3NlcnNcbiAgICAgICAgLy8gd2lsbCByZXR1cm4gc3RhdHVzIGFzIDAgZXZlbiB0aG91Z2ggaXQncyBhIHN1Y2Nlc3NmdWwgcmVxdWVzdFxuICAgICAgICBpZiAocmVxdWVzdC5zdGF0dXMgPT09IDAgJiYgIShyZXF1ZXN0LnJlc3BvbnNlVVJMICYmIHJlcXVlc3QucmVzcG9uc2VVUkwuaW5kZXhPZignZmlsZTonKSA9PT0gMCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVhZHlzdGF0ZSBoYW5kbGVyIGlzIGNhbGxpbmcgYmVmb3JlIG9uZXJyb3Igb3Igb250aW1lb3V0IGhhbmRsZXJzLFxuICAgICAgICAvLyBzbyB3ZSBzaG91bGQgY2FsbCBvbmxvYWRlbmQgb24gdGhlIG5leHQgJ3RpY2snXG4gICAgICAgIHNldFRpbWVvdXQob25sb2FkZW5kKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIGJyb3dzZXIgcmVxdWVzdCBjYW5jZWxsYXRpb24gKGFzIG9wcG9zZWQgdG8gYSBtYW51YWwgY2FuY2VsbGF0aW9uKVxuICAgIHJlcXVlc3Qub25hYm9ydCA9IGZ1bmN0aW9uIGhhbmRsZUFib3J0KCkge1xuICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmVqZWN0KG5ldyBBeGlvc0Vycm9yKCdSZXF1ZXN0IGFib3J0ZWQnLCBBeGlvc0Vycm9yLkVDT05OQUJPUlRFRCwgY29uZmlnLCByZXF1ZXN0KSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBIYW5kbGUgbG93IGxldmVsIG5ldHdvcmsgZXJyb3JzXG4gICAgcmVxdWVzdC5vbmVycm9yID0gZnVuY3Rpb24gaGFuZGxlRXJyb3IoKSB7XG4gICAgICAvLyBSZWFsIGVycm9ycyBhcmUgaGlkZGVuIGZyb20gdXMgYnkgdGhlIGJyb3dzZXJcbiAgICAgIC8vIG9uZXJyb3Igc2hvdWxkIG9ubHkgZmlyZSBpZiBpdCdzIGEgbmV0d29yayBlcnJvclxuICAgICAgcmVqZWN0KG5ldyBBeGlvc0Vycm9yKCdOZXR3b3JrIEVycm9yJywgQXhpb3NFcnJvci5FUlJfTkVUV09SSywgY29uZmlnLCByZXF1ZXN0KSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBIYW5kbGUgdGltZW91dFxuICAgIHJlcXVlc3Qub250aW1lb3V0ID0gZnVuY3Rpb24gaGFuZGxlVGltZW91dCgpIHtcbiAgICAgIGxldCB0aW1lb3V0RXJyb3JNZXNzYWdlID0gY29uZmlnLnRpbWVvdXQgPyAndGltZW91dCBvZiAnICsgY29uZmlnLnRpbWVvdXQgKyAnbXMgZXhjZWVkZWQnIDogJ3RpbWVvdXQgZXhjZWVkZWQnO1xuICAgICAgY29uc3QgdHJhbnNpdGlvbmFsID0gY29uZmlnLnRyYW5zaXRpb25hbCB8fCB0cmFuc2l0aW9uYWxEZWZhdWx0cztcbiAgICAgIGlmIChjb25maWcudGltZW91dEVycm9yTWVzc2FnZSkge1xuICAgICAgICB0aW1lb3V0RXJyb3JNZXNzYWdlID0gY29uZmlnLnRpbWVvdXRFcnJvck1lc3NhZ2U7XG4gICAgICB9XG4gICAgICByZWplY3QobmV3IEF4aW9zRXJyb3IoXG4gICAgICAgIHRpbWVvdXRFcnJvck1lc3NhZ2UsXG4gICAgICAgIHRyYW5zaXRpb25hbC5jbGFyaWZ5VGltZW91dEVycm9yID8gQXhpb3NFcnJvci5FVElNRURPVVQgOiBBeGlvc0Vycm9yLkVDT05OQUJPUlRFRCxcbiAgICAgICAgY29uZmlnLFxuICAgICAgICByZXF1ZXN0KSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBBZGQgeHNyZiBoZWFkZXJcbiAgICAvLyBUaGlzIGlzIG9ubHkgZG9uZSBpZiBydW5uaW5nIGluIGEgc3RhbmRhcmQgYnJvd3NlciBlbnZpcm9ubWVudC5cbiAgICAvLyBTcGVjaWZpY2FsbHkgbm90IGlmIHdlJ3JlIGluIGEgd2ViIHdvcmtlciwgb3IgcmVhY3QtbmF0aXZlLlxuICAgIGlmKHBsYXRmb3JtLmhhc1N0YW5kYXJkQnJvd3NlckVudikge1xuICAgICAgd2l0aFhTUkZUb2tlbiAmJiB1dGlscy5pc0Z1bmN0aW9uKHdpdGhYU1JGVG9rZW4pICYmICh3aXRoWFNSRlRva2VuID0gd2l0aFhTUkZUb2tlbihjb25maWcpKTtcblxuICAgICAgaWYgKHdpdGhYU1JGVG9rZW4gfHwgKHdpdGhYU1JGVG9rZW4gIT09IGZhbHNlICYmIGlzVVJMU2FtZU9yaWdpbihmdWxsUGF0aCkpKSB7XG4gICAgICAgIC8vIEFkZCB4c3JmIGhlYWRlclxuICAgICAgICBjb25zdCB4c3JmVmFsdWUgPSBjb25maWcueHNyZkhlYWRlck5hbWUgJiYgY29uZmlnLnhzcmZDb29raWVOYW1lICYmIGNvb2tpZXMucmVhZChjb25maWcueHNyZkNvb2tpZU5hbWUpO1xuXG4gICAgICAgIGlmICh4c3JmVmFsdWUpIHtcbiAgICAgICAgICByZXF1ZXN0SGVhZGVycy5zZXQoY29uZmlnLnhzcmZIZWFkZXJOYW1lLCB4c3JmVmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlIENvbnRlbnQtVHlwZSBpZiBkYXRhIGlzIHVuZGVmaW5lZFxuICAgIHJlcXVlc3REYXRhID09PSB1bmRlZmluZWQgJiYgcmVxdWVzdEhlYWRlcnMuc2V0Q29udGVudFR5cGUobnVsbCk7XG5cbiAgICAvLyBBZGQgaGVhZGVycyB0byB0aGUgcmVxdWVzdFxuICAgIGlmICgnc2V0UmVxdWVzdEhlYWRlcicgaW4gcmVxdWVzdCkge1xuICAgICAgdXRpbHMuZm9yRWFjaChyZXF1ZXN0SGVhZGVycy50b0pTT04oKSwgZnVuY3Rpb24gc2V0UmVxdWVzdEhlYWRlcih2YWwsIGtleSkge1xuICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoa2V5LCB2YWwpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gQWRkIHdpdGhDcmVkZW50aWFscyB0byByZXF1ZXN0IGlmIG5lZWRlZFxuICAgIGlmICghdXRpbHMuaXNVbmRlZmluZWQoY29uZmlnLndpdGhDcmVkZW50aWFscykpIHtcbiAgICAgIHJlcXVlc3Qud2l0aENyZWRlbnRpYWxzID0gISFjb25maWcud2l0aENyZWRlbnRpYWxzO1xuICAgIH1cblxuICAgIC8vIEFkZCByZXNwb25zZVR5cGUgdG8gcmVxdWVzdCBpZiBuZWVkZWRcbiAgICBpZiAocmVzcG9uc2VUeXBlICYmIHJlc3BvbnNlVHlwZSAhPT0gJ2pzb24nKSB7XG4gICAgICByZXF1ZXN0LnJlc3BvbnNlVHlwZSA9IGNvbmZpZy5yZXNwb25zZVR5cGU7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIHByb2dyZXNzIGlmIG5lZWRlZFxuICAgIGlmICh0eXBlb2YgY29uZmlnLm9uRG93bmxvYWRQcm9ncmVzcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHByb2dyZXNzRXZlbnRSZWR1Y2VyKGNvbmZpZy5vbkRvd25sb2FkUHJvZ3Jlc3MsIHRydWUpKTtcbiAgICB9XG5cbiAgICAvLyBOb3QgYWxsIGJyb3dzZXJzIHN1cHBvcnQgdXBsb2FkIGV2ZW50c1xuICAgIGlmICh0eXBlb2YgY29uZmlnLm9uVXBsb2FkUHJvZ3Jlc3MgPT09ICdmdW5jdGlvbicgJiYgcmVxdWVzdC51cGxvYWQpIHtcbiAgICAgIHJlcXVlc3QudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgcHJvZ3Jlc3NFdmVudFJlZHVjZXIoY29uZmlnLm9uVXBsb2FkUHJvZ3Jlc3MpKTtcbiAgICB9XG5cbiAgICBpZiAoY29uZmlnLmNhbmNlbFRva2VuIHx8IGNvbmZpZy5zaWduYWwpIHtcbiAgICAgIC8vIEhhbmRsZSBjYW5jZWxsYXRpb25cbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gICAgICBvbkNhbmNlbGVkID0gY2FuY2VsID0+IHtcbiAgICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJlamVjdCghY2FuY2VsIHx8IGNhbmNlbC50eXBlID8gbmV3IENhbmNlbGVkRXJyb3IobnVsbCwgY29uZmlnLCByZXF1ZXN0KSA6IGNhbmNlbCk7XG4gICAgICAgIHJlcXVlc3QuYWJvcnQoKTtcbiAgICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgICB9O1xuXG4gICAgICBjb25maWcuY2FuY2VsVG9rZW4gJiYgY29uZmlnLmNhbmNlbFRva2VuLnN1YnNjcmliZShvbkNhbmNlbGVkKTtcbiAgICAgIGlmIChjb25maWcuc2lnbmFsKSB7XG4gICAgICAgIGNvbmZpZy5zaWduYWwuYWJvcnRlZCA/IG9uQ2FuY2VsZWQoKSA6IGNvbmZpZy5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBvbkNhbmNlbGVkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBwcm90b2NvbCA9IHBhcnNlUHJvdG9jb2woZnVsbFBhdGgpO1xuXG4gICAgaWYgKHByb3RvY29sICYmIHBsYXRmb3JtLnByb3RvY29scy5pbmRleE9mKHByb3RvY29sKSA9PT0gLTEpIHtcbiAgICAgIHJlamVjdChuZXcgQXhpb3NFcnJvcignVW5zdXBwb3J0ZWQgcHJvdG9jb2wgJyArIHByb3RvY29sICsgJzonLCBBeGlvc0Vycm9yLkVSUl9CQURfUkVRVUVTVCwgY29uZmlnKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG5cbiAgICAvLyBTZW5kIHRoZSByZXF1ZXN0XG4gICAgcmVxdWVzdC5zZW5kKHJlcXVlc3REYXRhIHx8IG51bGwpO1xuICB9KTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDYWxjdWxhdGUgZGF0YSBtYXhSYXRlXG4gKiBAcGFyYW0ge051bWJlcn0gW3NhbXBsZXNDb3VudD0gMTBdXG4gKiBAcGFyYW0ge051bWJlcn0gW21pbj0gMTAwMF1cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gc3BlZWRvbWV0ZXIoc2FtcGxlc0NvdW50LCBtaW4pIHtcbiAgc2FtcGxlc0NvdW50ID0gc2FtcGxlc0NvdW50IHx8IDEwO1xuICBjb25zdCBieXRlcyA9IG5ldyBBcnJheShzYW1wbGVzQ291bnQpO1xuICBjb25zdCB0aW1lc3RhbXBzID0gbmV3IEFycmF5KHNhbXBsZXNDb3VudCk7XG4gIGxldCBoZWFkID0gMDtcbiAgbGV0IHRhaWwgPSAwO1xuICBsZXQgZmlyc3RTYW1wbGVUUztcblxuICBtaW4gPSBtaW4gIT09IHVuZGVmaW5lZCA/IG1pbiA6IDEwMDA7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIHB1c2goY2h1bmtMZW5ndGgpIHtcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuXG4gICAgY29uc3Qgc3RhcnRlZEF0ID0gdGltZXN0YW1wc1t0YWlsXTtcblxuICAgIGlmICghZmlyc3RTYW1wbGVUUykge1xuICAgICAgZmlyc3RTYW1wbGVUUyA9IG5vdztcbiAgICB9XG5cbiAgICBieXRlc1toZWFkXSA9IGNodW5rTGVuZ3RoO1xuICAgIHRpbWVzdGFtcHNbaGVhZF0gPSBub3c7XG5cbiAgICBsZXQgaSA9IHRhaWw7XG4gICAgbGV0IGJ5dGVzQ291bnQgPSAwO1xuXG4gICAgd2hpbGUgKGkgIT09IGhlYWQpIHtcbiAgICAgIGJ5dGVzQ291bnQgKz0gYnl0ZXNbaSsrXTtcbiAgICAgIGkgPSBpICUgc2FtcGxlc0NvdW50O1xuICAgIH1cblxuICAgIGhlYWQgPSAoaGVhZCArIDEpICUgc2FtcGxlc0NvdW50O1xuXG4gICAgaWYgKGhlYWQgPT09IHRhaWwpIHtcbiAgICAgIHRhaWwgPSAodGFpbCArIDEpICUgc2FtcGxlc0NvdW50O1xuICAgIH1cblxuICAgIGlmIChub3cgLSBmaXJzdFNhbXBsZVRTIDwgbWluKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcGFzc2VkID0gc3RhcnRlZEF0ICYmIG5vdyAtIHN0YXJ0ZWRBdDtcblxuICAgIHJldHVybiBwYXNzZWQgPyBNYXRoLnJvdW5kKGJ5dGVzQ291bnQgKiAxMDAwIC8gcGFzc2VkKSA6IHVuZGVmaW5lZDtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgc3BlZWRvbWV0ZXI7XG4iLCJpbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuaW1wb3J0IGh0dHBBZGFwdGVyIGZyb20gJy4vaHR0cC5qcyc7XG5pbXBvcnQgeGhyQWRhcHRlciBmcm9tICcuL3hoci5qcyc7XG5pbXBvcnQgQXhpb3NFcnJvciBmcm9tIFwiLi4vY29yZS9BeGlvc0Vycm9yLmpzXCI7XG5cbmNvbnN0IGtub3duQWRhcHRlcnMgPSB7XG4gIGh0dHA6IGh0dHBBZGFwdGVyLFxuICB4aHI6IHhockFkYXB0ZXJcbn1cblxudXRpbHMuZm9yRWFjaChrbm93bkFkYXB0ZXJzLCAoZm4sIHZhbHVlKSA9PiB7XG4gIGlmIChmbikge1xuICAgIHRyeSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sICduYW1lJywge3ZhbHVlfSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgJ2FkYXB0ZXJOYW1lJywge3ZhbHVlfSk7XG4gIH1cbn0pO1xuXG5jb25zdCByZW5kZXJSZWFzb24gPSAocmVhc29uKSA9PiBgLSAke3JlYXNvbn1gO1xuXG5jb25zdCBpc1Jlc29sdmVkSGFuZGxlID0gKGFkYXB0ZXIpID0+IHV0aWxzLmlzRnVuY3Rpb24oYWRhcHRlcikgfHwgYWRhcHRlciA9PT0gbnVsbCB8fCBhZGFwdGVyID09PSBmYWxzZTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBnZXRBZGFwdGVyOiAoYWRhcHRlcnMpID0+IHtcbiAgICBhZGFwdGVycyA9IHV0aWxzLmlzQXJyYXkoYWRhcHRlcnMpID8gYWRhcHRlcnMgOiBbYWRhcHRlcnNdO1xuXG4gICAgY29uc3Qge2xlbmd0aH0gPSBhZGFwdGVycztcbiAgICBsZXQgbmFtZU9yQWRhcHRlcjtcbiAgICBsZXQgYWRhcHRlcjtcblxuICAgIGNvbnN0IHJlamVjdGVkUmVhc29ucyA9IHt9O1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgbmFtZU9yQWRhcHRlciA9IGFkYXB0ZXJzW2ldO1xuICAgICAgbGV0IGlkO1xuXG4gICAgICBhZGFwdGVyID0gbmFtZU9yQWRhcHRlcjtcblxuICAgICAgaWYgKCFpc1Jlc29sdmVkSGFuZGxlKG5hbWVPckFkYXB0ZXIpKSB7XG4gICAgICAgIGFkYXB0ZXIgPSBrbm93bkFkYXB0ZXJzWyhpZCA9IFN0cmluZyhuYW1lT3JBZGFwdGVyKSkudG9Mb3dlckNhc2UoKV07XG5cbiAgICAgICAgaWYgKGFkYXB0ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKGBVbmtub3duIGFkYXB0ZXIgJyR7aWR9J2ApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChhZGFwdGVyKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICByZWplY3RlZFJlYXNvbnNbaWQgfHwgJyMnICsgaV0gPSBhZGFwdGVyO1xuICAgIH1cblxuICAgIGlmICghYWRhcHRlcikge1xuXG4gICAgICBjb25zdCByZWFzb25zID0gT2JqZWN0LmVudHJpZXMocmVqZWN0ZWRSZWFzb25zKVxuICAgICAgICAubWFwKChbaWQsIHN0YXRlXSkgPT4gYGFkYXB0ZXIgJHtpZH0gYCArXG4gICAgICAgICAgKHN0YXRlID09PSBmYWxzZSA/ICdpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBlbnZpcm9ubWVudCcgOiAnaXMgbm90IGF2YWlsYWJsZSBpbiB0aGUgYnVpbGQnKVxuICAgICAgICApO1xuXG4gICAgICBsZXQgcyA9IGxlbmd0aCA/XG4gICAgICAgIChyZWFzb25zLmxlbmd0aCA+IDEgPyAnc2luY2UgOlxcbicgKyByZWFzb25zLm1hcChyZW5kZXJSZWFzb24pLmpvaW4oJ1xcbicpIDogJyAnICsgcmVuZGVyUmVhc29uKHJlYXNvbnNbMF0pKSA6XG4gICAgICAgICdhcyBubyBhZGFwdGVyIHNwZWNpZmllZCc7XG5cbiAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKFxuICAgICAgICBgVGhlcmUgaXMgbm8gc3VpdGFibGUgYWRhcHRlciB0byBkaXNwYXRjaCB0aGUgcmVxdWVzdCBgICsgcyxcbiAgICAgICAgJ0VSUl9OT1RfU1VQUE9SVCdcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFkYXB0ZXI7XG4gIH0sXG4gIGFkYXB0ZXJzOiBrbm93bkFkYXB0ZXJzXG59XG4iLCIvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgc3RyaWN0XG5leHBvcnQgZGVmYXVsdCBudWxsO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgQXhpb3NFcnJvciBmcm9tICcuL0F4aW9zRXJyb3IuanMnO1xuXG4vKipcbiAqIFJlc29sdmUgb3IgcmVqZWN0IGEgUHJvbWlzZSBiYXNlZCBvbiByZXNwb25zZSBzdGF0dXMuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVzb2x2ZSBBIGZ1bmN0aW9uIHRoYXQgcmVzb2x2ZXMgdGhlIHByb21pc2UuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWplY3QgQSBmdW5jdGlvbiB0aGF0IHJlamVjdHMgdGhlIHByb21pc2UuXG4gKiBAcGFyYW0ge29iamVjdH0gcmVzcG9uc2UgVGhlIHJlc3BvbnNlLlxuICpcbiAqIEByZXR1cm5zIHtvYmplY3R9IFRoZSByZXNwb25zZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgcmVzcG9uc2UpIHtcbiAgY29uc3QgdmFsaWRhdGVTdGF0dXMgPSByZXNwb25zZS5jb25maWcudmFsaWRhdGVTdGF0dXM7XG4gIGlmICghcmVzcG9uc2Uuc3RhdHVzIHx8ICF2YWxpZGF0ZVN0YXR1cyB8fCB2YWxpZGF0ZVN0YXR1cyhyZXNwb25zZS5zdGF0dXMpKSB7XG4gICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gIH0gZWxzZSB7XG4gICAgcmVqZWN0KG5ldyBBeGlvc0Vycm9yKFxuICAgICAgJ1JlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGUgJyArIHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgIFtBeGlvc0Vycm9yLkVSUl9CQURfUkVRVUVTVCwgQXhpb3NFcnJvci5FUlJfQkFEX1JFU1BPTlNFXVtNYXRoLmZsb29yKHJlc3BvbnNlLnN0YXR1cyAvIDEwMCkgLSA0XSxcbiAgICAgIHJlc3BvbnNlLmNvbmZpZyxcbiAgICAgIHJlc3BvbnNlLnJlcXVlc3QsXG4gICAgICByZXNwb25zZVxuICAgICkpO1xuICB9XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBhcnNlUHJvdG9jb2wodXJsKSB7XG4gIGNvbnN0IG1hdGNoID0gL14oWy0rXFx3XXsxLDI1fSkoOj9cXC9cXC98OikvLmV4ZWModXJsKTtcbiAgcmV0dXJuIG1hdGNoICYmIG1hdGNoWzFdIHx8ICcnO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdHJhbnNmb3JtRGF0YSBmcm9tICcuL3RyYW5zZm9ybURhdGEuanMnO1xuaW1wb3J0IGlzQ2FuY2VsIGZyb20gJy4uL2NhbmNlbC9pc0NhbmNlbC5qcyc7XG5pbXBvcnQgZGVmYXVsdHMgZnJvbSAnLi4vZGVmYXVsdHMvaW5kZXguanMnO1xuaW1wb3J0IENhbmNlbGVkRXJyb3IgZnJvbSAnLi4vY2FuY2VsL0NhbmNlbGVkRXJyb3IuanMnO1xuaW1wb3J0IEF4aW9zSGVhZGVycyBmcm9tICcuLi9jb3JlL0F4aW9zSGVhZGVycy5qcyc7XG5pbXBvcnQgYWRhcHRlcnMgZnJvbSBcIi4uL2FkYXB0ZXJzL2FkYXB0ZXJzLmpzXCI7XG5cbi8qKlxuICogVGhyb3dzIGEgYENhbmNlbGVkRXJyb3JgIGlmIGNhbmNlbGxhdGlvbiBoYXMgYmVlbiByZXF1ZXN0ZWQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnIHRoYXQgaXMgdG8gYmUgdXNlZCBmb3IgdGhlIHJlcXVlc3RcbiAqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpIHtcbiAgaWYgKGNvbmZpZy5jYW5jZWxUb2tlbikge1xuICAgIGNvbmZpZy5jYW5jZWxUb2tlbi50aHJvd0lmUmVxdWVzdGVkKCk7XG4gIH1cblxuICBpZiAoY29uZmlnLnNpZ25hbCAmJiBjb25maWcuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICB0aHJvdyBuZXcgQ2FuY2VsZWRFcnJvcihudWxsLCBjb25maWcpO1xuICB9XG59XG5cbi8qKlxuICogRGlzcGF0Y2ggYSByZXF1ZXN0IHRvIHRoZSBzZXJ2ZXIgdXNpbmcgdGhlIGNvbmZpZ3VyZWQgYWRhcHRlci5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIFRoZSBjb25maWcgdGhhdCBpcyB0byBiZSB1c2VkIGZvciB0aGUgcmVxdWVzdFxuICpcbiAqIEByZXR1cm5zIHtQcm9taXNlfSBUaGUgUHJvbWlzZSB0byBiZSBmdWxmaWxsZWRcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGlzcGF0Y2hSZXF1ZXN0KGNvbmZpZykge1xuICB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZyk7XG5cbiAgY29uZmlnLmhlYWRlcnMgPSBBeGlvc0hlYWRlcnMuZnJvbShjb25maWcuaGVhZGVycyk7XG5cbiAgLy8gVHJhbnNmb3JtIHJlcXVlc3QgZGF0YVxuICBjb25maWcuZGF0YSA9IHRyYW5zZm9ybURhdGEuY2FsbChcbiAgICBjb25maWcsXG4gICAgY29uZmlnLnRyYW5zZm9ybVJlcXVlc3RcbiAgKTtcblxuICBpZiAoWydwb3N0JywgJ3B1dCcsICdwYXRjaCddLmluZGV4T2YoY29uZmlnLm1ldGhvZCkgIT09IC0xKSB7XG4gICAgY29uZmlnLmhlYWRlcnMuc2V0Q29udGVudFR5cGUoJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsIGZhbHNlKTtcbiAgfVxuXG4gIGNvbnN0IGFkYXB0ZXIgPSBhZGFwdGVycy5nZXRBZGFwdGVyKGNvbmZpZy5hZGFwdGVyIHx8IGRlZmF1bHRzLmFkYXB0ZXIpO1xuXG4gIHJldHVybiBhZGFwdGVyKGNvbmZpZykudGhlbihmdW5jdGlvbiBvbkFkYXB0ZXJSZXNvbHV0aW9uKHJlc3BvbnNlKSB7XG4gICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gICAgLy8gVHJhbnNmb3JtIHJlc3BvbnNlIGRhdGFcbiAgICByZXNwb25zZS5kYXRhID0gdHJhbnNmb3JtRGF0YS5jYWxsKFxuICAgICAgY29uZmlnLFxuICAgICAgY29uZmlnLnRyYW5zZm9ybVJlc3BvbnNlLFxuICAgICAgcmVzcG9uc2VcbiAgICApO1xuXG4gICAgcmVzcG9uc2UuaGVhZGVycyA9IEF4aW9zSGVhZGVycy5mcm9tKHJlc3BvbnNlLmhlYWRlcnMpO1xuXG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9LCBmdW5jdGlvbiBvbkFkYXB0ZXJSZWplY3Rpb24ocmVhc29uKSB7XG4gICAgaWYgKCFpc0NhbmNlbChyZWFzb24pKSB7XG4gICAgICB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZyk7XG5cbiAgICAgIC8vIFRyYW5zZm9ybSByZXNwb25zZSBkYXRhXG4gICAgICBpZiAocmVhc29uICYmIHJlYXNvbi5yZXNwb25zZSkge1xuICAgICAgICByZWFzb24ucmVzcG9uc2UuZGF0YSA9IHRyYW5zZm9ybURhdGEuY2FsbChcbiAgICAgICAgICBjb25maWcsXG4gICAgICAgICAgY29uZmlnLnRyYW5zZm9ybVJlc3BvbnNlLFxuICAgICAgICAgIHJlYXNvbi5yZXNwb25zZVxuICAgICAgICApO1xuICAgICAgICByZWFzb24ucmVzcG9uc2UuaGVhZGVycyA9IEF4aW9zSGVhZGVycy5mcm9tKHJlYXNvbi5yZXNwb25zZS5oZWFkZXJzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVhc29uKTtcbiAgfSk7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgQXhpb3NIZWFkZXJzIGZyb20gXCIuL0F4aW9zSGVhZGVycy5qc1wiO1xuXG5jb25zdCBoZWFkZXJzVG9PYmplY3QgPSAodGhpbmcpID0+IHRoaW5nIGluc3RhbmNlb2YgQXhpb3NIZWFkZXJzID8gdGhpbmcudG9KU09OKCkgOiB0aGluZztcblxuLyoqXG4gKiBDb25maWctc3BlY2lmaWMgbWVyZ2UtZnVuY3Rpb24gd2hpY2ggY3JlYXRlcyBhIG5ldyBjb25maWctb2JqZWN0XG4gKiBieSBtZXJnaW5nIHR3byBjb25maWd1cmF0aW9uIG9iamVjdHMgdG9nZXRoZXIuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZzFcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcyXG4gKlxuICogQHJldHVybnMge09iamVjdH0gTmV3IG9iamVjdCByZXN1bHRpbmcgZnJvbSBtZXJnaW5nIGNvbmZpZzIgdG8gY29uZmlnMVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtZXJnZUNvbmZpZyhjb25maWcxLCBjb25maWcyKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICBjb25maWcyID0gY29uZmlnMiB8fCB7fTtcbiAgY29uc3QgY29uZmlnID0ge307XG5cbiAgZnVuY3Rpb24gZ2V0TWVyZ2VkVmFsdWUodGFyZ2V0LCBzb3VyY2UsIGNhc2VsZXNzKSB7XG4gICAgaWYgKHV0aWxzLmlzUGxhaW5PYmplY3QodGFyZ2V0KSAmJiB1dGlscy5pc1BsYWluT2JqZWN0KHNvdXJjZSkpIHtcbiAgICAgIHJldHVybiB1dGlscy5tZXJnZS5jYWxsKHtjYXNlbGVzc30sIHRhcmdldCwgc291cmNlKTtcbiAgICB9IGVsc2UgaWYgKHV0aWxzLmlzUGxhaW5PYmplY3Qoc291cmNlKSkge1xuICAgICAgcmV0dXJuIHV0aWxzLm1lcmdlKHt9LCBzb3VyY2UpO1xuICAgIH0gZWxzZSBpZiAodXRpbHMuaXNBcnJheShzb3VyY2UpKSB7XG4gICAgICByZXR1cm4gc291cmNlLnNsaWNlKCk7XG4gICAgfVxuICAgIHJldHVybiBzb3VyY2U7XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbiAgZnVuY3Rpb24gbWVyZ2VEZWVwUHJvcGVydGllcyhhLCBiLCBjYXNlbGVzcykge1xuICAgIGlmICghdXRpbHMuaXNVbmRlZmluZWQoYikpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZShhLCBiLCBjYXNlbGVzcyk7XG4gICAgfSBlbHNlIGlmICghdXRpbHMuaXNVbmRlZmluZWQoYSkpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZSh1bmRlZmluZWQsIGEsIGNhc2VsZXNzKTtcbiAgICB9XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbiAgZnVuY3Rpb24gdmFsdWVGcm9tQ29uZmlnMihhLCBiKSB7XG4gICAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChiKSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKHVuZGVmaW5lZCwgYik7XG4gICAgfVxuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gIGZ1bmN0aW9uIGRlZmF1bHRUb0NvbmZpZzIoYSwgYikge1xuICAgIGlmICghdXRpbHMuaXNVbmRlZmluZWQoYikpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZSh1bmRlZmluZWQsIGIpO1xuICAgIH0gZWxzZSBpZiAoIXV0aWxzLmlzVW5kZWZpbmVkKGEpKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUodW5kZWZpbmVkLCBhKTtcbiAgICB9XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbiAgZnVuY3Rpb24gbWVyZ2VEaXJlY3RLZXlzKGEsIGIsIHByb3ApIHtcbiAgICBpZiAocHJvcCBpbiBjb25maWcyKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUoYSwgYik7XG4gICAgfSBlbHNlIGlmIChwcm9wIGluIGNvbmZpZzEpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZSh1bmRlZmluZWQsIGEpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IG1lcmdlTWFwID0ge1xuICAgIHVybDogdmFsdWVGcm9tQ29uZmlnMixcbiAgICBtZXRob2Q6IHZhbHVlRnJvbUNvbmZpZzIsXG4gICAgZGF0YTogdmFsdWVGcm9tQ29uZmlnMixcbiAgICBiYXNlVVJMOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHRyYW5zZm9ybVJlcXVlc3Q6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgdHJhbnNmb3JtUmVzcG9uc2U6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgcGFyYW1zU2VyaWFsaXplcjogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB0aW1lb3V0OiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHRpbWVvdXRNZXNzYWdlOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHdpdGhDcmVkZW50aWFsczogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB3aXRoWFNSRlRva2VuOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIGFkYXB0ZXI6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgcmVzcG9uc2VUeXBlOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHhzcmZDb29raWVOYW1lOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHhzcmZIZWFkZXJOYW1lOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIG9uVXBsb2FkUHJvZ3Jlc3M6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgb25Eb3dubG9hZFByb2dyZXNzOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIGRlY29tcHJlc3M6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgbWF4Q29udGVudExlbmd0aDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBtYXhCb2R5TGVuZ3RoOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIGJlZm9yZVJlZGlyZWN0OiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHRyYW5zcG9ydDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBodHRwQWdlbnQ6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgaHR0cHNBZ2VudDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBjYW5jZWxUb2tlbjogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBzb2NrZXRQYXRoOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHJlc3BvbnNlRW5jb2Rpbmc6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgdmFsaWRhdGVTdGF0dXM6IG1lcmdlRGlyZWN0S2V5cyxcbiAgICBoZWFkZXJzOiAoYSwgYikgPT4gbWVyZ2VEZWVwUHJvcGVydGllcyhoZWFkZXJzVG9PYmplY3QoYSksIGhlYWRlcnNUb09iamVjdChiKSwgdHJ1ZSlcbiAgfTtcblxuICB1dGlscy5mb3JFYWNoKE9iamVjdC5rZXlzKE9iamVjdC5hc3NpZ24oe30sIGNvbmZpZzEsIGNvbmZpZzIpKSwgZnVuY3Rpb24gY29tcHV0ZUNvbmZpZ1ZhbHVlKHByb3ApIHtcbiAgICBjb25zdCBtZXJnZSA9IG1lcmdlTWFwW3Byb3BdIHx8IG1lcmdlRGVlcFByb3BlcnRpZXM7XG4gICAgY29uc3QgY29uZmlnVmFsdWUgPSBtZXJnZShjb25maWcxW3Byb3BdLCBjb25maWcyW3Byb3BdLCBwcm9wKTtcbiAgICAodXRpbHMuaXNVbmRlZmluZWQoY29uZmlnVmFsdWUpICYmIG1lcmdlICE9PSBtZXJnZURpcmVjdEtleXMpIHx8IChjb25maWdbcHJvcF0gPSBjb25maWdWYWx1ZSk7XG4gIH0pO1xuXG4gIHJldHVybiBjb25maWc7XG59XG4iLCJleHBvcnQgY29uc3QgVkVSU0lPTiA9IFwiMS42LjJcIjsiLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7VkVSU0lPTn0gZnJvbSAnLi4vZW52L2RhdGEuanMnO1xuaW1wb3J0IEF4aW9zRXJyb3IgZnJvbSAnLi4vY29yZS9BeGlvc0Vycm9yLmpzJztcblxuY29uc3QgdmFsaWRhdG9ycyA9IHt9O1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuWydvYmplY3QnLCAnYm9vbGVhbicsICdudW1iZXInLCAnZnVuY3Rpb24nLCAnc3RyaW5nJywgJ3N5bWJvbCddLmZvckVhY2goKHR5cGUsIGkpID0+IHtcbiAgdmFsaWRhdG9yc1t0eXBlXSA9IGZ1bmN0aW9uIHZhbGlkYXRvcih0aGluZykge1xuICAgIHJldHVybiB0eXBlb2YgdGhpbmcgPT09IHR5cGUgfHwgJ2EnICsgKGkgPCAxID8gJ24gJyA6ICcgJykgKyB0eXBlO1xuICB9O1xufSk7XG5cbmNvbnN0IGRlcHJlY2F0ZWRXYXJuaW5ncyA9IHt9O1xuXG4vKipcbiAqIFRyYW5zaXRpb25hbCBvcHRpb24gdmFsaWRhdG9yXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbnxib29sZWFuP30gdmFsaWRhdG9yIC0gc2V0IHRvIGZhbHNlIGlmIHRoZSB0cmFuc2l0aW9uYWwgb3B0aW9uIGhhcyBiZWVuIHJlbW92ZWRcbiAqIEBwYXJhbSB7c3RyaW5nP30gdmVyc2lvbiAtIGRlcHJlY2F0ZWQgdmVyc2lvbiAvIHJlbW92ZWQgc2luY2UgdmVyc2lvblxuICogQHBhcmFtIHtzdHJpbmc/fSBtZXNzYWdlIC0gc29tZSBtZXNzYWdlIHdpdGggYWRkaXRpb25hbCBpbmZvXG4gKlxuICogQHJldHVybnMge2Z1bmN0aW9ufVxuICovXG52YWxpZGF0b3JzLnRyYW5zaXRpb25hbCA9IGZ1bmN0aW9uIHRyYW5zaXRpb25hbCh2YWxpZGF0b3IsIHZlcnNpb24sIG1lc3NhZ2UpIHtcbiAgZnVuY3Rpb24gZm9ybWF0TWVzc2FnZShvcHQsIGRlc2MpIHtcbiAgICByZXR1cm4gJ1tBeGlvcyB2JyArIFZFUlNJT04gKyAnXSBUcmFuc2l0aW9uYWwgb3B0aW9uIFxcJycgKyBvcHQgKyAnXFwnJyArIGRlc2MgKyAobWVzc2FnZSA/ICcuICcgKyBtZXNzYWdlIDogJycpO1xuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgcmV0dXJuICh2YWx1ZSwgb3B0LCBvcHRzKSA9PiB7XG4gICAgaWYgKHZhbGlkYXRvciA9PT0gZmFsc2UpIHtcbiAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKFxuICAgICAgICBmb3JtYXRNZXNzYWdlKG9wdCwgJyBoYXMgYmVlbiByZW1vdmVkJyArICh2ZXJzaW9uID8gJyBpbiAnICsgdmVyc2lvbiA6ICcnKSksXG4gICAgICAgIEF4aW9zRXJyb3IuRVJSX0RFUFJFQ0FURURcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHZlcnNpb24gJiYgIWRlcHJlY2F0ZWRXYXJuaW5nc1tvcHRdKSB7XG4gICAgICBkZXByZWNhdGVkV2FybmluZ3Nbb3B0XSA9IHRydWU7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBmb3JtYXRNZXNzYWdlKFxuICAgICAgICAgIG9wdCxcbiAgICAgICAgICAnIGhhcyBiZWVuIGRlcHJlY2F0ZWQgc2luY2UgdicgKyB2ZXJzaW9uICsgJyBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZWFyIGZ1dHVyZSdcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsaWRhdG9yID8gdmFsaWRhdG9yKHZhbHVlLCBvcHQsIG9wdHMpIDogdHJ1ZTtcbiAgfTtcbn07XG5cbi8qKlxuICogQXNzZXJ0IG9iamVjdCdzIHByb3BlcnRpZXMgdHlwZVxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zXG4gKiBAcGFyYW0ge29iamVjdH0gc2NoZW1hXG4gKiBAcGFyYW0ge2Jvb2xlYW4/fSBhbGxvd1Vua25vd25cbiAqXG4gKiBAcmV0dXJucyB7b2JqZWN0fVxuICovXG5cbmZ1bmN0aW9uIGFzc2VydE9wdGlvbnMob3B0aW9ucywgc2NoZW1hLCBhbGxvd1Vua25vd24pIHtcbiAgaWYgKHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0Jykge1xuICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKCdvcHRpb25zIG11c3QgYmUgYW4gb2JqZWN0JywgQXhpb3NFcnJvci5FUlJfQkFEX09QVElPTl9WQUxVRSk7XG4gIH1cbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG9wdGlvbnMpO1xuICBsZXQgaSA9IGtleXMubGVuZ3RoO1xuICB3aGlsZSAoaS0tID4gMCkge1xuICAgIGNvbnN0IG9wdCA9IGtleXNbaV07XG4gICAgY29uc3QgdmFsaWRhdG9yID0gc2NoZW1hW29wdF07XG4gICAgaWYgKHZhbGlkYXRvcikge1xuICAgICAgY29uc3QgdmFsdWUgPSBvcHRpb25zW29wdF07XG4gICAgICBjb25zdCByZXN1bHQgPSB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbGlkYXRvcih2YWx1ZSwgb3B0LCBvcHRpb25zKTtcbiAgICAgIGlmIChyZXN1bHQgIT09IHRydWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IoJ29wdGlvbiAnICsgb3B0ICsgJyBtdXN0IGJlICcgKyByZXN1bHQsIEF4aW9zRXJyb3IuRVJSX0JBRF9PUFRJT05fVkFMVUUpO1xuICAgICAgfVxuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChhbGxvd1Vua25vd24gIT09IHRydWUpIHtcbiAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKCdVbmtub3duIG9wdGlvbiAnICsgb3B0LCBBeGlvc0Vycm9yLkVSUl9CQURfT1BUSU9OKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBhc3NlcnRPcHRpb25zLFxuICB2YWxpZGF0b3JzXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi8uLi91dGlscy5qcyc7XG5pbXBvcnQgYnVpbGRVUkwgZnJvbSAnLi4vaGVscGVycy9idWlsZFVSTC5qcyc7XG5pbXBvcnQgSW50ZXJjZXB0b3JNYW5hZ2VyIGZyb20gJy4vSW50ZXJjZXB0b3JNYW5hZ2VyLmpzJztcbmltcG9ydCBkaXNwYXRjaFJlcXVlc3QgZnJvbSAnLi9kaXNwYXRjaFJlcXVlc3QuanMnO1xuaW1wb3J0IG1lcmdlQ29uZmlnIGZyb20gJy4vbWVyZ2VDb25maWcuanMnO1xuaW1wb3J0IGJ1aWxkRnVsbFBhdGggZnJvbSAnLi9idWlsZEZ1bGxQYXRoLmpzJztcbmltcG9ydCB2YWxpZGF0b3IgZnJvbSAnLi4vaGVscGVycy92YWxpZGF0b3IuanMnO1xuaW1wb3J0IEF4aW9zSGVhZGVycyBmcm9tICcuL0F4aW9zSGVhZGVycy5qcyc7XG5cbmNvbnN0IHZhbGlkYXRvcnMgPSB2YWxpZGF0b3IudmFsaWRhdG9ycztcblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgQXhpb3NcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2VDb25maWcgVGhlIGRlZmF1bHQgY29uZmlnIGZvciB0aGUgaW5zdGFuY2VcbiAqXG4gKiBAcmV0dXJuIHtBeGlvc30gQSBuZXcgaW5zdGFuY2Ugb2YgQXhpb3NcbiAqL1xuY2xhc3MgQXhpb3Mge1xuICBjb25zdHJ1Y3RvcihpbnN0YW5jZUNvbmZpZykge1xuICAgIHRoaXMuZGVmYXVsdHMgPSBpbnN0YW5jZUNvbmZpZztcbiAgICB0aGlzLmludGVyY2VwdG9ycyA9IHtcbiAgICAgIHJlcXVlc3Q6IG5ldyBJbnRlcmNlcHRvck1hbmFnZXIoKSxcbiAgICAgIHJlc3BvbnNlOiBuZXcgSW50ZXJjZXB0b3JNYW5hZ2VyKClcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIERpc3BhdGNoIGEgcmVxdWVzdFxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IGNvbmZpZ09yVXJsIFRoZSBjb25maWcgc3BlY2lmaWMgZm9yIHRoaXMgcmVxdWVzdCAobWVyZ2VkIHdpdGggdGhpcy5kZWZhdWx0cylcbiAgICogQHBhcmFtIHs/T2JqZWN0fSBjb25maWdcbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2V9IFRoZSBQcm9taXNlIHRvIGJlIGZ1bGZpbGxlZFxuICAgKi9cbiAgcmVxdWVzdChjb25maWdPclVybCwgY29uZmlnKSB7XG4gICAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gICAgLy8gQWxsb3cgZm9yIGF4aW9zKCdleGFtcGxlL3VybCdbLCBjb25maWddKSBhIGxhIGZldGNoIEFQSVxuICAgIGlmICh0eXBlb2YgY29uZmlnT3JVcmwgPT09ICdzdHJpbmcnKSB7XG4gICAgICBjb25maWcgPSBjb25maWcgfHwge307XG4gICAgICBjb25maWcudXJsID0gY29uZmlnT3JVcmw7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbmZpZyA9IGNvbmZpZ09yVXJsIHx8IHt9O1xuICAgIH1cblxuICAgIGNvbmZpZyA9IG1lcmdlQ29uZmlnKHRoaXMuZGVmYXVsdHMsIGNvbmZpZyk7XG5cbiAgICBjb25zdCB7dHJhbnNpdGlvbmFsLCBwYXJhbXNTZXJpYWxpemVyLCBoZWFkZXJzfSA9IGNvbmZpZztcblxuICAgIGlmICh0cmFuc2l0aW9uYWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFsaWRhdG9yLmFzc2VydE9wdGlvbnModHJhbnNpdGlvbmFsLCB7XG4gICAgICAgIHNpbGVudEpTT05QYXJzaW5nOiB2YWxpZGF0b3JzLnRyYW5zaXRpb25hbCh2YWxpZGF0b3JzLmJvb2xlYW4pLFxuICAgICAgICBmb3JjZWRKU09OUGFyc2luZzogdmFsaWRhdG9ycy50cmFuc2l0aW9uYWwodmFsaWRhdG9ycy5ib29sZWFuKSxcbiAgICAgICAgY2xhcmlmeVRpbWVvdXRFcnJvcjogdmFsaWRhdG9ycy50cmFuc2l0aW9uYWwodmFsaWRhdG9ycy5ib29sZWFuKVxuICAgICAgfSwgZmFsc2UpO1xuICAgIH1cblxuICAgIGlmIChwYXJhbXNTZXJpYWxpemVyICE9IG51bGwpIHtcbiAgICAgIGlmICh1dGlscy5pc0Z1bmN0aW9uKHBhcmFtc1NlcmlhbGl6ZXIpKSB7XG4gICAgICAgIGNvbmZpZy5wYXJhbXNTZXJpYWxpemVyID0ge1xuICAgICAgICAgIHNlcmlhbGl6ZTogcGFyYW1zU2VyaWFsaXplclxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWxpZGF0b3IuYXNzZXJ0T3B0aW9ucyhwYXJhbXNTZXJpYWxpemVyLCB7XG4gICAgICAgICAgZW5jb2RlOiB2YWxpZGF0b3JzLmZ1bmN0aW9uLFxuICAgICAgICAgIHNlcmlhbGl6ZTogdmFsaWRhdG9ycy5mdW5jdGlvblxuICAgICAgICB9LCB0cnVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTZXQgY29uZmlnLm1ldGhvZFxuICAgIGNvbmZpZy5tZXRob2QgPSAoY29uZmlnLm1ldGhvZCB8fCB0aGlzLmRlZmF1bHRzLm1ldGhvZCB8fCAnZ2V0JykudG9Mb3dlckNhc2UoKTtcblxuICAgIC8vIEZsYXR0ZW4gaGVhZGVyc1xuICAgIGxldCBjb250ZXh0SGVhZGVycyA9IGhlYWRlcnMgJiYgdXRpbHMubWVyZ2UoXG4gICAgICBoZWFkZXJzLmNvbW1vbixcbiAgICAgIGhlYWRlcnNbY29uZmlnLm1ldGhvZF1cbiAgICApO1xuXG4gICAgaGVhZGVycyAmJiB1dGlscy5mb3JFYWNoKFxuICAgICAgWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAncG9zdCcsICdwdXQnLCAncGF0Y2gnLCAnY29tbW9uJ10sXG4gICAgICAobWV0aG9kKSA9PiB7XG4gICAgICAgIGRlbGV0ZSBoZWFkZXJzW21ldGhvZF07XG4gICAgICB9XG4gICAgKTtcblxuICAgIGNvbmZpZy5oZWFkZXJzID0gQXhpb3NIZWFkZXJzLmNvbmNhdChjb250ZXh0SGVhZGVycywgaGVhZGVycyk7XG5cbiAgICAvLyBmaWx0ZXIgb3V0IHNraXBwZWQgaW50ZXJjZXB0b3JzXG4gICAgY29uc3QgcmVxdWVzdEludGVyY2VwdG9yQ2hhaW4gPSBbXTtcbiAgICBsZXQgc3luY2hyb25vdXNSZXF1ZXN0SW50ZXJjZXB0b3JzID0gdHJ1ZTtcbiAgICB0aGlzLmludGVyY2VwdG9ycy5yZXF1ZXN0LmZvckVhY2goZnVuY3Rpb24gdW5zaGlmdFJlcXVlc3RJbnRlcmNlcHRvcnMoaW50ZXJjZXB0b3IpIHtcbiAgICAgIGlmICh0eXBlb2YgaW50ZXJjZXB0b3IucnVuV2hlbiA9PT0gJ2Z1bmN0aW9uJyAmJiBpbnRlcmNlcHRvci5ydW5XaGVuKGNvbmZpZykgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc3luY2hyb25vdXNSZXF1ZXN0SW50ZXJjZXB0b3JzID0gc3luY2hyb25vdXNSZXF1ZXN0SW50ZXJjZXB0b3JzICYmIGludGVyY2VwdG9yLnN5bmNocm9ub3VzO1xuXG4gICAgICByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbi51bnNoaWZ0KGludGVyY2VwdG9yLmZ1bGZpbGxlZCwgaW50ZXJjZXB0b3IucmVqZWN0ZWQpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgcmVzcG9uc2VJbnRlcmNlcHRvckNoYWluID0gW107XG4gICAgdGhpcy5pbnRlcmNlcHRvcnMucmVzcG9uc2UuZm9yRWFjaChmdW5jdGlvbiBwdXNoUmVzcG9uc2VJbnRlcmNlcHRvcnMoaW50ZXJjZXB0b3IpIHtcbiAgICAgIHJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbi5wdXNoKGludGVyY2VwdG9yLmZ1bGZpbGxlZCwgaW50ZXJjZXB0b3IucmVqZWN0ZWQpO1xuICAgIH0pO1xuXG4gICAgbGV0IHByb21pc2U7XG4gICAgbGV0IGkgPSAwO1xuICAgIGxldCBsZW47XG5cbiAgICBpZiAoIXN5bmNocm9ub3VzUmVxdWVzdEludGVyY2VwdG9ycykge1xuICAgICAgY29uc3QgY2hhaW4gPSBbZGlzcGF0Y2hSZXF1ZXN0LmJpbmQodGhpcyksIHVuZGVmaW5lZF07XG4gICAgICBjaGFpbi51bnNoaWZ0LmFwcGx5KGNoYWluLCByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbik7XG4gICAgICBjaGFpbi5wdXNoLmFwcGx5KGNoYWluLCByZXNwb25zZUludGVyY2VwdG9yQ2hhaW4pO1xuICAgICAgbGVuID0gY2hhaW4ubGVuZ3RoO1xuXG4gICAgICBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKGNvbmZpZyk7XG5cbiAgICAgIHdoaWxlIChpIDwgbGVuKSB7XG4gICAgICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oY2hhaW5baSsrXSwgY2hhaW5baSsrXSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cblxuICAgIGxlbiA9IHJlcXVlc3RJbnRlcmNlcHRvckNoYWluLmxlbmd0aDtcblxuICAgIGxldCBuZXdDb25maWcgPSBjb25maWc7XG5cbiAgICBpID0gMDtcblxuICAgIHdoaWxlIChpIDwgbGVuKSB7XG4gICAgICBjb25zdCBvbkZ1bGZpbGxlZCA9IHJlcXVlc3RJbnRlcmNlcHRvckNoYWluW2krK107XG4gICAgICBjb25zdCBvblJlamVjdGVkID0gcmVxdWVzdEludGVyY2VwdG9yQ2hhaW5baSsrXTtcbiAgICAgIHRyeSB7XG4gICAgICAgIG5ld0NvbmZpZyA9IG9uRnVsZmlsbGVkKG5ld0NvbmZpZyk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBvblJlamVjdGVkLmNhbGwodGhpcywgZXJyb3IpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgcHJvbWlzZSA9IGRpc3BhdGNoUmVxdWVzdC5jYWxsKHRoaXMsIG5ld0NvbmZpZyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgfVxuXG4gICAgaSA9IDA7XG4gICAgbGVuID0gcmVzcG9uc2VJbnRlcmNlcHRvckNoYWluLmxlbmd0aDtcblxuICAgIHdoaWxlIChpIDwgbGVuKSB7XG4gICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKHJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbltpKytdLCByZXNwb25zZUludGVyY2VwdG9yQ2hhaW5baSsrXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBnZXRVcmkoY29uZmlnKSB7XG4gICAgY29uZmlnID0gbWVyZ2VDb25maWcodGhpcy5kZWZhdWx0cywgY29uZmlnKTtcbiAgICBjb25zdCBmdWxsUGF0aCA9IGJ1aWxkRnVsbFBhdGgoY29uZmlnLmJhc2VVUkwsIGNvbmZpZy51cmwpO1xuICAgIHJldHVybiBidWlsZFVSTChmdWxsUGF0aCwgY29uZmlnLnBhcmFtcywgY29uZmlnLnBhcmFtc1NlcmlhbGl6ZXIpO1xuICB9XG59XG5cbi8vIFByb3ZpZGUgYWxpYXNlcyBmb3Igc3VwcG9ydGVkIHJlcXVlc3QgbWV0aG9kc1xudXRpbHMuZm9yRWFjaChbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCcsICdvcHRpb25zJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2ROb0RhdGEobWV0aG9kKSB7XG4gIC8qZXNsaW50IGZ1bmMtbmFtZXM6MCovXG4gIEF4aW9zLnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24odXJsLCBjb25maWcpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KG1lcmdlQ29uZmlnKGNvbmZpZyB8fCB7fSwge1xuICAgICAgbWV0aG9kLFxuICAgICAgdXJsLFxuICAgICAgZGF0YTogKGNvbmZpZyB8fCB7fSkuZGF0YVxuICAgIH0pKTtcbiAgfTtcbn0pO1xuXG51dGlscy5mb3JFYWNoKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZFdpdGhEYXRhKG1ldGhvZCkge1xuICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuXG4gIGZ1bmN0aW9uIGdlbmVyYXRlSFRUUE1ldGhvZChpc0Zvcm0pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gaHR0cE1ldGhvZCh1cmwsIGRhdGEsIGNvbmZpZykge1xuICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdChtZXJnZUNvbmZpZyhjb25maWcgfHwge30sIHtcbiAgICAgICAgbWV0aG9kLFxuICAgICAgICBoZWFkZXJzOiBpc0Zvcm0gPyB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJ1xuICAgICAgICB9IDoge30sXG4gICAgICAgIHVybCxcbiAgICAgICAgZGF0YVxuICAgICAgfSkpO1xuICAgIH07XG4gIH1cblxuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSA9IGdlbmVyYXRlSFRUUE1ldGhvZCgpO1xuXG4gIEF4aW9zLnByb3RvdHlwZVttZXRob2QgKyAnRm9ybSddID0gZ2VuZXJhdGVIVFRQTWV0aG9kKHRydWUpO1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IEF4aW9zO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgQ2FuY2VsZWRFcnJvciBmcm9tICcuL0NhbmNlbGVkRXJyb3IuanMnO1xuXG4vKipcbiAqIEEgYENhbmNlbFRva2VuYCBpcyBhbiBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCB0byByZXF1ZXN0IGNhbmNlbGxhdGlvbiBvZiBhbiBvcGVyYXRpb24uXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXhlY3V0b3IgVGhlIGV4ZWN1dG9yIGZ1bmN0aW9uLlxuICpcbiAqIEByZXR1cm5zIHtDYW5jZWxUb2tlbn1cbiAqL1xuY2xhc3MgQ2FuY2VsVG9rZW4ge1xuICBjb25zdHJ1Y3RvcihleGVjdXRvcikge1xuICAgIGlmICh0eXBlb2YgZXhlY3V0b3IgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2V4ZWN1dG9yIG11c3QgYmUgYSBmdW5jdGlvbi4nKTtcbiAgICB9XG5cbiAgICBsZXQgcmVzb2x2ZVByb21pc2U7XG5cbiAgICB0aGlzLnByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiBwcm9taXNlRXhlY3V0b3IocmVzb2x2ZSkge1xuICAgICAgcmVzb2x2ZVByb21pc2UgPSByZXNvbHZlO1xuICAgIH0pO1xuXG4gICAgY29uc3QgdG9rZW4gPSB0aGlzO1xuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgICB0aGlzLnByb21pc2UudGhlbihjYW5jZWwgPT4ge1xuICAgICAgaWYgKCF0b2tlbi5fbGlzdGVuZXJzKSByZXR1cm47XG5cbiAgICAgIGxldCBpID0gdG9rZW4uX2xpc3RlbmVycy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlIChpLS0gPiAwKSB7XG4gICAgICAgIHRva2VuLl9saXN0ZW5lcnNbaV0oY2FuY2VsKTtcbiAgICAgIH1cbiAgICAgIHRva2VuLl9saXN0ZW5lcnMgPSBudWxsO1xuICAgIH0pO1xuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgICB0aGlzLnByb21pc2UudGhlbiA9IG9uZnVsZmlsbGVkID0+IHtcbiAgICAgIGxldCBfcmVzb2x2ZTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gICAgICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgIHRva2VuLnN1YnNjcmliZShyZXNvbHZlKTtcbiAgICAgICAgX3Jlc29sdmUgPSByZXNvbHZlO1xuICAgICAgfSkudGhlbihvbmZ1bGZpbGxlZCk7XG5cbiAgICAgIHByb21pc2UuY2FuY2VsID0gZnVuY3Rpb24gcmVqZWN0KCkge1xuICAgICAgICB0b2tlbi51bnN1YnNjcmliZShfcmVzb2x2ZSk7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9O1xuXG4gICAgZXhlY3V0b3IoZnVuY3Rpb24gY2FuY2VsKG1lc3NhZ2UsIGNvbmZpZywgcmVxdWVzdCkge1xuICAgICAgaWYgKHRva2VuLnJlYXNvbikge1xuICAgICAgICAvLyBDYW5jZWxsYXRpb24gaGFzIGFscmVhZHkgYmVlbiByZXF1ZXN0ZWRcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0b2tlbi5yZWFzb24gPSBuZXcgQ2FuY2VsZWRFcnJvcihtZXNzYWdlLCBjb25maWcsIHJlcXVlc3QpO1xuICAgICAgcmVzb2x2ZVByb21pc2UodG9rZW4ucmVhc29uKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaHJvd3MgYSBgQ2FuY2VsZWRFcnJvcmAgaWYgY2FuY2VsbGF0aW9uIGhhcyBiZWVuIHJlcXVlc3RlZC5cbiAgICovXG4gIHRocm93SWZSZXF1ZXN0ZWQoKSB7XG4gICAgaWYgKHRoaXMucmVhc29uKSB7XG4gICAgICB0aHJvdyB0aGlzLnJlYXNvbjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU3Vic2NyaWJlIHRvIHRoZSBjYW5jZWwgc2lnbmFsXG4gICAqL1xuXG4gIHN1YnNjcmliZShsaXN0ZW5lcikge1xuICAgIGlmICh0aGlzLnJlYXNvbikge1xuICAgICAgbGlzdGVuZXIodGhpcy5yZWFzb24pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9saXN0ZW5lcnMpIHtcbiAgICAgIHRoaXMuX2xpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbGlzdGVuZXJzID0gW2xpc3RlbmVyXTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVW5zdWJzY3JpYmUgZnJvbSB0aGUgY2FuY2VsIHNpZ25hbFxuICAgKi9cblxuICB1bnN1YnNjcmliZShsaXN0ZW5lcikge1xuICAgIGlmICghdGhpcy5fbGlzdGVuZXJzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fbGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpO1xuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHRoaXMuX2xpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGEgbmV3IGBDYW5jZWxUb2tlbmAgYW5kIGEgZnVuY3Rpb24gdGhhdCwgd2hlbiBjYWxsZWQsXG4gICAqIGNhbmNlbHMgdGhlIGBDYW5jZWxUb2tlbmAuXG4gICAqL1xuICBzdGF0aWMgc291cmNlKCkge1xuICAgIGxldCBjYW5jZWw7XG4gICAgY29uc3QgdG9rZW4gPSBuZXcgQ2FuY2VsVG9rZW4oZnVuY3Rpb24gZXhlY3V0b3IoYykge1xuICAgICAgY2FuY2VsID0gYztcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgdG9rZW4sXG4gICAgICBjYW5jZWxcbiAgICB9O1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhbmNlbFRva2VuO1xuIiwiY29uc3QgSHR0cFN0YXR1c0NvZGUgPSB7XG4gIENvbnRpbnVlOiAxMDAsXG4gIFN3aXRjaGluZ1Byb3RvY29sczogMTAxLFxuICBQcm9jZXNzaW5nOiAxMDIsXG4gIEVhcmx5SGludHM6IDEwMyxcbiAgT2s6IDIwMCxcbiAgQ3JlYXRlZDogMjAxLFxuICBBY2NlcHRlZDogMjAyLFxuICBOb25BdXRob3JpdGF0aXZlSW5mb3JtYXRpb246IDIwMyxcbiAgTm9Db250ZW50OiAyMDQsXG4gIFJlc2V0Q29udGVudDogMjA1LFxuICBQYXJ0aWFsQ29udGVudDogMjA2LFxuICBNdWx0aVN0YXR1czogMjA3LFxuICBBbHJlYWR5UmVwb3J0ZWQ6IDIwOCxcbiAgSW1Vc2VkOiAyMjYsXG4gIE11bHRpcGxlQ2hvaWNlczogMzAwLFxuICBNb3ZlZFBlcm1hbmVudGx5OiAzMDEsXG4gIEZvdW5kOiAzMDIsXG4gIFNlZU90aGVyOiAzMDMsXG4gIE5vdE1vZGlmaWVkOiAzMDQsXG4gIFVzZVByb3h5OiAzMDUsXG4gIFVudXNlZDogMzA2LFxuICBUZW1wb3JhcnlSZWRpcmVjdDogMzA3LFxuICBQZXJtYW5lbnRSZWRpcmVjdDogMzA4LFxuICBCYWRSZXF1ZXN0OiA0MDAsXG4gIFVuYXV0aG9yaXplZDogNDAxLFxuICBQYXltZW50UmVxdWlyZWQ6IDQwMixcbiAgRm9yYmlkZGVuOiA0MDMsXG4gIE5vdEZvdW5kOiA0MDQsXG4gIE1ldGhvZE5vdEFsbG93ZWQ6IDQwNSxcbiAgTm90QWNjZXB0YWJsZTogNDA2LFxuICBQcm94eUF1dGhlbnRpY2F0aW9uUmVxdWlyZWQ6IDQwNyxcbiAgUmVxdWVzdFRpbWVvdXQ6IDQwOCxcbiAgQ29uZmxpY3Q6IDQwOSxcbiAgR29uZTogNDEwLFxuICBMZW5ndGhSZXF1aXJlZDogNDExLFxuICBQcmVjb25kaXRpb25GYWlsZWQ6IDQxMixcbiAgUGF5bG9hZFRvb0xhcmdlOiA0MTMsXG4gIFVyaVRvb0xvbmc6IDQxNCxcbiAgVW5zdXBwb3J0ZWRNZWRpYVR5cGU6IDQxNSxcbiAgUmFuZ2VOb3RTYXRpc2ZpYWJsZTogNDE2LFxuICBFeHBlY3RhdGlvbkZhaWxlZDogNDE3LFxuICBJbUFUZWFwb3Q6IDQxOCxcbiAgTWlzZGlyZWN0ZWRSZXF1ZXN0OiA0MjEsXG4gIFVucHJvY2Vzc2FibGVFbnRpdHk6IDQyMixcbiAgTG9ja2VkOiA0MjMsXG4gIEZhaWxlZERlcGVuZGVuY3k6IDQyNCxcbiAgVG9vRWFybHk6IDQyNSxcbiAgVXBncmFkZVJlcXVpcmVkOiA0MjYsXG4gIFByZWNvbmRpdGlvblJlcXVpcmVkOiA0MjgsXG4gIFRvb01hbnlSZXF1ZXN0czogNDI5LFxuICBSZXF1ZXN0SGVhZGVyRmllbGRzVG9vTGFyZ2U6IDQzMSxcbiAgVW5hdmFpbGFibGVGb3JMZWdhbFJlYXNvbnM6IDQ1MSxcbiAgSW50ZXJuYWxTZXJ2ZXJFcnJvcjogNTAwLFxuICBOb3RJbXBsZW1lbnRlZDogNTAxLFxuICBCYWRHYXRld2F5OiA1MDIsXG4gIFNlcnZpY2VVbmF2YWlsYWJsZTogNTAzLFxuICBHYXRld2F5VGltZW91dDogNTA0LFxuICBIdHRwVmVyc2lvbk5vdFN1cHBvcnRlZDogNTA1LFxuICBWYXJpYW50QWxzb05lZ290aWF0ZXM6IDUwNixcbiAgSW5zdWZmaWNpZW50U3RvcmFnZTogNTA3LFxuICBMb29wRGV0ZWN0ZWQ6IDUwOCxcbiAgTm90RXh0ZW5kZWQ6IDUxMCxcbiAgTmV0d29ya0F1dGhlbnRpY2F0aW9uUmVxdWlyZWQ6IDUxMSxcbn07XG5cbk9iamVjdC5lbnRyaWVzKEh0dHBTdGF0dXNDb2RlKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgSHR0cFN0YXR1c0NvZGVbdmFsdWVdID0ga2V5O1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IEh0dHBTdGF0dXNDb2RlO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi91dGlscy5qcyc7XG5pbXBvcnQgYmluZCBmcm9tICcuL2hlbHBlcnMvYmluZC5qcyc7XG5pbXBvcnQgQXhpb3MgZnJvbSAnLi9jb3JlL0F4aW9zLmpzJztcbmltcG9ydCBtZXJnZUNvbmZpZyBmcm9tICcuL2NvcmUvbWVyZ2VDb25maWcuanMnO1xuaW1wb3J0IGRlZmF1bHRzIGZyb20gJy4vZGVmYXVsdHMvaW5kZXguanMnO1xuaW1wb3J0IGZvcm1EYXRhVG9KU09OIGZyb20gJy4vaGVscGVycy9mb3JtRGF0YVRvSlNPTi5qcyc7XG5pbXBvcnQgQ2FuY2VsZWRFcnJvciBmcm9tICcuL2NhbmNlbC9DYW5jZWxlZEVycm9yLmpzJztcbmltcG9ydCBDYW5jZWxUb2tlbiBmcm9tICcuL2NhbmNlbC9DYW5jZWxUb2tlbi5qcyc7XG5pbXBvcnQgaXNDYW5jZWwgZnJvbSAnLi9jYW5jZWwvaXNDYW5jZWwuanMnO1xuaW1wb3J0IHtWRVJTSU9OfSBmcm9tICcuL2Vudi9kYXRhLmpzJztcbmltcG9ydCB0b0Zvcm1EYXRhIGZyb20gJy4vaGVscGVycy90b0Zvcm1EYXRhLmpzJztcbmltcG9ydCBBeGlvc0Vycm9yIGZyb20gJy4vY29yZS9BeGlvc0Vycm9yLmpzJztcbmltcG9ydCBzcHJlYWQgZnJvbSAnLi9oZWxwZXJzL3NwcmVhZC5qcyc7XG5pbXBvcnQgaXNBeGlvc0Vycm9yIGZyb20gJy4vaGVscGVycy9pc0F4aW9zRXJyb3IuanMnO1xuaW1wb3J0IEF4aW9zSGVhZGVycyBmcm9tIFwiLi9jb3JlL0F4aW9zSGVhZGVycy5qc1wiO1xuaW1wb3J0IGFkYXB0ZXJzIGZyb20gJy4vYWRhcHRlcnMvYWRhcHRlcnMuanMnO1xuaW1wb3J0IEh0dHBTdGF0dXNDb2RlIGZyb20gJy4vaGVscGVycy9IdHRwU3RhdHVzQ29kZS5qcyc7XG5cbi8qKlxuICogQ3JlYXRlIGFuIGluc3RhbmNlIG9mIEF4aW9zXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGRlZmF1bHRDb25maWcgVGhlIGRlZmF1bHQgY29uZmlnIGZvciB0aGUgaW5zdGFuY2VcbiAqXG4gKiBAcmV0dXJucyB7QXhpb3N9IEEgbmV3IGluc3RhbmNlIG9mIEF4aW9zXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlKGRlZmF1bHRDb25maWcpIHtcbiAgY29uc3QgY29udGV4dCA9IG5ldyBBeGlvcyhkZWZhdWx0Q29uZmlnKTtcbiAgY29uc3QgaW5zdGFuY2UgPSBiaW5kKEF4aW9zLnByb3RvdHlwZS5yZXF1ZXN0LCBjb250ZXh0KTtcblxuICAvLyBDb3B5IGF4aW9zLnByb3RvdHlwZSB0byBpbnN0YW5jZVxuICB1dGlscy5leHRlbmQoaW5zdGFuY2UsIEF4aW9zLnByb3RvdHlwZSwgY29udGV4dCwge2FsbE93bktleXM6IHRydWV9KTtcblxuICAvLyBDb3B5IGNvbnRleHQgdG8gaW5zdGFuY2VcbiAgdXRpbHMuZXh0ZW5kKGluc3RhbmNlLCBjb250ZXh0LCBudWxsLCB7YWxsT3duS2V5czogdHJ1ZX0pO1xuXG4gIC8vIEZhY3RvcnkgZm9yIGNyZWF0aW5nIG5ldyBpbnN0YW5jZXNcbiAgaW5zdGFuY2UuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKGluc3RhbmNlQ29uZmlnKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUluc3RhbmNlKG1lcmdlQ29uZmlnKGRlZmF1bHRDb25maWcsIGluc3RhbmNlQ29uZmlnKSk7XG4gIH07XG5cbiAgcmV0dXJuIGluc3RhbmNlO1xufVxuXG4vLyBDcmVhdGUgdGhlIGRlZmF1bHQgaW5zdGFuY2UgdG8gYmUgZXhwb3J0ZWRcbmNvbnN0IGF4aW9zID0gY3JlYXRlSW5zdGFuY2UoZGVmYXVsdHMpO1xuXG4vLyBFeHBvc2UgQXhpb3MgY2xhc3MgdG8gYWxsb3cgY2xhc3MgaW5oZXJpdGFuY2VcbmF4aW9zLkF4aW9zID0gQXhpb3M7XG5cbi8vIEV4cG9zZSBDYW5jZWwgJiBDYW5jZWxUb2tlblxuYXhpb3MuQ2FuY2VsZWRFcnJvciA9IENhbmNlbGVkRXJyb3I7XG5heGlvcy5DYW5jZWxUb2tlbiA9IENhbmNlbFRva2VuO1xuYXhpb3MuaXNDYW5jZWwgPSBpc0NhbmNlbDtcbmF4aW9zLlZFUlNJT04gPSBWRVJTSU9OO1xuYXhpb3MudG9Gb3JtRGF0YSA9IHRvRm9ybURhdGE7XG5cbi8vIEV4cG9zZSBBeGlvc0Vycm9yIGNsYXNzXG5heGlvcy5BeGlvc0Vycm9yID0gQXhpb3NFcnJvcjtcblxuLy8gYWxpYXMgZm9yIENhbmNlbGVkRXJyb3IgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbmF4aW9zLkNhbmNlbCA9IGF4aW9zLkNhbmNlbGVkRXJyb3I7XG5cbi8vIEV4cG9zZSBhbGwvc3ByZWFkXG5heGlvcy5hbGwgPSBmdW5jdGlvbiBhbGwocHJvbWlzZXMpIHtcbiAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKTtcbn07XG5cbmF4aW9zLnNwcmVhZCA9IHNwcmVhZDtcblxuLy8gRXhwb3NlIGlzQXhpb3NFcnJvclxuYXhpb3MuaXNBeGlvc0Vycm9yID0gaXNBeGlvc0Vycm9yO1xuXG4vLyBFeHBvc2UgbWVyZ2VDb25maWdcbmF4aW9zLm1lcmdlQ29uZmlnID0gbWVyZ2VDb25maWc7XG5cbmF4aW9zLkF4aW9zSGVhZGVycyA9IEF4aW9zSGVhZGVycztcblxuYXhpb3MuZm9ybVRvSlNPTiA9IHRoaW5nID0+IGZvcm1EYXRhVG9KU09OKHV0aWxzLmlzSFRNTEZvcm0odGhpbmcpID8gbmV3IEZvcm1EYXRhKHRoaW5nKSA6IHRoaW5nKTtcblxuYXhpb3MuZ2V0QWRhcHRlciA9IGFkYXB0ZXJzLmdldEFkYXB0ZXI7XG5cbmF4aW9zLkh0dHBTdGF0dXNDb2RlID0gSHR0cFN0YXR1c0NvZGU7XG5cbmF4aW9zLmRlZmF1bHQgPSBheGlvcztcblxuLy8gdGhpcyBtb2R1bGUgc2hvdWxkIG9ubHkgaGF2ZSBhIGRlZmF1bHQgZXhwb3J0XG5leHBvcnQgZGVmYXVsdCBheGlvc1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFN5bnRhY3RpYyBzdWdhciBmb3IgaW52b2tpbmcgYSBmdW5jdGlvbiBhbmQgZXhwYW5kaW5nIGFuIGFycmF5IGZvciBhcmd1bWVudHMuXG4gKlxuICogQ29tbW9uIHVzZSBjYXNlIHdvdWxkIGJlIHRvIHVzZSBgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5YC5cbiAqXG4gKiAgYGBganNcbiAqICBmdW5jdGlvbiBmKHgsIHksIHopIHt9XG4gKiAgdmFyIGFyZ3MgPSBbMSwgMiwgM107XG4gKiAgZi5hcHBseShudWxsLCBhcmdzKTtcbiAqICBgYGBcbiAqXG4gKiBXaXRoIGBzcHJlYWRgIHRoaXMgZXhhbXBsZSBjYW4gYmUgcmUtd3JpdHRlbi5cbiAqXG4gKiAgYGBganNcbiAqICBzcHJlYWQoZnVuY3Rpb24oeCwgeSwgeikge30pKFsxLCAyLCAzXSk7XG4gKiAgYGBgXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNwcmVhZChjYWxsYmFjaykge1xuICByZXR1cm4gZnVuY3Rpb24gd3JhcChhcnIpIHtcbiAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkobnVsbCwgYXJyKTtcbiAgfTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4vLi4vdXRpbHMuanMnO1xuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB0aGUgcGF5bG9hZCBpcyBhbiBlcnJvciB0aHJvd24gYnkgQXhpb3NcbiAqXG4gKiBAcGFyYW0geyp9IHBheWxvYWQgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgcGF5bG9hZCBpcyBhbiBlcnJvciB0aHJvd24gYnkgQXhpb3MsIG90aGVyd2lzZSBmYWxzZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc0F4aW9zRXJyb3IocGF5bG9hZCkge1xuICByZXR1cm4gdXRpbHMuaXNPYmplY3QocGF5bG9hZCkgJiYgKHBheWxvYWQuaXNBeGlvc0Vycm9yID09PSB0cnVlKTtcbn1cbiIsImltcG9ydCBheGlvcyBmcm9tIFwiYXhpb3NcIjtcblxuY29uc3QgaHR0cENsaWVudDogeyBnZXQ6IGFueTsgcG9zdDogYW55IH0gPSB7XG4gIGdldDogKHVybDogc3RyaW5nLCB7IHBhcmFtcyB9OiB7IHBhcmFtczoge30gfSk6IFByb21pc2U8YW55PiA9PiB7XG4gICAgcmV0dXJuIGF4aW9zLmdldCh1cmwsIHsgcGFyYW1zIH0pO1xuICB9LFxuICBwb3N0OiAoXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgYm9keTogeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9IHt9LFxuICAgIG9wdGlvbnM6IHsgaGVhZGVycz86IGFueSB9ID0ge31cbiAgKTogUHJvbWlzZTxhbnk+ID0+IHtcbiAgICByZXR1cm4gYXhpb3MucG9zdCh1cmwsIGJvZHksIG9wdGlvbnMpO1xuICB9LFxufTtcbi8vIGNvbnN0IGh0dHBDbGllbnQgPSB7XG4vLyAgIGdldDogKFxuLy8gICAgIHVybDogc3RyaW5nLFxuLy8gICAgIHsgcGFyYW1zIH06IHsgcGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBhbnk+IH1cbi8vICAgKTogUHJvbWlzZTxhbnk+ID0+IHtcbi8vICAgICByZXR1cm4gZmV0Y2goYCR7dXJsfT8ke25ldyBVUkxTZWFyY2hQYXJhbXMocGFyYW1zKS50b1N0cmluZygpfWAsIHtcbi8vICAgICAgIG1ldGhvZDogXCJHRVRcIixcbi8vICAgICAgIGhlYWRlcnM6IHtcbi8vICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4vLyAgICAgICAgIFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luXCI6IFwiKlwiLFxuLy8gICAgICAgfSxcbi8vICAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuLy8gICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuLy8gICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhUVFAgZXJyb3IhIFN0YXR1czogJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4vLyAgICAgICB9XG4vLyAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuLy8gICAgIH0pO1xuLy8gICB9LFxuLy8gICBwb3N0OiAoXG4vLyAgICAgdXJsOiBzdHJpbmcsXG4vLyAgICAgYm9keTogeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9IHt9LFxuLy8gICAgIG9wdGlvbnM6IHsgaGVhZGVycz86IGFueSB9ID0ge31cbi8vICAgKTogUHJvbWlzZTxhbnk+ID0+IHtcbi8vICAgICByZXR1cm4gZmV0Y2goYCR7dXJsfWAsIHtcbi8vICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4vLyAgICAgICBoZWFkZXJzOiB7XG4vLyAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuLy8gICAgICAgfSxcbi8vICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuLy8gICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4vLyAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4vLyAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSFRUUCBlcnJvciEgU3RhdHVzOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbi8vICAgICAgIH1cbi8vICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4vLyAgICAgfSk7XG4vLyAgIH0sXG4vLyB9O1xuXG5leHBvcnQgZGVmYXVsdCBodHRwQ2xpZW50O1xuXG5cbiIsIi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG5pbXBvcnQgc3RvcmFnZVNlcnZpY2UgZnJvbSBcIi4uL3N0b3JhZ2Uuc2VydmljZVwiO1xuaW1wb3J0IHsgcGFyc2VSZXBvcnRBc0NoYXJ0RGF0YSB9IGZyb20gXCIuLi9nYXBpLnV0aWxzXCI7XG5pbXBvcnQgeyBHYXBpSW5pdGlhbGl6YXRpb25QYXJhbXMgfSBmcm9tIFwiLi4vdHlwZXNcIjtcbmltcG9ydCBheGlvcyBmcm9tIFwiYXhpb3NcIjtcbmltcG9ydCBodHRwQ2xpZW50IGZyb20gXCJAc3JjL2RlcHMvaHR0cC1jbGllbnRcIjtcblxuZXhwb3J0IGNsYXNzIEdhcGlBbmFseXRpY3NTZXJ2aWNlIHtcbiAgZ2FwaTtcbiAgYW5hbHl0aWNzO1xuICByZWFsdGltZUFQSTtcbiAgYW5hbHl0aWNzZGF0YTtcbiAgYW5hbHl0aWNzYWRtaW47XG4gIG1hbmFnZW1lbnQ7XG4gIHdlYnByb3BlcnRpZXM7XG4gIGFjY291bnRzO1xuICBwcm9maWxlcztcbiAgaW5pdGlhbGl6YXRpb25QZW5kaW5nID0gdHJ1ZTtcblxuICBpbml0aWFsaXNhdGlvbnNQYXJhbXMhOiBHYXBpSW5pdGlhbGl6YXRpb25QYXJhbXM7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IEdhcGlJbml0aWFsaXphdGlvblBhcmFtcykge1xuICAgIGNvbnN0IHsgY2xpZW50SWQsIGF1dGhTY29wZXMsIEdBNEFkbWluRW1haWwgfSA9IG9wdGlvbnM7XG4gICAgdGhpcy5pbml0aWFsaXNhdGlvbnNQYXJhbXMgPSBvcHRpb25zO1xuICB9XG5cbiAgYXN5bmMgcmVmcmVzaEFjY2Vzc1Rva2VuKGVtYWlsOiBzdHJpbmcpIHtcbiAgICBjb25zdCBoZWFkZXJzID0geyBBY2NlcHQ6IFwiYXBwbGljYXRpb24vanNvblwiIH07XG5cbiAgICBjb25zdCBzZXJ2ZXJSZXNwb25zZSA9IGF3YWl0IGh0dHBDbGllbnQucG9zdChcbiAgICAgIHRoaXMuaW5pdGlhbGlzYXRpb25zUGFyYW1zLnNlcnZlclVybHMucmVmcmVzaFRva2VuLFxuICAgICAgeyBlbWFpbCB9LFxuICAgICAgeyBoZWFkZXJzIH1cbiAgICApO1xuICAgIHJldHVybiBzZXJ2ZXJSZXNwb25zZTtcbiAgfVxuXG4gIGFzeW5jIGVycm9ySGFuZGxlcihlcnJvciwgY29udGV4dCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAvLyAgIGNvbnNvbGUubG9nKFwiZXJyb3IgOj4+IFwiLCBlcnJvciwgY29udGV4dCk7XG4gICAgICBjb25zdCB7IHN0YXR1cywgcmVzdWx0IH0gPSBlcnJvcjtcbiAgICAgIGlmIChzdGF0dXMgPT09IDQwMSkge1xuICAgICAgICBjb25zdCB7IHJlZnJlc2hfdG9rZW4gfSA9XG4gICAgICAgICAgc3RvcmFnZVNlcnZpY2UuZ2V0R29vZ2xlTG9naW5SZXNwb25zZSgpIHx8IHt9O1xuICAgICAgICBjb25zb2xlLmxvZyhcInJlZnJlc2hfdG9rZW5cIiwgcmVmcmVzaF90b2tlbik7XG4gICAgICAgIC8vIGlmICghcmVmcmVzaF90b2tlbikgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgY29uc3QgeyBkYXRhOiBjcmVkZW50aWFscyB9ID0gKGF3YWl0IHRoaXMucmVmcmVzaEFjY2Vzc1Rva2VuKFxuICAgICAgICAgIHRoaXMuaW5pdGlhbGlzYXRpb25zUGFyYW1zLkdBNEFkbWluRW1haWxcbiAgICAgICAgKS5jYXRjaChyZWplY3QpKSBhcyB7IGRhdGE6IGFueSB9O1xuICAgICAgICBjb25zb2xlLmxvZyhcImNyZWRlbnRpYWxzIDo+PiBcIiwgY3JlZGVudGlhbHMpO1xuICAgICAgICBpZiAoIWNyZWRlbnRpYWxzKSByZWplY3QoZXJyb3IpO1xuXG4gICAgICAgIHN0b3JhZ2VTZXJ2aWNlLnNldEdvb2dsZUxvZ2luUmVzcG9uc2UoY3JlZGVudGlhbHMpO1xuICAgICAgICB0aGlzLnNldEFjY2Vzc1Rva2VuKCk7XG4gICAgICAgIGNvbnN0IHsgbWV0aG9kLCBhcmdzIH0gPSBjb250ZXh0O1xuICAgICAgICBjb25zb2xlLmxvZyhcIm1ldGhvZCwgYXJncyA6Pj4gXCIsIG1ldGhvZCwgYXJncyk7XG4gICAgICAgIHJlc29sdmUodGhpc1ttZXRob2RdKC4uLmFyZ3MpKTtcbiAgICAgIH1cblxuICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldCBnYXBpSXNTY3JpcHRBcmVBbGxEb3dubG9hZGVkKCkge1xuICAgIGNvbnN0IGdhcGkgPSB3aW5kb3c/LmdhcGk7XG4gICAgY29uc3QgYW5hbHl0aWNzID0gZ2FwaT8uY2xpZW50Py5hbmFseXRpY3M7XG4gICAgY29uc3QgYW5hbHl0aWNzZGF0YSA9IGdhcGk/LmNsaWVudD8uYW5hbHl0aWNzZGF0YTtcbiAgICBjb25zdCBhbmFseXRpY3NhZG1pbiA9IGdhcGk/LmNsaWVudD8uYW5hbHl0aWNzYWRtaW47XG4gICAgY29uc3QgYXJlTm90TG9hZGVkID0gIWdhcGkgfHwgIWFuYWx5dGljcyB8fCAhYW5hbHl0aWNzYWRtaW4gfHwgIWFuYWx5dGljc2RhdGFcbiAgICByZXR1cm4gIWFyZU5vdExvYWRlZFxuICB9XG4gIGFzeW5jIGluaXQoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGlmICghdGhpcy5nYXBpSXNTY3JpcHRBcmVBbGxEb3dubG9hZGVkKSB7XG4gICAgICAgIHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUoYXdhaXQgdGhpcy5pbml0KCkpO1xuICAgICAgICB9LCAxMDAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZ2FwaSA9IHdpbmRvdz8uZ2FwaTtcbiAgICAgICAgdGhpcy5hbmFseXRpY3MgPSB0aGlzLmdhcGkuY2xpZW50LmFuYWx5dGljcztcbiAgICAgICAgdGhpcy5yZWFsdGltZUFQSSA9IHRoaXMuZ2FwaS5jbGllbnQuYW5hbHl0aWNzLmRhdGEucmVhbHRpbWU7XG4gICAgICAgIHRoaXMuYW5hbHl0aWNzZGF0YSA9IHRoaXMuZ2FwaS5jbGllbnQuYW5hbHl0aWNzZGF0YTtcbiAgICAgICAgdGhpcy5hbmFseXRpY3NhZG1pbiA9IHRoaXMuZ2FwaS5jbGllbnQuYW5hbHl0aWNzYWRtaW47XG5cbiAgICAgICAgdGhpcy5tYW5hZ2VtZW50ID0gdGhpcy5nYXBpLmNsaWVudC5hbmFseXRpY3MubWFuYWdlbWVudDtcbiAgICAgICAgdGhpcy5hY2NvdW50cyA9IHRoaXMubWFuYWdlbWVudC5hY2NvdW50cztcbiAgICAgICAgdGhpcy53ZWJwcm9wZXJ0aWVzID0gdGhpcy5tYW5hZ2VtZW50LndlYnByb3BlcnRpZXM7XG4gICAgICAgIHRoaXMucHJvZmlsZXMgPSB0aGlzLm1hbmFnZW1lbnQucHJvZmlsZXM7XG5cbiAgICAgICAgdGhpcy5zZXRBY2Nlc3NUb2tlbigpO1xuXG4gICAgICAgIHRoaXMuaW5pdGlhbGl6YXRpb25QZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBxdWVyeVJlcG9ydChwcm9wZXJ0eSwgb3B0aW9ucykge1xuICAgIGNvbnNvbGUubG9nKFwicHJvcGVydHlcIiwgcHJvcGVydHkpO1xuICAgIGlmICghcHJvcGVydHkpIHRocm93IG5ldyBFcnJvcihcIkdvb2dsZSBwcm9wZXJ0eSBpc250IHNldFwiKTtcblxuICAgIHRyeSB7XG4gICAgICBsZXQgeyBkaW1lbnNpb25zLCBtZXRyaWNzLCBzdGFydERhdGUsIGVuZERhdGUgfSA9IG9wdGlvbnM7XG4gICAgICBtZXRyaWNzID0gKG1ldHJpY3MgfHwgW10pLm1hcCgoZSkgPT4ge1xuICAgICAgICAvLyByZXR1cm4geyBuYW1lOiBcImdhOlwiICsgZSB9O1xuICAgICAgICByZXR1cm4gdHlwZW9mIGUgPT09IFwic3RyaW5nXCIgPyB7IG5hbWU6IGUgfSA6IGU7XG4gICAgICB9KTtcbiAgICAgIGRpbWVuc2lvbnMgPSAoZGltZW5zaW9ucyB8fCBbXSkubWFwKChlKSA9PiB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgZSA9PT0gXCJzdHJpbmdcIiA/IHsgbmFtZTogZSB9IDogZTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXBvcnRzID0gYXdhaXQgdGhpcy5hbmFseXRpY3NkYXRhLnByb3BlcnRpZXNcbiAgICAgICAgLnJ1blJlcG9ydCh7XG4gICAgICAgICAgcHJvcGVydHksXG4gICAgICAgICAgZGF0ZVJhbmdlczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzdGFydERhdGU6IHN0YXJ0RGF0ZSxcbiAgICAgICAgICAgICAgZW5kRGF0ZTogZW5kRGF0ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgICBtZXRyaWNzOiBtZXRyaWNzLFxuICAgICAgICAgIGRpbWVuc2lvbnM6IGRpbWVuc2lvbnMsXG4gICAgICAgICAgbWV0cmljQWdncmVnYXRpb25zOiBbXCJUT1RBTFwiXSxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGUpID0+IHtcbiAgICAgICAgICByZXR1cm4gZTtcbiAgICAgICAgfSk7XG5cbiAgICAgIC8vIGlmIChvcHRpb25zLmZvcm1hdCA9PT0gXCJjaGFydF9kYXRhXCIpIHtcbiAgICAgIHJldHVybiBwYXJzZVJlcG9ydEFzQ2hhcnREYXRhKFtyZXBvcnRzXSk7XG4gICAgICAvLyB9XG5cbiAgICAgIC8vIHJldHVybiByZXBvcnRzO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5lcnJvckhhbmRsZXIoZXJyb3IsIHtcbiAgICAgICAgbWV0aG9kOiBcInF1ZXJ5UmVwb3J0XCIsXG4gICAgICAgIGFyZ3M6IFtwcm9wZXJ0eSwgb3B0aW9uc10sXG4gICAgICB9KTtcbiAgICAgIC8vICAgY29uc29sZS5sb2coXCJyZXNcIiwgcmVzKTtcbiAgICAgIC8vICAgdGhyb3cgcmVzO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGxpc3RBY2NvdW50cygpIHtcbiAgICBjb25zb2xlLmxvZyhcIiB0aGlzLmFuYWx5dGljc2FkbWluXCIsIHRoaXMuYW5hbHl0aWNzYWRtaW4pO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmFuYWx5dGljc2FkbWluLmFjY291bnRTdW1tYXJpZXNcbiAgICAgIC5saXN0KClcbiAgICAgIC50aGVuKChlKSA9PiBlLnJlc3VsdC5hY2NvdW50U3VtbWFyaWVzKVxuICAgICAgLmNhdGNoKGFzeW5jIChlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuZXJyb3JIYW5kbGVyKGUsIHtcbiAgICAgICAgICBtZXRob2Q6IFwibGlzdEFjY291bnRzXCIsXG4gICAgICAgICAgYXJnczogW10sXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZyhcInJlc1wiLCByZXMpO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgfSk7XG4gIH1cblxuICBzZXRBY2Nlc3NUb2tlbigpIHtcbiAgICBjb25zdCB7IGFjY2Vzc190b2tlbiB9ID0gc3RvcmFnZVNlcnZpY2UuZ2V0R29vZ2xlTG9naW5SZXNwb25zZSgpIHx8IHt9O1xuICAgIHRoaXMuZ2FwaS5jbGllbnQuc2V0VG9rZW4oe1xuICAgICAgYWNjZXNzX3Rva2VuOiBhY2Nlc3NfdG9rZW4sXG4gICAgfSk7XG4gICAgdGhpcy5nYXBpLmF1dGguc2V0VG9rZW4oe1xuICAgICAgYWNjZXNzX3Rva2VuOiBhY2Nlc3NfdG9rZW4sXG4gICAgfSk7XG4gIH1cbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG5pbXBvcnQgaHR0cENsaWVudCBmcm9tIFwiQHNyYy9kZXBzL2h0dHAtY2xpZW50XCI7XG5pbXBvcnQgbG9jYWxTdG9yYWdlU2VydmljZSBmcm9tIFwiLi9zdG9yYWdlLnNlcnZpY2VcIjtcblxuY29uc3QgaGVhZGVycyA9IHsgQWNjZXB0OiBcImFwcGxpY2F0aW9uL2pzb25cIiB9O1xuXG4vLyBhdXRoXG5leHBvcnQgY29uc3Qgc2lnbkluV2l0aEdvb2dsZSA9ICh7XG4gIHJlcXVlc3RDb2RlID0gZmFsc2UsXG4gIGNsaWVudElkLFxuICBzY29wZSxcbiAgYWNjZXNzVG9rZW5TZXJ2ZXJVcmxcbn06IHtcbiAgY2xpZW50SWQ6IHN0cmluZztcbiAgc2NvcGU6IHN0cmluZ1tdO1xuICByZXF1ZXN0Q29kZTogYm9vbGVhbjtcbiAgYWNjZXNzVG9rZW5TZXJ2ZXJVcmw6IHN0cmluZ1xufSkgPT4ge1xuICAvLyAgIGNvbnNvbGUubG9nKFwib2JqZWN0IDo+PiBcIiwgZ29vZ2xlQXV0aFNjb3Blcyk7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9IHVuZGVmaW5lZCAmJiB3aW5kb3c/Lmdvb2dsZSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCBnb29nbGVBY2NvdW50cyA9IHdpbmRvdy5nb29nbGUuYWNjb3VudHM7XG4gICAgICBjb25zdCBjbGllbnQgPSBnb29nbGVBY2NvdW50cy5vYXV0aDIuaW5pdENvZGVDbGllbnQoe1xuICAgICAgICBjbGllbnRfaWQ6IGNsaWVudElkLFxuICAgICAgICBzY29wZTogc2NvcGUsXG4gICAgICAgIHV4X21vZGU6IFwicG9wdXBcIixcbiAgICAgICAgaW5jbHVkZV9ncmFudGVkX3Njb3BlczogdHJ1ZSxcbiAgICAgICAgYWNjZXNzX3R5cGU6IFwib2ZmbGluZVwiLFxuICAgICAgICBjYWxsYmFjazogYXN5bmMgKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coXCJyZXNwb25zZVwiLCByZXNwb25zZSk7XG4gICAgICAgICAgYXdhaXQgZ2V0QWNjZXNzVG9rZW5Gcm9tU2VydmVyKHsgLi4ucmVzcG9uc2UsIHNlcnZlclVybDogYWNjZXNzVG9rZW5TZXJ2ZXJVcmwgfSlcbiAgICAgICAgICAgIC50aGVuKChlKSA9PiB7XG4gICAgICAgICAgICAgIGxvY2FsU3RvcmFnZVNlcnZpY2Uuc2V0R29vZ2xlTG9naW5SZXNwb25zZShlLmRhdGEpXG4gICAgICAgICAgICAgIHJlc29sdmUoZS5kYXRhKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gcmVqZWN0KGUpKTtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgaWYgKHJlcXVlc3RDb2RlKSBjbGllbnQucmVxdWVzdENvZGUoKTtcbiAgICB9KTtcbiAgfVxufTtcblxuYXN5bmMgZnVuY3Rpb24gZ2V0QWNjZXNzVG9rZW5Gcm9tU2VydmVyKHsgY29kZSwgc2VydmVyVXJsIH0pIHtcbiAgY29uc3Qgc2VydmVyUmVzcG9uc2UgPSBhd2FpdCBodHRwQ2xpZW50LnBvc3QoXG4gICAgc2VydmVyVXJsLFxuICAgIHtcbiAgICAgIGNvZGUsXG4gICAgICByZWRpcmVjdFVyaTogd2luZG93LmxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgd2luZG93LmxvY2F0aW9uLmhvc3QsXG4gICAgfSxcbiAgICB7IGhlYWRlcnMgfVxuICApO1xuXG4gIHJldHVybiBzZXJ2ZXJSZXNwb25zZSBhcyB7IGRhdGE6IGFueSB9O1xufVxuXG4vLyByZXBvcnRzXG5mdW5jdGlvbiBwcmVQYXJzZVJlcG9ydFJlcXVlc3RSZXN1bHQocmVzdWx0KSB7XG4gIGxldCB7XG4gICAgcmVzdWx0OiB7IG1ldHJpY0hlYWRlcnMgPSBbXSwgZGltZW5zaW9uSGVhZGVycyA9IFtdLCByb3dzID0gW10sIHRvdGFscyB9LFxuICB9ID0gcmVzdWx0WzBdO1xuICAvLyAgIGRpbWVuc2lvbkhlYWRlcnMgPSBkaW1lbnNpb25IZWFkZXJzLm1hcCgoZSkgPT4gcmVwbGFjZUluU3RyaW5nKGUsIFwiZ2E6XCIsIFwiXCIpKTtcbiAgLy8gICBtZXRyaWNIZWFkZXJzID0gbWV0cmljSGVhZGVycy5tYXAoKGUpID0+IHtcbiAgLy8gICAgIHJldHVybiB7XG4gIC8vICAgICAgIC4uLmUsXG4gIC8vICAgICAgIG5hbWU6IHJlcGxhY2VJblN0cmluZyhlLm5hbWUsIFwiZ2E6XCIsIFwiXCIpLFxuICAvLyAgICAgfTtcbiAgLy8gICB9KTtcblxuICBjb25zdCBwcmVDbGVhbmVkUm93cyA9IHJvd3MubWFwKChyb3cpID0+IHtcbiAgICBsZXQgeyBkaW1lbnNpb25WYWx1ZXMgPSBbXSwgbWV0cmljVmFsdWVzID0gW10gfSA9IHJvdztcbiAgICBkaW1lbnNpb25WYWx1ZXMgPSBkaW1lbnNpb25WYWx1ZXMubWFwKChlLCBpKSA9PiAoe1xuICAgICAgLi4uZGltZW5zaW9uSGVhZGVyc1tpXSxcbiAgICAgIC4uLmUsXG4gICAgfSkpO1xuICAgIG1ldHJpY1ZhbHVlcyA9IG1ldHJpY1ZhbHVlcy5tYXAoKGUsIGkpID0+ICh7XG4gICAgICAuLi5tZXRyaWNIZWFkZXJzW2ldLFxuICAgICAgLi4uZSxcbiAgICB9KSk7XG4gICAgcmV0dXJuIHsgZGltZW5zaW9uVmFsdWVzLCBtZXRyaWNWYWx1ZXMgfTtcbiAgICAvLyByZXR1cm4geyBbZGltZW5zaW9uc1tdXTogZGltZW5zaW9uc1swXSwgdmFsdWU6IG1ldHJpY3NbMF0udmFsdWVzWzBdIH07XG4gIH0pO1xuXG4gIGNvbnN0IG1ldHJpY3NUb3RhbHMgPSBtZXRyaWNIZWFkZXJzLnJlZHVjZSgoYWNjLCBjdXJyLCBjdXJyZW50SW5kZXgpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uYWNjLFxuICAgICAgW2N1cnIubmFtZV06IHRvdGFsc1swXT8ubWV0cmljVmFsdWVzW2N1cnJlbnRJbmRleF0/LnZhbHVlIHx8IDAsXG4gICAgfTtcbiAgfSwge30pO1xuICByZXR1cm4ge1xuICAgIG1ldHJpY3M6IG1ldHJpY0hlYWRlcnMsXG4gICAgZGltZW5zaW9uczogZGltZW5zaW9uSGVhZGVycyxcbiAgICByb3dzOiBwcmVDbGVhbmVkUm93cyxcbiAgICBtZXRyaWNzVG90YWxzOiBtZXRyaWNzVG90YWxzLFxuICB9O1xuICAvLyAgIGNvbnNvbGUubG9nKFwiZGltZW5zaW9uc1wiLCBwcmVDbGVhbmVkUm93cyk7XG59XG5cbmZ1bmN0aW9uIGdldENoYXJ0RGF0YVBlckRpbWVuc2lvbnMob3B0aW9ucykge1xuICBjb25zdCB7IGRhdGE6IHByb3ZpZGVkRGF0YSwgZGltZW5zaW9uIH0gPSBvcHRpb25zO1xuICBjb25zdCB7IHJvd3MsIGRpbWVuc2lvbnMsIG1ldHJpY3MsIG1ldHJpY3NUb3RhbHMgfSA9IHByb3ZpZGVkRGF0YTtcbiAgaWYgKCFkaW1lbnNpb25zLmluY2x1ZGVzKGRpbWVuc2lvbikpIHJldHVybiBwcm92aWRlZERhdGE7XG4gIGNvbnN0IGRpbWVuc2lvbkluZGV4ID0gZGltZW5zaW9ucy5pbmRleE9mKGRpbWVuc2lvbik7XG5cbiAgY29uc3QgZGF0YSA9IHJvd3MubWFwKChyb3cpID0+IHtcbiAgICBjb25zdCB7IGRpbWVuc2lvblZhbHVlcywgbWV0cmljVmFsdWVzIH0gPSByb3c7XG4gICAgY29uc3QgdmFsdWVzID0gbWV0cmljVmFsdWVzLnJlZHVjZSgocmVzdWx0LCBjdXJyZW50KSA9PiB7XG4gICAgICByZXR1cm4geyAuLi5yZXN1bHQsIFtjdXJyZW50Lm5hbWVdOiBjdXJyZW50LnZhbHVlIH07XG4gICAgfSwge30pO1xuICAgIHJldHVybiB7IG5hbWU6IGRpbWVuc2lvblZhbHVlc1tkaW1lbnNpb25JbmRleF0udmFsdWUsIC4uLnZhbHVlcyB9O1xuICB9KTtcblxuICAvLyAgIGNvbnNvbGUubG9nKCdtZXRyaWNzVG90YWxzIDo+PiAnLCBtZXRyaWNzVG90YWxzKTtcbiAgbGV0IHRvdGFscyA9IHt9O1xuICBtZXRyaWNzLmZvckVhY2goKHsgbmFtZSB9LCBpKSA9PiB7XG4gICAgLy8gdG90YWxzW25hbWVdID0gbWV0cmljc1RvdGFsc1tpXT8udmFsdWVcbiAgICB0b3RhbHNbbmFtZV0gPSBkYXRhLnJlZHVjZSgoYWNjLCBjdXJyKSA9PiB7XG4gICAgICBsZXQgb3V0cHV0ID0gYWNjO1xuICAgICAgLy8gICAgY29uc29sZS5sb2coJ2N1cnJba2V5XScsIG5hbWUsY3VycltuYW1lXSlcbiAgICAgIGlmIChjdXJyW25hbWVdKSBvdXRwdXQgKz0gcGFyc2VJbnQoY3VycltuYW1lXSk7XG4gICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH0sIDApO1xuICB9KTtcbiAgcmV0dXJuIHsgZGF0YSwgdG90YWxzIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVJlcG9ydEFzQ2hhcnREYXRhKHJlcG9ydHMpIHtcbiAgY29uc3QgcHJlUGFyc2VkRGF0YSA9IHByZVBhcnNlUmVwb3J0UmVxdWVzdFJlc3VsdChyZXBvcnRzKTtcbiAgLy8gICBjb25zb2xlLmxvZygncHJlUGFyc2VkRGF0YScsIHByZVBhcnNlZERhdGEpXG4gIGxldCB7IHJvd3MsIGRpbWVuc2lvbnMsIG1ldHJpY3NUb3RhbHMgfSA9IHByZVBhcnNlZERhdGE7XG5cbiAgZGltZW5zaW9ucyA9IGRpbWVuc2lvbnMucmVkdWNlKChhY2MsIGl0ZW0pID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uYWNjLFxuICAgICAgW2l0ZW0ubmFtZV06IGdldENoYXJ0RGF0YVBlckRpbWVuc2lvbnMoe1xuICAgICAgICBkYXRhOiBwcmVQYXJzZWREYXRhLFxuICAgICAgICBkaW1lbnNpb246IGl0ZW0sXG4gICAgICB9KSxcbiAgICB9O1xuICB9LCB7fSk7XG5cbiAgcmV0dXJuIHsgZGltZW5zaW9ucywgbWV0cmljc1RvdGFscyB9O1xufVxuXG4vLyBvdGhlcnNcbmZ1bmN0aW9uIHJlcGxhY2VJblN0cmluZyhzdHIsIHJlcGxhY2UsIGJ5KSB7XG4gIHJldHVybiBzdHIucmVwbGFjZShyZXBsYWNlLCBieSk7XG59XG5mdW5jdGlvbiByZW1vdmVQYXJ0T2ZTdHJpbmcoc3RyLCB0b0JlUmVtb3ZlZCkge1xuICByZXR1cm4gc3RyLnJlcGxhY2UodG9CZVJlbW92ZWQsIFwiXCIpO1xufVxuXG4vLyBkYXRlXG5leHBvcnQgZnVuY3Rpb24gZ2FEYXRlVG9KU0RhdGUoZGF0ZSwgY29uZmlncyA9IHsgdG9Mb2NhbGVEYXRlU3RyaW5nOiBudWxsIH0pIHtcbiAgY29uc3QgeyB0b0xvY2FsZURhdGVTdHJpbmcgfSA9IGNvbmZpZ3M7XG4gIGlmICghZGF0ZSB8fCBkYXRlLmxlbmd0aCA8IDgpIHJldHVybiBkYXRlO1xuXG4gIGNvbnN0IHllYXIgPSBkYXRlLnNsaWNlKDAsIDQpO1xuICBjb25zdCBtb250aCA9IGRhdGUuc2xpY2UoNCwgNik7XG4gIGNvbnN0IGRheSA9IGRhdGUuc2xpY2UoNiwgOCk7XG5cbiAgY29uc3QganNEYXRlID0gbmV3IERhdGUoYCR7eWVhcn0vJHttb250aH0vJHtkYXl9YCk7XG5cbiAgaWYgKHRvTG9jYWxlRGF0ZVN0cmluZykge1xuICAgIGNvbnN0IHsgbG9jYWxlLCBvcHRpb25zIH0gPSB0b0xvY2FsZURhdGVTdHJpbmc7XG4gICAgcmV0dXJuIGpzRGF0ZS50b0xvY2FsZURhdGVTdHJpbmcobG9jYWxlLCBvcHRpb25zKTtcbiAgfVxuXG4gIHJldHVybiBqc0RhdGU7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgc2lnbkluV2l0aEdvb2dsZSxcbiAgZ2V0QWNjZXNzVG9rZW5Gcm9tU2VydmVyLFxuICBwYXJzZVJlcG9ydEFzQ2hhcnREYXRhLFxuICBnYURhdGVUb0pTRGF0ZSxcbn07XG4iLCIvKiEganMtY29va2llIHYzLjAuNSB8IE1JVCAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tdmFyICovXG5mdW5jdGlvbiBhc3NpZ24gKHRhcmdldCkge1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG4gICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRhcmdldFxufVxuLyogZXNsaW50LWVuYWJsZSBuby12YXIgKi9cblxuLyogZXNsaW50LWRpc2FibGUgbm8tdmFyICovXG52YXIgZGVmYXVsdENvbnZlcnRlciA9IHtcbiAgcmVhZDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlWzBdID09PSAnXCInKSB7XG4gICAgICB2YWx1ZSA9IHZhbHVlLnNsaWNlKDEsIC0xKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoLyglW1xcZEEtRl17Mn0pKy9naSwgZGVjb2RlVVJJQ29tcG9uZW50KVxuICB9LFxuICB3cml0ZTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkucmVwbGFjZShcbiAgICAgIC8lKDJbMzQ2QkZdfDNbQUMtRl18NDB8NVtCREVdfDYwfDdbQkNEXSkvZyxcbiAgICAgIGRlY29kZVVSSUNvbXBvbmVudFxuICAgIClcbiAgfVxufTtcbi8qIGVzbGludC1lbmFibGUgbm8tdmFyICovXG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXZhciAqL1xuXG5mdW5jdGlvbiBpbml0IChjb252ZXJ0ZXIsIGRlZmF1bHRBdHRyaWJ1dGVzKSB7XG4gIGZ1bmN0aW9uIHNldCAobmFtZSwgdmFsdWUsIGF0dHJpYnV0ZXMpIHtcbiAgICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgYXR0cmlidXRlcyA9IGFzc2lnbih7fSwgZGVmYXVsdEF0dHJpYnV0ZXMsIGF0dHJpYnV0ZXMpO1xuXG4gICAgaWYgKHR5cGVvZiBhdHRyaWJ1dGVzLmV4cGlyZXMgPT09ICdudW1iZXInKSB7XG4gICAgICBhdHRyaWJ1dGVzLmV4cGlyZXMgPSBuZXcgRGF0ZShEYXRlLm5vdygpICsgYXR0cmlidXRlcy5leHBpcmVzICogODY0ZTUpO1xuICAgIH1cbiAgICBpZiAoYXR0cmlidXRlcy5leHBpcmVzKSB7XG4gICAgICBhdHRyaWJ1dGVzLmV4cGlyZXMgPSBhdHRyaWJ1dGVzLmV4cGlyZXMudG9VVENTdHJpbmcoKTtcbiAgICB9XG5cbiAgICBuYW1lID0gZW5jb2RlVVJJQ29tcG9uZW50KG5hbWUpXG4gICAgICAucmVwbGFjZSgvJSgyWzM0NkJdfDVFfDYwfDdDKS9nLCBkZWNvZGVVUklDb21wb25lbnQpXG4gICAgICAucmVwbGFjZSgvWygpXS9nLCBlc2NhcGUpO1xuXG4gICAgdmFyIHN0cmluZ2lmaWVkQXR0cmlidXRlcyA9ICcnO1xuICAgIGZvciAodmFyIGF0dHJpYnV0ZU5hbWUgaW4gYXR0cmlidXRlcykge1xuICAgICAgaWYgKCFhdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdKSB7XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIHN0cmluZ2lmaWVkQXR0cmlidXRlcyArPSAnOyAnICsgYXR0cmlidXRlTmFtZTtcblxuICAgICAgaWYgKGF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV0gPT09IHRydWUpIHtcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgLy8gQ29uc2lkZXJzIFJGQyA2MjY1IHNlY3Rpb24gNS4yOlxuICAgICAgLy8gLi4uXG4gICAgICAvLyAzLiAgSWYgdGhlIHJlbWFpbmluZyB1bnBhcnNlZC1hdHRyaWJ1dGVzIGNvbnRhaW5zIGEgJXgzQiAoXCI7XCIpXG4gICAgICAvLyAgICAgY2hhcmFjdGVyOlxuICAgICAgLy8gQ29uc3VtZSB0aGUgY2hhcmFjdGVycyBvZiB0aGUgdW5wYXJzZWQtYXR0cmlidXRlcyB1cCB0byxcbiAgICAgIC8vIG5vdCBpbmNsdWRpbmcsIHRoZSBmaXJzdCAleDNCIChcIjtcIikgY2hhcmFjdGVyLlxuICAgICAgLy8gLi4uXG4gICAgICBzdHJpbmdpZmllZEF0dHJpYnV0ZXMgKz0gJz0nICsgYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXS5zcGxpdCgnOycpWzBdO1xuICAgIH1cblxuICAgIHJldHVybiAoZG9jdW1lbnQuY29va2llID1cbiAgICAgIG5hbWUgKyAnPScgKyBjb252ZXJ0ZXIud3JpdGUodmFsdWUsIG5hbWUpICsgc3RyaW5naWZpZWRBdHRyaWJ1dGVzKVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0IChuYW1lKSB7XG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcgfHwgKGFyZ3VtZW50cy5sZW5ndGggJiYgIW5hbWUpKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICAvLyBUbyBwcmV2ZW50IHRoZSBmb3IgbG9vcCBpbiB0aGUgZmlyc3QgcGxhY2UgYXNzaWduIGFuIGVtcHR5IGFycmF5XG4gICAgLy8gaW4gY2FzZSB0aGVyZSBhcmUgbm8gY29va2llcyBhdCBhbGwuXG4gICAgdmFyIGNvb2tpZXMgPSBkb2N1bWVudC5jb29raWUgPyBkb2N1bWVudC5jb29raWUuc3BsaXQoJzsgJykgOiBbXTtcbiAgICB2YXIgamFyID0ge307XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb29raWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgcGFydHMgPSBjb29raWVzW2ldLnNwbGl0KCc9Jyk7XG4gICAgICB2YXIgdmFsdWUgPSBwYXJ0cy5zbGljZSgxKS5qb2luKCc9Jyk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBmb3VuZCA9IGRlY29kZVVSSUNvbXBvbmVudChwYXJ0c1swXSk7XG4gICAgICAgIGphcltmb3VuZF0gPSBjb252ZXJ0ZXIucmVhZCh2YWx1ZSwgZm91bmQpO1xuXG4gICAgICAgIGlmIChuYW1lID09PSBmb3VuZCkge1xuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5hbWUgPyBqYXJbbmFtZV0gOiBqYXJcbiAgfVxuXG4gIHJldHVybiBPYmplY3QuY3JlYXRlKFxuICAgIHtcbiAgICAgIHNldCxcbiAgICAgIGdldCxcbiAgICAgIHJlbW92ZTogZnVuY3Rpb24gKG5hbWUsIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgc2V0KFxuICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgJycsXG4gICAgICAgICAgYXNzaWduKHt9LCBhdHRyaWJ1dGVzLCB7XG4gICAgICAgICAgICBleHBpcmVzOiAtMVxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgd2l0aEF0dHJpYnV0ZXM6IGZ1bmN0aW9uIChhdHRyaWJ1dGVzKSB7XG4gICAgICAgIHJldHVybiBpbml0KHRoaXMuY29udmVydGVyLCBhc3NpZ24oe30sIHRoaXMuYXR0cmlidXRlcywgYXR0cmlidXRlcykpXG4gICAgICB9LFxuICAgICAgd2l0aENvbnZlcnRlcjogZnVuY3Rpb24gKGNvbnZlcnRlcikge1xuICAgICAgICByZXR1cm4gaW5pdChhc3NpZ24oe30sIHRoaXMuY29udmVydGVyLCBjb252ZXJ0ZXIpLCB0aGlzLmF0dHJpYnV0ZXMpXG4gICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICBhdHRyaWJ1dGVzOiB7IHZhbHVlOiBPYmplY3QuZnJlZXplKGRlZmF1bHRBdHRyaWJ1dGVzKSB9LFxuICAgICAgY29udmVydGVyOiB7IHZhbHVlOiBPYmplY3QuZnJlZXplKGNvbnZlcnRlcikgfVxuICAgIH1cbiAgKVxufVxuXG52YXIgYXBpID0gaW5pdChkZWZhdWx0Q29udmVydGVyLCB7IHBhdGg6ICcvJyB9KTtcbi8qIGVzbGludC1lbmFibGUgbm8tdmFyICovXG5cbmV4cG9ydCB7IGFwaSBhcyBkZWZhdWx0IH07XG4iLCJpbXBvcnQgY29va2llcyBmcm9tIFwianMtY29va2llXCI7XG5cbmNsYXNzIENvb2tpZXNTdG9yYWdlIHtcbiAgc3RvcmFnZSA9IGNvb2tpZXM7XG5cbiAgc2V0KGtleTogc3RyaW5nLCB2YWx1ZTogYW55LCBvcHRpb25zPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfSkge1xuICAgIHZhbHVlID0gb3B0aW9ucyAmJiBvcHRpb25zLmlzT2JqZWN0ID8gSlNPTi5zdHJpbmdpZnkodmFsdWUpIDogdmFsdWU7XG4gICAgcmV0dXJuIHRoaXMuc3RvcmFnZS5zZXQoa2V5LCB2YWx1ZSk7XG4gIH1cbiAgZ2V0KGtleSkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gSlNPTi5wYXJzZSh0aGlzLnN0b3JhZ2UuZ2V0KGtleSkpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdG9yYWdlLmdldChrZXkpO1xuICAgIH1cbiAgfVxuXG4gIHJlbW92ZShrZXkpIHtcbiAgICB0aGlzLnN0b3JhZ2UucmVtb3ZlKGtleSlcbiAgfVxufVxuY2xhc3MgTG9jYWxTdG9yYWdlU2VydmljZSB7XG4gIC8vIHN0b3JhZ2UgPSBuZXcgTG9jYWxTdG9yYWdlKCk7XG4gIHN0b3JhZ2UgPSBuZXcgQ29va2llc1N0b3JhZ2UoKTtcblxuICAvLyBrZXlzXG4gIGtleV9Hb29nbGVMb2dpblJlc3BvbnNlOiBzdHJpbmcgPSBcImtleV9Hb29nbGVMb2dpblJlc3BvbnNlXCI7XG5cbiAgc2V0R29vZ2xlTG9naW5SZXNwb25zZShkYXRhKSB7XG4gICAgdGhpcy5zdG9yYWdlLnNldCh0aGlzLmtleV9Hb29nbGVMb2dpblJlc3BvbnNlLCBKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gIH1cblxuICBnZXRHb29nbGVMb2dpblJlc3BvbnNlKCkge1xuICAgIHJldHVybiB0aGlzLnN0b3JhZ2UuZ2V0KHRoaXMua2V5X0dvb2dsZUxvZ2luUmVzcG9uc2UpO1xuICB9XG4gIGNsZWFyR29vZ2xlTG9naW5SZXNwb25zZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zdG9yYWdlLnJlbW92ZSh0aGlzLmtleV9Hb29nbGVMb2dpblJlc3BvbnNlKTtcbiAgfVxufVxuXG5jb25zdCBsb2NhbFN0b3JhZ2VTZXJ2aWNlID0gbmV3IExvY2FsU3RvcmFnZVNlcnZpY2UoKTtcblxuZXhwb3J0IGRlZmF1bHQgbG9jYWxTdG9yYWdlU2VydmljZTtcbiIsImltcG9ydCB7IFBlcmlvZCB9IGZyb20gXCJAc3JjL2xpYi9tYXRvbW8vdHlwZXNcIjtcblxuZXhwb3J0IGNsYXNzIEFuYWx5dGljc0NsaWVudEJhc2VDbGFzcyB7XG4gIGFzeW5jIGdldFZpc2l0c1BlclBlcmlvZChkYXRhOiBUR2V0VmlzaXRzUGFyYW1zKSB7fVxuXG4gIGFzeW5jIGdldEV2ZW50Q291bnQoZGF0YTogVEdldEV2ZW50Q291bnRQYXJhbXMpIHt9XG59XG5cbmV4cG9ydCB0eXBlIFRHZXRWaXNpdHNQYXJhbXMgPSB7XG4gIHBlcmlvZDogVFBlcmlvZDtcbiAgZ2E0PzogeyBwcm9wZXJ0eTogc3RyaW5nOyBmb3JtYXQ/OiBzdHJpbmcgfTtcbn07XG5leHBvcnQgdHlwZSBUR2V0RXZlbnRDb3VudFBhcmFtcyA9IHtcbiAgZXZlbnRzOiBBbmFseXRpY3NFdmVudHNbXTtcbiAgcGVyaW9kOiBUUGVyaW9kO1xuICBnYTQ/OiB7IHByb3BlcnR5OiBzdHJpbmc7IGZvcm1hdD86IHN0cmluZyB9O1xuICBtYXRvbW8/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xufTtcblxuZXhwb3J0IHR5cGUgQW5hbHl0aWNzRXZlbnRzID0ge1xuICBuYW1lOiBzdHJpbmc7XG4gIG1ldGE/OiB7XG4gICAgZ2E0Pzoge1xuICAgICAgY29udmVyc2lvbj86IGJvb2xlYW47XG4gICAgICBba2V5OiBzdHJpbmddOiBhbnk7XG4gICAgfTtcbiAgICBtYXRvbW8/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICB9O1xufTtcblxuZXhwb3J0IHR5cGUgRGF0ZUludGVydmFsID0ge1xuICBmcm9tOiBzdHJpbmcgfCBudWxsO1xuICB0bzogc3RyaW5nO1xufTtcblxuZXhwb3J0IHR5cGUgVFBlcmlvZCA9IHtcbiAgZm9ybWF0OiBcIm1hZ2ljXCIgfCBcImRhdGVcIjtcbiAgbWFnaWNWYWx1ZTogc3RyaW5nIHwgbnVtYmVyO1xuICB2YWx1ZToge1xuICAgIHN0YXJ0Pzogc3RyaW5nO1xuICAgIGVuZD86IHN0cmluZztcbiAgfTtcbn07XG4iLCJpbXBvcnQgeyBUUGVyaW9kIH0gZnJvbSBcIkBzcmMvdHlwZXNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrUGVyaW9kKHBlcmlvZDogVFBlcmlvZCkge1xuICBjb25zdCB7IGZvcm1hdCwgdmFsdWUsIG1hZ2ljVmFsdWUgfSA9IHBlcmlvZDtcbiAgaWYgKCFmb3JtYXQpIHRocm93IG5ldyBFcnJvcihcInBlcmlvZCBmb3JtYXQgaXMgcmVxdWlyZWRcIik7XG4gIGlmIChmb3JtYXQgPT09IFwibWFnaWNcIikge1xuICAgIC8vIGlmICh0eXBlICE9PSBcImRheVwiKSB7XG4gICAgLy8gICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgLy8gICAgIFwiVW5leHBlY3RlZCBQZXJpb2QgdHlwZSBmb3IgZm9ybWF0IG1hZ2ljLiBvbmx5ICdkYXknIGlzIHN1cG9ydGVkXCJcbiAgICAvLyAgICk7XG4gICAgLy8gfVxuICAgIGlmICh0eXBlb2YgbWFnaWNWYWx1ZSAhPT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgbWFnaWNWYWx1ZSAhPT0gXCJudW1iZXJcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIiB1bmV4cGVjdGVkIG1hZ2ljVmFsdWUgXCIrbWFnaWNWYWx1ZStcIiBmb3IgZm9ybWF0IG1hZ2ljLiBNdXN0IGJlIHN0cmluZ3xudW1iZXJcIlxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgaWYgKGZvcm1hdCA9PT0gXCJkYXRlXCIpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiIHx8ICF2YWx1ZS5zdGFydClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCIgdW5leHBlY3RlZCBwZXJpb2QgdmFsdWUgZm9yIGZvcm1hdCBkYXRlLiBtdXN0IGJlIG9mIHR5cGUge3N0YXJ0OnN0cmluZywgZW5kOnN0cmluZ31cIlxuICAgICAgKTtcbiAgfVxuXG4gIC8vIFRPRE86OiBjaGVjayBpZiBpcyB2YWxpZCBkYXRlXG59XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgZGVmaW5pdGlvbikge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmosIHByb3ApIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApOyB9IiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJpbXBvcnQge1xuICBBbmFseXRpY3NDbGllbnRCYXNlQ2xhc3MsXG4gIFRHZXRFdmVudENvdW50UGFyYW1zLFxuICBUR2V0VmlzaXRzUGFyYW1zLFxuICBUUGVyaW9kLFxufSBmcm9tIFwiQHNyYy90eXBlc1wiO1xuaW1wb3J0IHsgR2FwaUFuYWx5dGljc1NlcnZpY2UgfSBmcm9tIFwiLi9hbmFseXRpY3MvZ2FwaS5hbmFseXRpY3Muc2VydmljZVwiO1xuaW1wb3J0IHsgR2FwaUluaXRpYWxpemF0aW9uUGFyYW1zIH0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCB7IGNoZWNrUGVyaW9kIH0gZnJvbSBcIkBzcmMvdXRpbHNcIjtcblxuZnVuY3Rpb24gY29udmVydEV2ZW50VG9HQTRFdmVudChldmVudHM6IFRHZXRFdmVudENvdW50UGFyYW1zW1wiZXZlbnRzXCJdKSB7XG4gIGNvbnN0IGdhNEV2ZW50ID0gZXZlbnRzLm1hcCgoZXYpID0+IHtcbiAgICBjb25zdCB7IG5hbWUsIG1ldGE6IHsgZ2E0IH0gPSB7fSB9ID0gZXY7XG4gICAgaWYgKGdhNCkge1xuICAgICAgaWYgKGdhNC5jb252ZXJzaW9uKSByZXR1cm4gYGNvbnZlcnNpb25zOiR7bmFtZX1gO1xuICAgIH1cbiAgICByZXR1cm4gbmFtZTtcbiAgfSk7XG5cbiAgcmV0dXJuIGdhNEV2ZW50O1xufVxuXG5mdW5jdGlvbiBnZXRHQTREYXRlRnJvbVBlcmlvZChwZXJpb2Q6IFRQZXJpb2QpIHtcbiAgY2hlY2tQZXJpb2QocGVyaW9kKTtcbiAgY29uc3QgeyBmb3JtYXQsIG1hZ2ljVmFsdWUsIHZhbHVlIH0gPSBwZXJpb2Q7XG4gIGlmIChmb3JtYXQgPT09IFwibWFnaWNcIikge1xuICAgIHJldHVybiB7XG4gICAgICBzdGFydERhdGU6IG1hZ2ljVmFsdWUgKyBcImRheXNBZ29cIixcbiAgICAgIGVuZERhdGU6IFwidG9kYXlcIixcbiAgICB9O1xuICB9XG4gIGlmIChmb3JtYXQgPT09IFwiZGF0ZVwiKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXJ0RGF0ZTogdmFsdWUuc3RhcnQsXG4gICAgICBlbmREYXRlOiB2YWx1ZS5lbmQgfHwgXCJ0b2RheVwiLFxuICAgIH07XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEdBNENsaWVudEZhY2FkZSBleHRlbmRzIEFuYWx5dGljc0NsaWVudEJhc2VDbGFzcyB7XG4gIGdhcGlTZXJ2aWNlITogR2FwaUFuYWx5dGljc1NlcnZpY2U7XG4gIGluaXRpYWxpc2F0aW9uc1BhcmFtcyE6IEdhcGlJbml0aWFsaXphdGlvblBhcmFtcztcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiBHYXBpSW5pdGlhbGl6YXRpb25QYXJhbXMpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuaW5pdGlhbGlzYXRpb25zUGFyYW1zID0gb3B0aW9uc1xuICAgIHRoaXMuZ2FwaVNlcnZpY2UgPSBuZXcgR2FwaUFuYWx5dGljc1NlcnZpY2Uob3B0aW9ucyk7XG4gIH1cblxuICBhc3luYyBsaXN0QWNjb3VudHMoKSB7XG4gICAgaWYgKCF0aGlzLmdhcGlTZXJ2aWNlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiR0E0IGNsaWVudCBpc24ndCBpbml0aWFsaXplZCBjb3JyZWN0bHkuIFBsZWFzZSBtYWtlIHN1cmUgdGhlIGFjdGl2ZSBjbGllbnQgaXMgR0E0XCJcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICghdGhpcy5nYXBpU2VydmljZS5nYXBpSXNTY3JpcHRBcmVBbGxEb3dubG9hZGVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiR2FwaSBzY3JpcHQgYXJlIHN0aWxsIGxvYWRpbmcuIFBMZWFzZSByZXRyeS5cIlxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXdhaXQgdGhpcy5nYXBpU2VydmljZS5saXN0QWNjb3VudHMoKTtcbiAgfVxuXG4gIGFzeW5jIGdldFZpc2l0c1BlclBlcmlvZChkYXRhOiBUR2V0VmlzaXRzUGFyYW1zKTogUHJvbWlzZTxhbnk+IHtcbiAgICBjb25zdCB7IHBlcmlvZCwgZ2E0OiB7IHByb3BlcnR5LCBmb3JtYXQgfSA9IHt9IH0gPSBkYXRhO1xuICAgIHRoaXMuY2hlY2tQcm9wZXJ0eShwcm9wZXJ0eSk7XG4gICAgbGV0IG9wdGlvbnMgPSB7XG4gICAgICBkaW1lbnNpb25zOiBbXCJkYXRlXCJdLFxuICAgICAgbWV0cmljczogW1xuICAgICAgICBcInNlc3Npb25zXCIsXG4gICAgICAgIFwibmV3VXNlcnNcIixcbiAgICAgICAgXCJzY3JlZW5QYWdlVmlld3NcIixcbiAgICAgICAgXCJhdmVyYWdlU2Vzc2lvbkR1cmF0aW9uXCIsXG4gICAgICBdLFxuICAgICAgLi4uZ2V0R0E0RGF0ZUZyb21QZXJpb2QocGVyaW9kKSxcbiAgICAgIGZvcm1hdCxcbiAgICB9O1xuXG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2FwaVNlcnZpY2UucXVlcnlSZXBvcnQocHJvcGVydHksIG9wdGlvbnMpO1xuICB9XG5cbiAgYXN5bmMgZ2V0RXZlbnRDb3VudChkYXRhOiBUR2V0RXZlbnRDb3VudFBhcmFtcyk6IFByb21pc2U8YW55PiB7XG4gICAgY29uc3QgeyBldmVudHMsIHBlcmlvZCwgZ2E0OiB7IHByb3BlcnR5LCBmb3JtYXQgfSA9IHt9IH0gPSBkYXRhO1xuICAgIHRoaXMuY2hlY2tQcm9wZXJ0eShwcm9wZXJ0eSk7XG5cbiAgICBjb25zdCBtZXRyaWNzID0gY29udmVydEV2ZW50VG9HQTRFdmVudChldmVudHMpO1xuICAgIGxldCBvcHRpb25zID0ge1xuICAgICAgZGltZW5zaW9uczogW10sXG4gICAgICBtZXRyaWNzLFxuICAgICAgLi4uZ2V0R0E0RGF0ZUZyb21QZXJpb2QocGVyaW9kKSxcbiAgICAgIGZvcm1hdCxcbiAgICB9O1xuXG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2FwaVNlcnZpY2VcbiAgICAgIC5xdWVyeVJlcG9ydChwcm9wZXJ0eSwgb3B0aW9ucylcbiAgICAgIC50aGVuKChlOiBhbnkpID0+IHtcbiAgICAgICAgY29uc3QgdG90YWxzID0gZT8ubWV0cmljc1RvdGFscyB8fCB7fTtcbiAgICAgICAgY29uc29sZS5sb2coJ3RvdGFscycsIHRvdGFscywgbWV0cmljcylcbiAgICAgICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBtZXRyaWNzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgIGNvbnN0IGVsID0gZXZlbnRzLm1hcChlPT5lLm5hbWUpW2luZGV4XTtcbiAgICAgICAgICByZXN1bHRbZWxdID0gdG90YWxzW21ldHJpY3NbaW5kZXhdXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGNoZWNrUHJvcGVydHkocHJvcGVydHk6IHN0cmluZyB8IHVuZGVmaW5lZCkge1xuICAgIGlmICghcHJvcGVydHkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImdhNFByb3BwZXJ0eUlEIGlzIHJlcXVpcmVkXCIpO1xuICAgIH1cbiAgfVxufVxuIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsImEiLCJpIiwidGhpcyIsImJpbmQiLCJmbiIsInRoaXNBcmciLCJhcHBseSIsImFyZ3VtZW50cyIsInRvU3RyaW5nIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiZ2V0UHJvdG90eXBlT2YiLCJraW5kT2YiLCJjYWNoZSIsImNyZWF0ZSIsInRoaW5nIiwic3RyIiwiY2FsbCIsInNsaWNlIiwidG9Mb3dlckNhc2UiLCJraW5kT2ZUZXN0IiwidHlwZSIsInR5cGVPZlRlc3QiLCJpc0FycmF5IiwiQXJyYXkiLCJpc1VuZGVmaW5lZCIsImlzQXJyYXlCdWZmZXIiLCJpc1N0cmluZyIsImlzRnVuY3Rpb24iLCJpc051bWJlciIsImlzT2JqZWN0IiwiaXNQbGFpbk9iamVjdCIsInZhbCIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwiaXRlcmF0b3IiLCJpc0RhdGUiLCJpc0ZpbGUiLCJpc0Jsb2IiLCJpc0ZpbGVMaXN0IiwiaXNVUkxTZWFyY2hQYXJhbXMiLCJmb3JFYWNoIiwib2JqIiwiYWxsT3duS2V5cyIsImwiLCJsZW5ndGgiLCJrZXlzIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImxlbiIsImtleSIsImZpbmRLZXkiLCJfa2V5IiwiX2dsb2JhbCIsImdsb2JhbFRoaXMiLCJzZWxmIiwid2luZG93IiwiZ2xvYmFsIiwiaXNDb250ZXh0RGVmaW5lZCIsImNvbnRleHQiLCJpc1R5cGVkQXJyYXkiLCJUeXBlZEFycmF5IiwiVWludDhBcnJheSIsImlzSFRNTEZvcm0iLCJoYXNPd25Qcm9wZXJ0eSIsInByb3AiLCJpc1JlZ0V4cCIsInJlZHVjZURlc2NyaXB0b3JzIiwicmVkdWNlciIsImRlc2NyaXB0b3JzIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsInJlZHVjZWREZXNjcmlwdG9ycyIsImRlc2NyaXB0b3IiLCJuYW1lIiwicmV0IiwiZGVmaW5lUHJvcGVydGllcyIsIkFMUEhBIiwiRElHSVQiLCJBTFBIQUJFVCIsIkFMUEhBX0RJR0lUIiwidG9VcHBlckNhc2UiLCJpc0FzeW5jRm4iLCJpc0J1ZmZlciIsImNvbnN0cnVjdG9yIiwiaXNGb3JtRGF0YSIsImtpbmQiLCJGb3JtRGF0YSIsImFwcGVuZCIsImlzQXJyYXlCdWZmZXJWaWV3IiwicmVzdWx0IiwiQXJyYXlCdWZmZXIiLCJpc1ZpZXciLCJidWZmZXIiLCJpc0Jvb2xlYW4iLCJpc1N0cmVhbSIsInBpcGUiLCJtZXJnZSIsImNhc2VsZXNzIiwiYXNzaWduVmFsdWUiLCJ0YXJnZXRLZXkiLCJleHRlbmQiLCJiIiwidHJpbSIsInJlcGxhY2UiLCJzdHJpcEJPTSIsImNvbnRlbnQiLCJjaGFyQ29kZUF0IiwiaW5oZXJpdHMiLCJzdXBlckNvbnN0cnVjdG9yIiwicHJvcHMiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiYXNzaWduIiwidG9GbGF0T2JqZWN0Iiwic291cmNlT2JqIiwiZGVzdE9iaiIsImZpbHRlciIsInByb3BGaWx0ZXIiLCJtZXJnZWQiLCJlbmRzV2l0aCIsInNlYXJjaFN0cmluZyIsInBvc2l0aW9uIiwiU3RyaW5nIiwidW5kZWZpbmVkIiwibGFzdEluZGV4IiwiaW5kZXhPZiIsInRvQXJyYXkiLCJhcnIiLCJmb3JFYWNoRW50cnkiLCJuZXh0IiwiZG9uZSIsInBhaXIiLCJtYXRjaEFsbCIsInJlZ0V4cCIsIm1hdGNoZXMiLCJleGVjIiwicHVzaCIsImhhc093blByb3AiLCJmcmVlemVNZXRob2RzIiwiZW51bWVyYWJsZSIsIndyaXRhYmxlIiwic2V0IiwiRXJyb3IiLCJ0b09iamVjdFNldCIsImFycmF5T3JTdHJpbmciLCJkZWxpbWl0ZXIiLCJzcGxpdCIsInRvQ2FtZWxDYXNlIiwibSIsInAxIiwicDIiLCJub29wIiwidG9GaW5pdGVOdW1iZXIiLCJkZWZhdWx0VmFsdWUiLCJOdW1iZXIiLCJpc0Zpbml0ZSIsImdlbmVyYXRlU3RyaW5nIiwic2l6ZSIsImFscGhhYmV0IiwiTWF0aCIsInJhbmRvbSIsImlzU3BlY0NvbXBsaWFudEZvcm0iLCJ0b0pTT05PYmplY3QiLCJzdGFjayIsInZpc2l0Iiwic291cmNlIiwidGFyZ2V0IiwicmVkdWNlZFZhbHVlIiwiaXNUaGVuYWJsZSIsInRoZW4iLCJjYXRjaCIsIkF4aW9zRXJyb3IiLCJtZXNzYWdlIiwiY29kZSIsImNvbmZpZyIsInJlcXVlc3QiLCJyZXNwb25zZSIsImNhcHR1cmVTdGFja1RyYWNlIiwidXRpbHMiLCJ0b0pTT04iLCJkZXNjcmlwdGlvbiIsIm51bWJlciIsImZpbGVOYW1lIiwibGluZU51bWJlciIsImNvbHVtbk51bWJlciIsInN0YXR1cyIsImZyb20iLCJlcnJvciIsImN1c3RvbVByb3BzIiwiYXhpb3NFcnJvciIsImNhdXNlIiwiaXNWaXNpdGFibGUiLCJyZW1vdmVCcmFja2V0cyIsInJlbmRlcktleSIsInBhdGgiLCJkb3RzIiwiY29uY2F0IiwibWFwIiwidG9rZW4iLCJqb2luIiwicHJlZGljYXRlcyIsInRlc3QiLCJmb3JtRGF0YSIsIm9wdGlvbnMiLCJUeXBlRXJyb3IiLCJtZXRhVG9rZW5zIiwiaW5kZXhlcyIsIm9wdGlvbiIsInZpc2l0b3IiLCJkZWZhdWx0VmlzaXRvciIsInVzZUJsb2IiLCJCbG9iIiwiY29udmVydFZhbHVlIiwidG9JU09TdHJpbmciLCJCdWZmZXIiLCJKU09OIiwic3RyaW5naWZ5Iiwic29tZSIsImlzRmxhdEFycmF5IiwiZWwiLCJpbmRleCIsImV4cG9zZWRIZWxwZXJzIiwiYnVpbGQiLCJwb3AiLCJlbmNvZGUiLCJjaGFyTWFwIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwibWF0Y2giLCJBeGlvc1VSTFNlYXJjaFBhcmFtcyIsInBhcmFtcyIsIl9wYWlycyIsImVuY29kZXIiLCJfZW5jb2RlIiwiYnVpbGRVUkwiLCJ1cmwiLCJzZXJpYWxpemVGbiIsInNlcmlhbGl6ZSIsInNlcmlhbGl6ZWRQYXJhbXMiLCJoYXNobWFya0luZGV4IiwiaGFuZGxlcnMiLCJ1c2UiLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsInN5bmNocm9ub3VzIiwicnVuV2hlbiIsImVqZWN0IiwiaWQiLCJjbGVhciIsImgiLCJzaWxlbnRKU09OUGFyc2luZyIsImZvcmNlZEpTT05QYXJzaW5nIiwiY2xhcmlmeVRpbWVvdXRFcnJvciIsImlzQnJvd3NlciIsImNsYXNzZXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJwcm90b2NvbHMiLCJoYXNCcm93c2VyRW52IiwiZG9jdW1lbnQiLCJoYXNTdGFuZGFyZEJyb3dzZXJFbnYiLCJwcm9kdWN0IiwibmF2aWdhdG9yIiwiaGFzU3RhbmRhcmRCcm93c2VyV2ViV29ya2VyRW52IiwiV29ya2VyR2xvYmFsU2NvcGUiLCJpbXBvcnRTY3JpcHRzIiwiYnVpbGRQYXRoIiwiaXNOdW1lcmljS2V5IiwiaXNMYXN0IiwiYXJyYXlUb09iamVjdCIsImVudHJpZXMiLCJwYXJzZVByb3BQYXRoIiwiZGVmYXVsdHMiLCJ0cmFuc2l0aW9uYWwiLCJhZGFwdGVyIiwidHJhbnNmb3JtUmVxdWVzdCIsImRhdGEiLCJoZWFkZXJzIiwiY29udGVudFR5cGUiLCJnZXRDb250ZW50VHlwZSIsImhhc0pTT05Db250ZW50VHlwZSIsImlzT2JqZWN0UGF5bG9hZCIsInNldENvbnRlbnRUeXBlIiwicGxhdGZvcm0iLCJoZWxwZXJzIiwiaXNOb2RlIiwidG9VUkxFbmNvZGVkRm9ybSIsImZvcm1TZXJpYWxpemVyIiwiX0Zvcm1EYXRhIiwiZW52IiwicmF3VmFsdWUiLCJwYXJzZXIiLCJwYXJzZSIsImUiLCJzdHJpbmdpZnlTYWZlbHkiLCJ0cmFuc2Zvcm1SZXNwb25zZSIsIkpTT05SZXF1ZXN0ZWQiLCJyZXNwb25zZVR5cGUiLCJzdHJpY3RKU09OUGFyc2luZyIsIkVSUl9CQURfUkVTUE9OU0UiLCJ0aW1lb3V0IiwieHNyZkNvb2tpZU5hbWUiLCJ4c3JmSGVhZGVyTmFtZSIsIm1heENvbnRlbnRMZW5ndGgiLCJtYXhCb2R5TGVuZ3RoIiwidmFsaWRhdGVTdGF0dXMiLCJjb21tb24iLCJtZXRob2QiLCJpZ25vcmVEdXBsaWNhdGVPZiIsIiRpbnRlcm5hbHMiLCJub3JtYWxpemVIZWFkZXIiLCJoZWFkZXIiLCJub3JtYWxpemVWYWx1ZSIsIm1hdGNoSGVhZGVyVmFsdWUiLCJpc0hlYWRlck5hbWVGaWx0ZXIiLCJBeGlvc0hlYWRlcnMiLCJ2YWx1ZU9yUmV3cml0ZSIsInJld3JpdGUiLCJzZXRIZWFkZXIiLCJfdmFsdWUiLCJfaGVhZGVyIiwiX3Jld3JpdGUiLCJsSGVhZGVyIiwic2V0SGVhZGVycyIsInJhd0hlYWRlcnMiLCJwYXJzZWQiLCJsaW5lIiwic3Vic3RyaW5nIiwicGFyc2VIZWFkZXJzIiwiZ2V0IiwidG9rZW5zIiwidG9rZW5zUkUiLCJwYXJzZVRva2VucyIsImhhcyIsIm1hdGNoZXIiLCJkZWxldGVkIiwiZGVsZXRlSGVhZGVyIiwibm9ybWFsaXplIiwiZm9ybWF0Iiwibm9ybWFsaXplZCIsInciLCJjaGFyIiwiZm9ybWF0SGVhZGVyIiwidGFyZ2V0cyIsImFzU3RyaW5ncyIsImZpcnN0IiwiY29tcHV0ZWQiLCJhY2Nlc3NvciIsImFjY2Vzc29ycyIsImRlZmluZUFjY2Vzc29yIiwiYWNjZXNzb3JOYW1lIiwibWV0aG9kTmFtZSIsImFyZzEiLCJhcmcyIiwiYXJnMyIsImNvbmZpZ3VyYWJsZSIsImJ1aWxkQWNjZXNzb3JzIiwibWFwcGVkIiwiaGVhZGVyVmFsdWUiLCJ0cmFuc2Zvcm1EYXRhIiwiZm5zIiwiaXNDYW5jZWwiLCJfX0NBTkNFTF9fIiwiQ2FuY2VsZWRFcnJvciIsIkVSUl9DQU5DRUxFRCIsIndyaXRlIiwiZXhwaXJlcyIsImRvbWFpbiIsInNlY3VyZSIsImNvb2tpZSIsIkRhdGUiLCJ0b0dNVFN0cmluZyIsInJlYWQiLCJSZWdFeHAiLCJkZWNvZGVVUklDb21wb25lbnQiLCJyZW1vdmUiLCJub3ciLCJidWlsZEZ1bGxQYXRoIiwiYmFzZVVSTCIsInJlcXVlc3RlZFVSTCIsInJlbGF0aXZlVVJMIiwiY29tYmluZVVSTHMiLCJtc2llIiwidXNlckFnZW50IiwidXJsUGFyc2luZ05vZGUiLCJjcmVhdGVFbGVtZW50Iiwib3JpZ2luVVJMIiwicmVzb2x2ZVVSTCIsImhyZWYiLCJzZXRBdHRyaWJ1dGUiLCJwcm90b2NvbCIsImhvc3QiLCJzZWFyY2giLCJoYXNoIiwiaG9zdG5hbWUiLCJwb3J0IiwicGF0aG5hbWUiLCJjaGFyQXQiLCJsb2NhdGlvbiIsInJlcXVlc3RVUkwiLCJwcm9ncmVzc0V2ZW50UmVkdWNlciIsImxpc3RlbmVyIiwiaXNEb3dubG9hZFN0cmVhbSIsImJ5dGVzTm90aWZpZWQiLCJfc3BlZWRvbWV0ZXIiLCJzYW1wbGVzQ291bnQiLCJtaW4iLCJieXRlcyIsInRpbWVzdGFtcHMiLCJmaXJzdFNhbXBsZVRTIiwiaGVhZCIsInRhaWwiLCJjaHVua0xlbmd0aCIsInN0YXJ0ZWRBdCIsImJ5dGVzQ291bnQiLCJwYXNzZWQiLCJyb3VuZCIsImxvYWRlZCIsInRvdGFsIiwibGVuZ3RoQ29tcHV0YWJsZSIsInByb2dyZXNzQnl0ZXMiLCJyYXRlIiwicHJvZ3Jlc3MiLCJlc3RpbWF0ZWQiLCJldmVudCIsImtub3duQWRhcHRlcnMiLCJodHRwIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInJlcXVlc3REYXRhIiwicmVxdWVzdEhlYWRlcnMiLCJvbkNhbmNlbGVkIiwid2l0aFhTUkZUb2tlbiIsImNhbmNlbFRva2VuIiwidW5zdWJzY3JpYmUiLCJzaWduYWwiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiQm9vbGVhbiIsImF1dGgiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwidW5lc2NhcGUiLCJidG9hIiwiZnVsbFBhdGgiLCJvbmxvYWRlbmQiLCJyZXNwb25zZUhlYWRlcnMiLCJnZXRBbGxSZXNwb25zZUhlYWRlcnMiLCJFUlJfQkFEX1JFUVVFU1QiLCJmbG9vciIsInNldHRsZSIsImVyciIsInJlc3BvbnNlVGV4dCIsInN0YXR1c1RleHQiLCJvcGVuIiwicGFyYW1zU2VyaWFsaXplciIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJyZXNwb25zZVVSTCIsInNldFRpbWVvdXQiLCJvbmFib3J0IiwiRUNPTk5BQk9SVEVEIiwib25lcnJvciIsIkVSUl9ORVRXT1JLIiwib250aW1lb3V0IiwidGltZW91dEVycm9yTWVzc2FnZSIsIkVUSU1FRE9VVCIsImlzVVJMU2FtZU9yaWdpbiIsInhzcmZWYWx1ZSIsImNvb2tpZXMiLCJzZXRSZXF1ZXN0SGVhZGVyIiwid2l0aENyZWRlbnRpYWxzIiwib25Eb3dubG9hZFByb2dyZXNzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uVXBsb2FkUHJvZ3Jlc3MiLCJ1cGxvYWQiLCJjYW5jZWwiLCJhYm9ydCIsInN1YnNjcmliZSIsImFib3J0ZWQiLCJwYXJzZVByb3RvY29sIiwic2VuZCIsInJlbmRlclJlYXNvbiIsInJlYXNvbiIsImlzUmVzb2x2ZWRIYW5kbGUiLCJhZGFwdGVycyIsIm5hbWVPckFkYXB0ZXIiLCJyZWplY3RlZFJlYXNvbnMiLCJyZWFzb25zIiwic3RhdGUiLCJzIiwidGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZCIsInRocm93SWZSZXF1ZXN0ZWQiLCJkaXNwYXRjaFJlcXVlc3QiLCJoZWFkZXJzVG9PYmplY3QiLCJtZXJnZUNvbmZpZyIsImNvbmZpZzEiLCJjb25maWcyIiwiZ2V0TWVyZ2VkVmFsdWUiLCJtZXJnZURlZXBQcm9wZXJ0aWVzIiwidmFsdWVGcm9tQ29uZmlnMiIsImRlZmF1bHRUb0NvbmZpZzIiLCJtZXJnZURpcmVjdEtleXMiLCJtZXJnZU1hcCIsInRpbWVvdXRNZXNzYWdlIiwiZGVjb21wcmVzcyIsImJlZm9yZVJlZGlyZWN0IiwidHJhbnNwb3J0IiwiaHR0cEFnZW50IiwiaHR0cHNBZ2VudCIsInNvY2tldFBhdGgiLCJyZXNwb25zZUVuY29kaW5nIiwiY29uZmlnVmFsdWUiLCJ2YWxpZGF0b3JzIiwiZGVwcmVjYXRlZFdhcm5pbmdzIiwidmFsaWRhdG9yIiwidmVyc2lvbiIsImZvcm1hdE1lc3NhZ2UiLCJvcHQiLCJkZXNjIiwib3B0cyIsIkVSUl9ERVBSRUNBVEVEIiwiY29uc29sZSIsIndhcm4iLCJhc3NlcnRPcHRpb25zIiwic2NoZW1hIiwiYWxsb3dVbmtub3duIiwiRVJSX0JBRF9PUFRJT05fVkFMVUUiLCJFUlJfQkFEX09QVElPTiIsIkF4aW9zIiwiaW5zdGFuY2VDb25maWciLCJpbnRlcmNlcHRvcnMiLCJjb25maWdPclVybCIsImJvb2xlYW4iLCJmdW5jdGlvbiIsImNvbnRleHRIZWFkZXJzIiwicmVxdWVzdEludGVyY2VwdG9yQ2hhaW4iLCJzeW5jaHJvbm91c1JlcXVlc3RJbnRlcmNlcHRvcnMiLCJpbnRlcmNlcHRvciIsInVuc2hpZnQiLCJyZXNwb25zZUludGVyY2VwdG9yQ2hhaW4iLCJwcm9taXNlIiwiY2hhaW4iLCJuZXdDb25maWciLCJvbkZ1bGZpbGxlZCIsIm9uUmVqZWN0ZWQiLCJnZXRVcmkiLCJnZW5lcmF0ZUhUVFBNZXRob2QiLCJpc0Zvcm0iLCJDYW5jZWxUb2tlbiIsImV4ZWN1dG9yIiwicmVzb2x2ZVByb21pc2UiLCJfbGlzdGVuZXJzIiwib25mdWxmaWxsZWQiLCJfcmVzb2x2ZSIsInNwbGljZSIsImMiLCJIdHRwU3RhdHVzQ29kZSIsIkNvbnRpbnVlIiwiU3dpdGNoaW5nUHJvdG9jb2xzIiwiUHJvY2Vzc2luZyIsIkVhcmx5SGludHMiLCJPayIsIkNyZWF0ZWQiLCJBY2NlcHRlZCIsIk5vbkF1dGhvcml0YXRpdmVJbmZvcm1hdGlvbiIsIk5vQ29udGVudCIsIlJlc2V0Q29udGVudCIsIlBhcnRpYWxDb250ZW50IiwiTXVsdGlTdGF0dXMiLCJBbHJlYWR5UmVwb3J0ZWQiLCJJbVVzZWQiLCJNdWx0aXBsZUNob2ljZXMiLCJNb3ZlZFBlcm1hbmVudGx5IiwiRm91bmQiLCJTZWVPdGhlciIsIk5vdE1vZGlmaWVkIiwiVXNlUHJveHkiLCJVbnVzZWQiLCJUZW1wb3JhcnlSZWRpcmVjdCIsIlBlcm1hbmVudFJlZGlyZWN0IiwiQmFkUmVxdWVzdCIsIlVuYXV0aG9yaXplZCIsIlBheW1lbnRSZXF1aXJlZCIsIkZvcmJpZGRlbiIsIk5vdEZvdW5kIiwiTWV0aG9kTm90QWxsb3dlZCIsIk5vdEFjY2VwdGFibGUiLCJQcm94eUF1dGhlbnRpY2F0aW9uUmVxdWlyZWQiLCJSZXF1ZXN0VGltZW91dCIsIkNvbmZsaWN0IiwiR29uZSIsIkxlbmd0aFJlcXVpcmVkIiwiUHJlY29uZGl0aW9uRmFpbGVkIiwiUGF5bG9hZFRvb0xhcmdlIiwiVXJpVG9vTG9uZyIsIlVuc3VwcG9ydGVkTWVkaWFUeXBlIiwiUmFuZ2VOb3RTYXRpc2ZpYWJsZSIsIkV4cGVjdGF0aW9uRmFpbGVkIiwiSW1BVGVhcG90IiwiTWlzZGlyZWN0ZWRSZXF1ZXN0IiwiVW5wcm9jZXNzYWJsZUVudGl0eSIsIkxvY2tlZCIsIkZhaWxlZERlcGVuZGVuY3kiLCJUb29FYXJseSIsIlVwZ3JhZGVSZXF1aXJlZCIsIlByZWNvbmRpdGlvblJlcXVpcmVkIiwiVG9vTWFueVJlcXVlc3RzIiwiUmVxdWVzdEhlYWRlckZpZWxkc1Rvb0xhcmdlIiwiVW5hdmFpbGFibGVGb3JMZWdhbFJlYXNvbnMiLCJJbnRlcm5hbFNlcnZlckVycm9yIiwiTm90SW1wbGVtZW50ZWQiLCJCYWRHYXRld2F5IiwiU2VydmljZVVuYXZhaWxhYmxlIiwiR2F0ZXdheVRpbWVvdXQiLCJIdHRwVmVyc2lvbk5vdFN1cHBvcnRlZCIsIlZhcmlhbnRBbHNvTmVnb3RpYXRlcyIsIkluc3VmZmljaWVudFN0b3JhZ2UiLCJMb29wRGV0ZWN0ZWQiLCJOb3RFeHRlbmRlZCIsIk5ldHdvcmtBdXRoZW50aWNhdGlvblJlcXVpcmVkIiwiYXhpb3MiLCJjcmVhdGVJbnN0YW5jZSIsImRlZmF1bHRDb25maWciLCJpbnN0YW5jZSIsIlZFUlNJT04iLCJ0b0Zvcm1EYXRhIiwiQ2FuY2VsIiwiYWxsIiwicHJvbWlzZXMiLCJzcHJlYWQiLCJjYWxsYmFjayIsImlzQXhpb3NFcnJvciIsInBheWxvYWQiLCJmb3JtVG9KU09OIiwiZ2V0QWRhcHRlciIsImRlZmF1bHQiLCJwb3N0IiwiYm9keSIsIkdhcGlBbmFseXRpY3NTZXJ2aWNlIiwiZ2FwaSIsImFuYWx5dGljcyIsInJlYWx0aW1lQVBJIiwiYW5hbHl0aWNzZGF0YSIsImFuYWx5dGljc2FkbWluIiwibWFuYWdlbWVudCIsIndlYnByb3BlcnRpZXMiLCJhY2NvdW50cyIsInByb2ZpbGVzIiwiaW5pdGlhbGl6YXRpb25QZW5kaW5nIiwiaW5pdGlhbGlzYXRpb25zUGFyYW1zIiwiY2xpZW50SWQiLCJhdXRoU2NvcGVzIiwiR0E0QWRtaW5FbWFpbCIsInJlZnJlc2hBY2Nlc3NUb2tlbiIsImVtYWlsIiwic2VydmVyVXJscyIsInJlZnJlc2hUb2tlbiIsIkFjY2VwdCIsImVycm9ySGFuZGxlciIsImFzeW5jIiwicmVmcmVzaF90b2tlbiIsImdldEdvb2dsZUxvZ2luUmVzcG9uc2UiLCJsb2ciLCJjcmVkZW50aWFscyIsInNldEdvb2dsZUxvZ2luUmVzcG9uc2UiLCJzZXRBY2Nlc3NUb2tlbiIsImFyZ3MiLCJnYXBpSXNTY3JpcHRBcmVBbGxEb3dubG9hZGVkIiwiY2xpZW50IiwiaW5pdCIsInJlYWx0aW1lIiwicXVlcnlSZXBvcnQiLCJwcm9wZXJ0eSIsImRpbWVuc2lvbnMiLCJtZXRyaWNzIiwic3RhcnREYXRlIiwiZW5kRGF0ZSIsInJlcG9ydHMiLCJwcm9wZXJ0aWVzIiwicnVuUmVwb3J0IiwiZGF0ZVJhbmdlcyIsIm1ldHJpY0FnZ3JlZ2F0aW9ucyIsInBhcnNlUmVwb3J0QXNDaGFydERhdGEiLCJsaXN0QWNjb3VudHMiLCJhY2NvdW50U3VtbWFyaWVzIiwibGlzdCIsInJlcyIsImFjY2Vzc190b2tlbiIsInNldFRva2VuIiwiZ2V0Q2hhcnREYXRhUGVyRGltZW5zaW9ucyIsInByb3ZpZGVkRGF0YSIsImRpbWVuc2lvbiIsInJvd3MiLCJtZXRyaWNzVG90YWxzIiwiaW5jbHVkZXMiLCJkaW1lbnNpb25JbmRleCIsInJvdyIsImRpbWVuc2lvblZhbHVlcyIsIm1ldHJpY1ZhbHVlcyIsInZhbHVlcyIsInJlZHVjZSIsImN1cnJlbnQiLCJ0b3RhbHMiLCJhY2MiLCJjdXJyIiwib3V0cHV0IiwicGFyc2VJbnQiLCJwcmVQYXJzZWREYXRhIiwibWV0cmljSGVhZGVycyIsImRpbWVuc2lvbkhlYWRlcnMiLCJwcmVDbGVhbmVkUm93cyIsImN1cnJlbnRJbmRleCIsInByZVBhcnNlUmVwb3J0UmVxdWVzdFJlc3VsdCIsIml0ZW0iLCJhcGkiLCJjb252ZXJ0ZXIiLCJkZWZhdWx0QXR0cmlidXRlcyIsImF0dHJpYnV0ZXMiLCJ0b1VUQ1N0cmluZyIsImVzY2FwZSIsInN0cmluZ2lmaWVkQXR0cmlidXRlcyIsImF0dHJpYnV0ZU5hbWUiLCJqYXIiLCJwYXJ0cyIsImZvdW5kIiwid2l0aEF0dHJpYnV0ZXMiLCJ3aXRoQ29udmVydGVyIiwiZnJlZXplIiwiQ29va2llc1N0b3JhZ2UiLCJzdG9yYWdlIiwia2V5X0dvb2dsZUxvZ2luUmVzcG9uc2UiLCJjbGVhckdvb2dsZUxvZ2luUmVzcG9uc2UiLCJBbmFseXRpY3NDbGllbnRCYXNlQ2xhc3MiLCJnZXRWaXNpdHNQZXJQZXJpb2QiLCJnZXRFdmVudENvdW50IiwiY2hlY2tQZXJpb2QiLCJwZXJpb2QiLCJtYWdpY1ZhbHVlIiwic3RhcnQiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZCIsImRlZmluaXRpb24iLCJvIiwiciIsImdldEdBNERhdGVGcm9tUGVyaW9kIiwiZW5kIiwiR0E0Q2xpZW50RmFjYWRlIiwiZ2FwaVNlcnZpY2UiLCJzdXBlciIsImdhNCIsImNoZWNrUHJvcGVydHkiLCJldmVudHMiLCJldiIsIm1ldGEiLCJjb252ZXJzaW9uIiwiY29udmVydEV2ZW50VG9HQTRFdmVudCJdLCJzb3VyY2VSb290IjoiIn0=
/*! For license information please see index.js.LICENSE.txt */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(self,(function(){return function(){"use strict";var e={145:function(e,t,n){n.d(t,{default:function(){return Je}});var r={};function o(e,t){return function(){return e.apply(t,arguments)}}n.r(r),n.d(r,{hasBrowserEnv:function(){return re},hasStandardBrowserEnv:function(){return oe},hasStandardBrowserWebWorkerEnv:function(){return se}});const{toString:i}=Object.prototype,{getPrototypeOf:s}=Object,a=(c=Object.create(null),e=>{const t=i.call(e);return c[t]||(c[t]=t.slice(8,-1).toLowerCase())});var c;const u=e=>(e=e.toLowerCase(),t=>a(t)===e),l=e=>t=>typeof t===e,{isArray:f}=Array,d=l("undefined"),p=u("ArrayBuffer"),h=l("string"),m=l("function"),g=l("number"),y=e=>null!==e&&"object"==typeof e,w=e=>{if("object"!==a(e))return!1;const t=s(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},b=u("Date"),v=u("File"),E=u("Blob"),O=u("FileList"),S=u("URLSearchParams");function A(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,o;if("object"!=typeof e&&(e=[e]),f(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let s;for(r=0;r<i;r++)s=o[r],t.call(null,e[s],s,e)}}function R(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,o=n.length;for(;o-- >0;)if(r=n[o],t===r.toLowerCase())return r;return null}const C="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,P=e=>!d(e)&&e!==C,T=(j="undefined"!=typeof Uint8Array&&s(Uint8Array),e=>j&&e instanceof j);var j;const x=u("HTMLFormElement"),N=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),k=u("RegExp"),_=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};A(n,((n,o)=>{let i;!1!==(i=t(n,o,e))&&(r[o]=i||n)})),Object.defineProperties(e,r)},D="abcdefghijklmnopqrstuvwxyz",U="0123456789",F={DIGIT:U,ALPHA:D,ALPHA_DIGIT:D+D.toUpperCase()+U},L=u("AsyncFunction");var B={isArray:f,isArrayBuffer:p,isBuffer:function(e){return null!==e&&!d(e)&&null!==e.constructor&&!d(e.constructor)&&m(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||m(e.append)&&("formdata"===(t=a(e))||"object"===t&&m(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&p(e.buffer),t},isString:h,isNumber:g,isBoolean:e=>!0===e||!1===e,isObject:y,isPlainObject:w,isUndefined:d,isDate:b,isFile:v,isBlob:E,isRegExp:k,isFunction:m,isStream:e=>y(e)&&m(e.pipe),isURLSearchParams:S,isTypedArray:T,isFileList:O,forEach:A,merge:function e(){const{caseless:t}=P(this)&&this||{},n={},r=(r,o)=>{const i=t&&R(n,o)||o;w(n[i])&&w(r)?n[i]=e(n[i],r):w(r)?n[i]=e({},r):f(r)?n[i]=r.slice():n[i]=r};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&A(arguments[e],r);return n},extend:(e,t,n,{allOwnKeys:r}={})=>(A(t,((t,r)=>{n&&m(t)?e[r]=o(t,n):e[r]=t}),{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let o,i,a;const c={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)a=o[i],r&&!r(a,e,t)||c[a]||(t[a]=e[a],c[a]=!0);e=!1!==n&&s(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:a,kindOfTest:u,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(f(e))return e;let t=e.length;if(!g(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:x,hasOwnProperty:N,hasOwnProp:N,reduceDescriptors:_,freezeMethods:e=>{_(e,((t,n)=>{if(m(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];m(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return f(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:R,global:C,isContextDefined:P,ALPHABET:F,generateString:(e=16,t=F.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&m(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(y(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const o=f(e)?[]:{};return A(e,((e,t)=>{const i=n(e,r+1);!d(i)&&(o[t]=i)})),t[r]=void 0,o}}return e};return n(e,0)},isAsyncFn:L,isThenable:e=>e&&(y(e)||m(e))&&m(e.then)&&m(e.catch)};function I(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}B.inherits(I,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:B.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const q=I.prototype,M={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{M[e]={value:e}})),Object.defineProperties(I,M),Object.defineProperty(q,"isAxiosError",{value:!0}),I.from=(e,t,n,r,o,i)=>{const s=Object.create(q);return B.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),I.call(s,e.message,t,n,r,o),s.cause=e,s.name=e.name,i&&Object.assign(s,i),s};var z=I;function V(e){return B.isPlainObject(e)||B.isArray(e)}function G(e){return B.endsWith(e,"[]")?e.slice(0,-2):e}function H(e,t,n){return e?e.concat(t).map((function(e,t){return e=G(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const J=B.toFlatObject(B,{},null,(function(e){return/^is[A-Z]/.test(e)}));var W=function(e,t,n){if(!B.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=B.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!B.isUndefined(t[e])}))).metaTokens,o=n.visitor||u,i=n.dots,s=n.indexes,a=(n.Blob||"undefined"!=typeof Blob&&Blob)&&B.isSpecCompliantForm(t);if(!B.isFunction(o))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(B.isDate(e))return e.toISOString();if(!a&&B.isBlob(e))throw new z("Blob is not supported. Use a Buffer instead.");return B.isArrayBuffer(e)||B.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,n,o){let a=e;if(e&&!o&&"object"==typeof e)if(B.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(B.isArray(e)&&function(e){return B.isArray(e)&&!e.some(V)}(e)||(B.isFileList(e)||B.endsWith(n,"[]"))&&(a=B.toArray(e)))return n=G(n),a.forEach((function(e,r){!B.isUndefined(e)&&null!==e&&t.append(!0===s?H([n],r,i):null===s?n:n+"[]",c(e))})),!1;return!!V(e)||(t.append(H(o,n,i),c(e)),!1)}const l=[],f=Object.assign(J,{defaultVisitor:u,convertValue:c,isVisitable:V});if(!B.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!B.isUndefined(n)){if(-1!==l.indexOf(n))throw Error("Circular reference detected in "+r.join("."));l.push(n),B.forEach(n,(function(n,i){!0===(!(B.isUndefined(n)||null===n)&&o.call(t,n,B.isString(i)?i.trim():i,r,f))&&e(n,r?r.concat(i):[i])})),l.pop()}}(e),t};function $(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function K(e,t){this._pairs=[],e&&W(e,this,t)}const X=K.prototype;X.append=function(e,t){this._pairs.push([e,t])},X.toString=function(e){const t=e?function(t){return e.call(this,t,$)}:$;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var Q=K;function Z(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Y(e,t,n){if(!t)return e;const r=n&&n.encode||Z,o=n&&n.serialize;let i;if(i=o?o(t,n):B.isURLSearchParams(t)?t.toString():new Q(t,n).toString(r),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}var ee=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){B.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},te={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ne={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:Q,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]};const re="undefined"!=typeof window&&"undefined"!=typeof document,oe=(ie="undefined"!=typeof navigator&&navigator.product,re&&["ReactNative","NativeScript","NS"].indexOf(ie)<0);var ie;const se="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts;var ae={...r,...ne},ce=function(e){function t(e,n,r,o){let i=e[o++];const s=Number.isFinite(+i),a=o>=e.length;return i=!i&&B.isArray(r)?r.length:i,a?(B.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!s):(r[i]&&B.isObject(r[i])||(r[i]=[]),t(e,n,r[i],o)&&B.isArray(r[i])&&(r[i]=function(e){const t={},n=Object.keys(e);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],t[i]=e[i];return t}(r[i])),!s)}if(B.isFormData(e)&&B.isFunction(e.entries)){const n={};return B.forEachEntry(e,((e,r)=>{t(function(e){return B.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const ue={transitional:te,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,o=B.isObject(e);if(o&&B.isHTMLForm(e)&&(e=new FormData(e)),B.isFormData(e))return r&&r?JSON.stringify(ce(e)):e;if(B.isArrayBuffer(e)||B.isBuffer(e)||B.isStream(e)||B.isFile(e)||B.isBlob(e))return e;if(B.isArrayBufferView(e))return e.buffer;if(B.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return W(e,new ae.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return ae.isNode&&B.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=B.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return W(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),function(e,t,n){if(B.isString(e))try{return(0,JSON.parse)(e),B.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||ue.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&B.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw z.from(e,z.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ae.classes.FormData,Blob:ae.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};B.forEach(["delete","get","head","post","put","patch"],(e=>{ue.headers[e]={}}));var le=ue;const fe=B.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),de=Symbol("internals");function pe(e){return e&&String(e).trim().toLowerCase()}function he(e){return!1===e||null==e?e:B.isArray(e)?e.map(he):String(e)}function me(e,t,n,r,o){return B.isFunction(r)?r.call(this,t,n):(o&&(t=n),B.isString(t)?B.isString(r)?-1!==t.indexOf(r):B.isRegExp(r)?r.test(t):void 0:void 0)}class ge{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function o(e,t,n){const o=pe(t);if(!o)throw new Error("header name must be a non-empty string");const i=B.findKey(r,o);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||t]=he(e))}const i=(e,t)=>B.forEach(e,((e,n)=>o(e,n,t)));return B.isPlainObject(e)||e instanceof this.constructor?i(e,t):B.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?i((e=>{const t={};let n,r,o;return e&&e.split("\n").forEach((function(e){o=e.indexOf(":"),n=e.substring(0,o).trim().toLowerCase(),r=e.substring(o+1).trim(),!n||t[n]&&fe[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t):null!=e&&o(t,e,n),this}get(e,t){if(e=pe(e)){const n=B.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(B.isFunction(t))return t.call(this,e,n);if(B.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=pe(e)){const n=B.findKey(this,e);return!(!n||void 0===this[n]||t&&!me(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function o(e){if(e=pe(e)){const o=B.findKey(n,e);!o||t&&!me(0,n[o],o,t)||(delete n[o],r=!0)}}return B.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const o=t[n];e&&!me(0,this[o],o,e,!0)||(delete this[o],r=!0)}return r}normalize(e){const t=this,n={};return B.forEach(this,((r,o)=>{const i=B.findKey(n,o);if(i)return t[i]=he(r),void delete t[o];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(o):String(o).trim();s!==o&&delete t[o],t[s]=he(r),n[s]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return B.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&B.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[de]=this[de]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=pe(e);t[r]||(function(e,t){const n=B.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,o){return this[r].call(this,t,e,n,o)},configurable:!0})}))}(n,e),t[r]=!0)}return B.isArray(e)?e.forEach(r):r(e),this}}ge.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),B.reduceDescriptors(ge.prototype,(({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}})),B.freezeMethods(ge);var ye=ge;function we(e,t){const n=this||le,r=t||n,o=ye.from(r.headers);let i=r.data;return B.forEach(e,(function(e){i=e.call(n,i,o.normalize(),t?t.status:void 0)})),o.normalize(),i}function be(e){return!(!e||!e.__CANCEL__)}function ve(e,t,n){z.call(this,null==e?"canceled":e,z.ERR_CANCELED,t,n),this.name="CanceledError"}B.inherits(ve,z,{__CANCEL__:!0});var Ee=ve,Oe=ae.hasStandardBrowserEnv?{write(e,t,n,r,o,i){const s=[e+"="+encodeURIComponent(t)];B.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),B.isString(r)&&s.push("path="+r),B.isString(o)&&s.push("domain="+o),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Se(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var Ae=ae.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=B.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};function Re(e,t){let n=0;const r=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o,i=0,s=0;return t=void 0!==t?t:1e3,function(a){const c=Date.now(),u=r[s];o||(o=c),n[i]=a,r[i]=c;let l=s,f=0;for(;l!==i;)f+=n[l++],l%=e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),c-o<t)return;const d=u&&c-u;return d?Math.round(1e3*f/d):void 0}}(50,250);return o=>{const i=o.loaded,s=o.lengthComputable?o.total:void 0,a=i-n,c=r(a);n=i;const u={loaded:i,total:s,progress:s?i/s:void 0,bytes:a,rate:c||void 0,estimated:c&&s&&i<=s?(s-i)/c:void 0,event:o};u[t?"download":"upload"]=!0,e(u)}}const Ce={http:null,xhr:"undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){let r=e.data;const o=ye.from(e.headers).normalize();let i,s,{responseType:a,withXSRFToken:c}=e;function u(){e.cancelToken&&e.cancelToken.unsubscribe(i),e.signal&&e.signal.removeEventListener("abort",i)}if(B.isFormData(r))if(ae.hasStandardBrowserEnv||ae.hasStandardBrowserWebWorkerEnv)o.setContentType(!1);else if(!1!==(s=o.getContentType())){const[e,...t]=s?s.split(";").map((e=>e.trim())).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}let l=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(t+":"+n))}const f=Se(e.baseURL,e.url);function d(){if(!l)return;const r=ye.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders());!function(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new z("Request failed with status code "+n.status,[z.ERR_BAD_REQUEST,z.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),u()}),(function(e){n(e),u()}),{data:a&&"text"!==a&&"json"!==a?l.response:l.responseText,status:l.status,statusText:l.statusText,headers:r,config:e,request:l}),l=null}if(l.open(e.method.toUpperCase(),Y(f,e.params,e.paramsSerializer),!0),l.timeout=e.timeout,"onloadend"in l?l.onloadend=d:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))&&setTimeout(d)},l.onabort=function(){l&&(n(new z("Request aborted",z.ECONNABORTED,e,l)),l=null)},l.onerror=function(){n(new z("Network Error",z.ERR_NETWORK,e,l)),l=null},l.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||te;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new z(t,r.clarifyTimeoutError?z.ETIMEDOUT:z.ECONNABORTED,e,l)),l=null},ae.hasStandardBrowserEnv&&(c&&B.isFunction(c)&&(c=c(e)),c||!1!==c&&Ae(f))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&Oe.read(e.xsrfCookieName);t&&o.set(e.xsrfHeaderName,t)}void 0===r&&o.setContentType(null),"setRequestHeader"in l&&B.forEach(o.toJSON(),(function(e,t){l.setRequestHeader(t,e)})),B.isUndefined(e.withCredentials)||(l.withCredentials=!!e.withCredentials),a&&"json"!==a&&(l.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&l.addEventListener("progress",Re(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",Re(e.onUploadProgress)),(e.cancelToken||e.signal)&&(i=t=>{l&&(n(!t||t.type?new Ee(null,e,l):t),l.abort(),l=null)},e.cancelToken&&e.cancelToken.subscribe(i),e.signal&&(e.signal.aborted?i():e.signal.addEventListener("abort",i)));const p=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(f);p&&-1===ae.protocols.indexOf(p)?n(new z("Unsupported protocol "+p+":",z.ERR_BAD_REQUEST,e)):l.send(r||null)}))}};B.forEach(Ce,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const Pe=e=>`- ${e}`,Te=e=>B.isFunction(e)||null===e||!1===e;var je=e=>{e=B.isArray(e)?e:[e];const{length:t}=e;let n,r;const o={};for(let i=0;i<t;i++){let t;if(n=e[i],r=n,!Te(n)&&(r=Ce[(t=String(n)).toLowerCase()],void 0===r))throw new z(`Unknown adapter '${t}'`);if(r)break;o[t||"#"+i]=r}if(!r){const e=Object.entries(o).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));let n=t?e.length>1?"since :\n"+e.map(Pe).join("\n"):" "+Pe(e[0]):"as no adapter specified";throw new z("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function xe(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ee(null,e)}function Ne(e){return xe(e),e.headers=ye.from(e.headers),e.data=we.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),je(e.adapter||le.adapter)(e).then((function(t){return xe(e),t.data=we.call(e,e.transformResponse,t),t.headers=ye.from(t.headers),t}),(function(t){return be(t)||(xe(e),t&&t.response&&(t.response.data=we.call(e,e.transformResponse,t.response),t.response.headers=ye.from(t.response.headers))),Promise.reject(t)}))}const ke=e=>e instanceof ye?e.toJSON():e;function _e(e,t){t=t||{};const n={};function r(e,t,n){return B.isPlainObject(e)&&B.isPlainObject(t)?B.merge.call({caseless:n},e,t):B.isPlainObject(t)?B.merge({},t):B.isArray(t)?t.slice():t}function o(e,t,n){return B.isUndefined(t)?B.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function i(e,t){if(!B.isUndefined(t))return r(void 0,t)}function s(e,t){return B.isUndefined(t)?B.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,o,i){return i in t?r(n,o):i in e?r(void 0,n):void 0}const c={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t)=>o(ke(e),ke(t),!0)};return B.forEach(Object.keys(Object.assign({},e,t)),(function(r){const i=c[r]||o,s=i(e[r],t[r],r);B.isUndefined(s)&&i!==a||(n[r]=s)})),n}const De={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{De[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const Ue={};De.transitional=function(e,t,n){function r(e,t){return"[Axios v1.6.2] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,o,i)=>{if(!1===e)throw new z(r(o," has been removed"+(t?" in "+t:"")),z.ERR_DEPRECATED);return t&&!Ue[o]&&(Ue[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,i)}};var Fe={assertOptions:function(e,t,n){if("object"!=typeof e)throw new z("options must be an object",z.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const i=r[o],s=t[i];if(s){const t=e[i],n=void 0===t||s(t,i,e);if(!0!==n)throw new z("option "+i+" must be "+n,z.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new z("Unknown option "+i,z.ERR_BAD_OPTION)}},validators:De};const Le=Fe.validators;class Be{constructor(e){this.defaults=e,this.interceptors={request:new ee,response:new ee}}request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=_e(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:o}=t;void 0!==n&&Fe.assertOptions(n,{silentJSONParsing:Le.transitional(Le.boolean),forcedJSONParsing:Le.transitional(Le.boolean),clarifyTimeoutError:Le.transitional(Le.boolean)},!1),null!=r&&(B.isFunction(r)?t.paramsSerializer={serialize:r}:Fe.assertOptions(r,{encode:Le.function,serialize:Le.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=o&&B.merge(o.common,o[t.method]);o&&B.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete o[e]})),t.headers=ye.concat(i,o);const s=[];let a=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const c=[];let u;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let l,f=0;if(!a){const e=[Ne.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,c),l=e.length,u=Promise.resolve(t);f<l;)u=u.then(e[f++],e[f++]);return u}l=s.length;let d=t;for(f=0;f<l;){const e=s[f++],t=s[f++];try{d=e(d)}catch(e){t.call(this,e);break}}try{u=Ne.call(this,d)}catch(e){return Promise.reject(e)}for(f=0,l=c.length;f<l;)u=u.then(c[f++],c[f++]);return u}getUri(e){return Y(Se((e=_e(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}B.forEach(["delete","get","head","options"],(function(e){Be.prototype[e]=function(t,n){return this.request(_e(n||{},{method:e,url:t,data:(n||{}).data}))}})),B.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,o){return this.request(_e(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Be.prototype[e]=t(),Be.prototype[e+"Form"]=t(!0)}));var Ie=Be;class qe{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,o){n.reason||(n.reason=new Ee(e,r,o),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new qe((function(t){e=t})),cancel:e}}}var Me=qe;const ze={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ze).forEach((([e,t])=>{ze[t]=e}));var Ve=ze;const Ge=function e(t){const n=new Ie(t),r=o(Ie.prototype.request,n);return B.extend(r,Ie.prototype,n,{allOwnKeys:!0}),B.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(_e(t,n))},r}(le);Ge.Axios=Ie,Ge.CanceledError=Ee,Ge.CancelToken=Me,Ge.isCancel=be,Ge.VERSION="1.6.2",Ge.toFormData=W,Ge.AxiosError=z,Ge.Cancel=Ge.CanceledError,Ge.all=function(e){return Promise.all(e)},Ge.spread=function(e){return function(t){return e.apply(null,t)}},Ge.isAxiosError=function(e){return B.isObject(e)&&!0===e.isAxiosError},Ge.mergeConfig=_e,Ge.AxiosHeaders=ye,Ge.formToJSON=e=>ce(B.isHTMLForm(e)?new FormData(e):e),Ge.getAdapter=je,Ge.HttpStatusCode=Ve,Ge.default=Ge;var He=Ge,Je={get:(e,{params:t})=>He.get(e,{params:t}),post:(e,t={},n={})=>He.post(e,t,n)}},201:function(e,t,n){n.d(t,{GapiAnalyticsService:function(){return s}});var r=n(659),o=n(353),i=n(145);class s{gapi;analytics;realtimeAPI;analyticsdata;analyticsadmin;management;webproperties;accounts;profiles;initializationPending=!0;initialisationsParams;constructor(e){const{clientId:t,authScopes:n,shopinzenAnalyticsAdminEmail:r}=e;this.initialisationsParams=e,this.init()}async refreshAccessToken(e){return await i.default.post(o.serverUrl+"/google/auth/refresh-access-token",{email:e},{headers:{Accept:"application/json"}})}async errorHandler(e,t){return new Promise((async(n,o)=>{const{status:i,result:s}=e;if(401===i){const{refresh_token:i}=r.default.getGoogleLoginResponse()||{};console.log("refresh_token",i);const{data:s}=await this.refreshAccessToken(this.initialisationsParams.shopinzenAnalyticsAdminEmail).catch(o);console.log("credentials :>> ",s),s||o(e),r.default.setGoogleLoginResponse(s),this.setAccessToken();const{method:a,args:c}=t;console.log("method, args :>> ",a,c),n(this[a](...c))}o(e)}))}get gapiIsScriptAreAllDownloaded(){const e=window?.gapi,t=e?.client?.analytics,n=e?.client?.analyticsdata,r=e?.client?.analyticsadmin;return!!(e&&t&&r&&n)}async init(){return new Promise((async(e,t)=>{this.gapiIsScriptAreAllDownloaded?(this.gapi=window?.gapi,this.analytics=this.gapi.client.analytics,this.realtimeAPI=this.gapi.client.analytics.data.realtime,this.analyticsdata=this.gapi.client.analyticsdata,this.analyticsadmin=this.gapi.client.analyticsadmin,this.management=this.gapi.client.analytics.management,this.accounts=this.management.accounts,this.webproperties=this.management.webproperties,this.profiles=this.management.profiles,this.setAccessToken(),this.initializationPending=!1,e(!0)):setTimeout((async()=>{e(await this.init())}),1e3)}))}async queryReport(e,t){if(console.log("property",e),!e)throw new Error("Google property isnt set");try{let{dimensions:n,metrics:r,startDate:i,endDate:s}=t;r=(r||[]).map((e=>"string"==typeof e?{name:e}:e)),n=(n||[]).map((e=>"string"==typeof e?{name:e}:e));const a=await this.analyticsdata.properties.runReport({property:e,dateRanges:[{startDate:i,endDate:s}],metrics:r,dimensions:n,metricAggregations:["TOTAL"]}).then((e=>e));return(0,o.parseReportAsChartData)([a])}catch(n){return await this.errorHandler(n,{method:"queryReport",args:[e,t]})}}async listAccounts(){return console.log(" this.analyticsadmin",this.analyticsadmin),await this.analyticsadmin.accountSummaries.list().then((e=>e.result.accountSummaries)).catch((async e=>{const t=await this.errorHandler(e,{method:"listAccounts",args:[]});return console.log("res",t),t}))}setAccessToken(){const{access_token:e}=r.default.getGoogleLoginResponse()||{};this.gapi.client.setToken({access_token:e}),this.gapi.auth.setToken({access_token:e})}}},353:function(e,t,n){n.d(t,{parseReportAsChartData:function(){return i},serverUrl:function(){return r}}),n(145);const r="https://bot.shopinzen.com";function o(e){const{data:t,dimension:n}=e,{rows:r,dimensions:o,metrics:i,metricsTotals:s}=t;if(!o.includes(n))return t;const a=o.indexOf(n),c=r.map((e=>{const{dimensionValues:t,metricValues:n}=e,r=n.reduce(((e,t)=>({...e,[t.name]:t.value})),{});return{name:t[a].value,...r}}));let u={};return i.forEach((({name:e},t)=>{u[e]=c.reduce(((t,n)=>{let r=t;return n[e]&&(r+=parseInt(n[e])),r}),0)})),{data:c,totals:u}}function i(e){const t=function(e){let{result:{metricHeaders:t=[],dimensionHeaders:n=[],rows:r=[],totals:o}}=e[0];const i=r.map((e=>{let{dimensionValues:r=[],metricValues:o=[]}=e;return r=r.map(((e,t)=>({...n[t],...e}))),o=o.map(((e,n)=>({...t[n],...e}))),{dimensionValues:r,metricValues:o}})),s=t.reduce(((e,t,n)=>({...e,[t.name]:o[0]?.metricValues[n]?.value||0})),{});return{metrics:t,dimensions:n,rows:i,metricsTotals:s}}(e);let{rows:n,dimensions:r,metricsTotals:i}=t;return r=r.reduce(((e,n)=>({...e,[n.name]:o({data:t,dimension:n})})),{}),{dimensions:r,metricsTotals:i}}},418:function(e,t,n){n.d(t,{GA4ClientFacade:function(){return a}});var r=n(333),o=n(201),i=n(135);function s(e){(0,i.checkPeriod)(e);const{format:t,magicValue:n,value:r}=e;return"magic"===t?{startDate:n+"daysAgo",endDate:"today"}:"date"===t?{startDate:r.start,endDate:r.end||"today"}:void 0}class a extends r.ShopinzenAnalyticsClient{gapiService;constructor(e){super(),this.gapiService=new o.GapiAnalyticsService(e)}async listAccounts(){if(!this.gapiService.analyticsadmin)throw new Error("GA4 client isn't initialized correctly. Please make sure the active client is GA4");return await this.gapiService.listAccounts()}async getVisitsPerPeriod(e){const{period:t,ga4:{property:n,format:r}={}}=e;this.checkProperty(n);let o={dimensions:["date"],metrics:["sessions","newUsers","screenPageViews","averageSessionDuration"],...s(t),format:r};return await this.gapiService.queryReport(n,o)}async getEventCount(e){const{events:t,period:n,ga4:{property:r,format:o}={}}=e;this.checkProperty(r);const i=function(e){return e.map((e=>{const{name:t,meta:{ga4:n}={}}=e;return n&&n.conversion?`conversions:${t}`:t}))}(t);let a={dimensions:[],metrics:i,...s(n),format:o};return await this.gapiService.queryReport(r,a).then((e=>{const t=e?.metricsTotals||{},n={};for(let e=0;e<i.length;e++)n[i[e]]=t[e];return n}))}checkProperty(e){if(!e)throw new Error("ga4ProppertyID is required")}}},659:function(e,t,n){function r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}n.d(t,{default:function(){return s}});var o=function e(t,n){function o(e,o,i){if("undefined"!=typeof document){"number"==typeof(i=r({},n,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var a in i)i[a]&&(s+="; "+a,!0!==i[a]&&(s+="="+i[a].split(";")[0]));return document.cookie=e+"="+t.write(o,e)+s}}return Object.create({set:o,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},o=0;o<n.length;o++){var i=n[o].split("="),s=i.slice(1).join("=");try{var a=decodeURIComponent(i[0]);if(r[a]=t.read(s,a),e===a)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){o(e,"",r({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,r({},this.attributes,t))},withConverter:function(t){return e(r({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});class i{storage=o;set(e,t,n){return t=n&&n.isObject?JSON.stringify(t):t,this.storage.set(e,t)}get(e){try{return JSON.parse(this.storage.get(e))}catch(t){return this.storage.get(e)}}}var s=new class{storage=new i;localstorage=window.localStorage;key_GoogleLoginResponse="key_GoogleLoginResponse";setGoogleLoginResponse(e){this.storage.set(this.key_GoogleLoginResponse,JSON.stringify(e))}getGoogleLoginResponse(){return this.storage.get(this.key_GoogleLoginResponse)}clearGoogleLoginResponse(){return this.localstorage.removeItem(this.key_GoogleLoginResponse)}}},589:function(e,t,n){n.d(t,{default:function(){return a},matmoSegmentOperators:function(){return s}});var r=n(484),o=n(630),i=n(145);const s={OR:",",AND:";"};class a{matomoConfigs;constructor(e){this.initConfig(e)}initConfig(e){console.log("data",e),this.matomoConfigs=e}createMatomoAPIRequest(e){return async t=>{try{if(!this.matomoConfigs)throw new Error("Please set matomo configs and retry");const n=this.matomoConfigs.baseUrl,r={module:"API",method:e,idSite:this.matomoConfigs.idSite,token_auth:this.matomoConfigs.tokenAuth,format:"json",...t},o=await i.default.get(n,{params:r});if("error"===o?.data?.result)throw{...o?.data};return o.data}catch(e){throw console.error("Error making Matomo API request:",e),e}}}async getEventsCategory(e){const t=this.createMatomoAPIRequest(r.EventsMethods.getCategory),n=await t(e);return(0,o.mergeEventsPerCategories)(n)}async getEventsAction(e){const t=this.createMatomoAPIRequest(r.EventsMethods.getAction),n=await t(e);return(0,o.mergeEventsPerCategories)(n)}async getEventsName(e){const t=this.createMatomoAPIRequest(r.EventsMethods.getName),n=await t(e);return(0,o.mergeEventsPerCategories)(n)}}},484:function(e,t,n){n.d(t,{EventsMethods:function(){return r},EventsSegments:function(){return o}});const r={getCategory:"Events.getCategory",getAction:"Events.getAction",getName:"Events.getName"},o={eventCategory:"eventCategory"}},630:function(e,t,n){n.d(t,{mergeEventsPerCategories:function(){return r}});const r=e=>{const t={};for(const n in e){const r=e[n];for(const e of r){const{label:n,...r}=e;t[n]?t[n]={...t[n],...r,nb_visits:t[n].nb_visits+e.nb_visits,nb_events:t[n].nb_events+e.nb_events}:t[n]={...r}}}return t}},803:function(e,t,n){n.d(t,{MatomoClientFacade:function(){return c}});var r=n(333),o=n(589),i=n(135),s=n(484);function a(e){(0,i.checkPeriod)(e);const{format:t,magicValue:n,value:r}=e;return"magic"===t?"last"+n:`${r.start}${r.end?",":""}${r.end}`}class c extends r.ShopinzenAnalyticsClient{matomoClientCore;constructor(e){super(),this.matomoClientCore=new o.default(e)}async getEventCount(e){const{events:t,period:n,matomo:{}={}}=e;(0,i.checkPeriod)(n);const{OR:r}=o.matmoSegmentOperators,{eventCategory:c}=s.EventsSegments;let u="segment=";for(let e=0;e<t.length;e++)u+=`${c}==${t[e].name}${e<t.length?r:""}`;const l={period:"day",date:a(n)};return new Promise((async(e,n)=>{await this.matomoClientCore.getEventsCategory(l).then((n=>{const r={};for(let e=0;e<t.length;e++){const o=t[e].name;r[o]=n[o]?.nb_events||0}e(r)})).catch((e=>{n(e)}))}))}}},333:function(e,t,n){n.d(t,{ShopinzenAnalyticsClient:function(){return r}});class r{async getVisitsPerPeriod(e){}async getEventCount(e){}}},135:function(e,t,n){function r(e){const{format:t,value:n,magicValue:r}=e;if(!t)throw new Error("period format is required");if("magic"===t&&"string"!=typeof r&&"number"!=typeof r)throw new Error(" unexpected magicValue "+r+" for format magic. Must be string|number");if("date"===t&&("object"!=typeof n||!n.start))throw new Error(" unexpected period value for format date. must be of type {start:string, end:string}")}n.d(t,{checkPeriod:function(){return r}})}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return function(){n.r(r),n.d(r,{ShopinzenAnalytics:function(){return o}});var e=n(418),t=n(803);t.MatomoClientFacade,e.GA4ClientFacade;class o{clientType;activeClient;constructor(){}initGA4(t){this.clientType="ga4",this.activeClient=new e.GA4ClientFacade(t)}get ga4Utils(){return{listAccounts:this.activeClient.listAccounts,isInitializing:this.activeClient.gapiService.initializationPending,service:this.activeClient.gapiService}}initMatomo(e){this.clientType="matomo",this.activeClient=new t.MatomoClientFacade(e)}async getVisitsPerPeriod(e){return this.checkIfReady(),await this.activeClient.getVisitsPerPeriod(e)}async getEventCount(e){return this.checkIfReady(),await this.activeClient.getEventCount(e)}checkIfReady(){if(!this.activeClient)throw new Error("Client isnt set.")}clone(){const e=new o,t=this;return Object.keys(t).map((n=>{e[n]=t[n]})),e}}}(),r}()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFPLFdBRTdEckcsT0FBT29HLGVBQWVqSCxFQUFTLGFBQWMsQ0FBRWtILE9BQU8sR0FDdkQsMkdDTVUsRUFBQWdxQixtQkFDSCxFQUFBL0QsZ0JBSUEsTUFBTTRFLEVBQ1hDLFdBQ1FDLGFBRVIsV0FBQTVzQixHQUFnQixDQUdoQixPQUFBNnNCLENBQVExakIsR0FDTnBJLEtBQUs0ckIsV0FBYSxNQUNsQjVyQixLQUFLNnJCLGFBQWUsSUFBSSxFQUFBOUUsZ0JBQWdCM2UsRUFDMUMsQ0FDQSxZQUFJMmpCLEdBQ0YsTUFBTyxDQUNMckgsYUFBZTFrQixLQUFLNnJCLGFBQWlDbkgsYUFDckRzSCxlQUFpQmhzQixLQUFLNnJCLGFBQWlDNUUsWUFBWXpFLHNCQUNuRXlKLFFBQVVqc0IsS0FBSzZyQixhQUFpQzVFLFlBRXBELENBR0EsVUFBQWlGLENBQVc5akIsR0FDVHBJLEtBQUs0ckIsV0FBYSxTQUNsQjVyQixLQUFLNnJCLGFBQWUsSUFBSSxFQUFBZixtQkFBbUIxaUIsRUFDN0MsQ0FHQSx3QkFBTStlLENBQW1CL2UsR0FFdkIsT0FEQXBJLEtBQUttc0IscUJBQ1Fuc0IsS0FBSzZyQixhQUFhMUUsbUJBQW1CL2UsRUFDcEQsQ0FFQSxtQkFBTWtmLENBQWNsZixHQUVsQixPQURBcEksS0FBS21zQixxQkFDUW5zQixLQUFLNnJCLGFBQWF2RSxjQUFjbGYsRUFDL0MsQ0FFQSxZQUFBK2pCLEdBQ0UsSUFBS25zQixLQUFLNnJCLGFBQ1IsTUFBTSxJQUFJaHBCLE1BQU0sbUJBRXBCLENBSU8sS0FBQXVwQixHQUNMLE1BQU1yTCxFQUFXLElBQUk0SyxFQUNmVSxFQUFhcnNCLEtBSW5CLE9BSEF2RixPQUFPcUMsS0FBS3V2QixHQUFZam1CLEtBQUk4RixJQUMxQjZVLEVBQVM3VSxHQUFLbWdCLEVBQVduZ0IsRUFBRSxJQUV0QjZVLENBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zaG9waW56ZW4tYW5hbHl0aWNzL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9zaG9waW56ZW4tYW5hbHl0aWNzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL2F4aW9zQDEuNi4yL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9iaW5kLmpzIiwid2VicGFjazovL3Nob3Bpbnplbi1hbmFseXRpY3MvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi91dGlscy5qcyIsIndlYnBhY2s6Ly9zaG9waW56ZW4tYW5hbHl0aWNzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL2F4aW9zQDEuNi4yL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9BeGlvc0Vycm9yLmpzIiwid2VicGFjazovL3Nob3Bpbnplbi1hbmFseXRpY3MvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3RvRm9ybURhdGEuanMiLCJ3ZWJwYWNrOi8vc2hvcGluemVuLWFuYWx5dGljcy8uL25vZGVfbW9kdWxlcy8ucG5wbS9heGlvc0AxLjYuMi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvQXhpb3NVUkxTZWFyY2hQYXJhbXMuanMiLCJ3ZWJwYWNrOi8vc2hvcGluemVuLWFuYWx5dGljcy8uL25vZGVfbW9kdWxlcy8ucG5wbS9heGlvc0AxLjYuMi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvYnVpbGRVUkwuanMiLCJ3ZWJwYWNrOi8vc2hvcGluemVuLWFuYWx5dGljcy8uL25vZGVfbW9kdWxlcy8ucG5wbS9heGlvc0AxLjYuMi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvSW50ZXJjZXB0b3JNYW5hZ2VyLmpzIiwid2VicGFjazovL3Nob3Bpbnplbi1hbmFseXRpY3MvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9kZWZhdWx0cy90cmFuc2l0aW9uYWwuanMiLCJ3ZWJwYWNrOi8vc2hvcGluemVuLWFuYWx5dGljcy8uL25vZGVfbW9kdWxlcy8ucG5wbS9heGlvc0AxLjYuMi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL3BsYXRmb3JtL2Jyb3dzZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vc2hvcGluemVuLWFuYWx5dGljcy8uL25vZGVfbW9kdWxlcy8ucG5wbS9heGlvc0AxLjYuMi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL3BsYXRmb3JtL2Jyb3dzZXIvY2xhc3Nlcy9VUkxTZWFyY2hQYXJhbXMuanMiLCJ3ZWJwYWNrOi8vc2hvcGluemVuLWFuYWx5dGljcy8uL25vZGVfbW9kdWxlcy8ucG5wbS9heGlvc0AxLjYuMi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL3BsYXRmb3JtL2Jyb3dzZXIvY2xhc3Nlcy9Gb3JtRGF0YS5qcyIsIndlYnBhY2s6Ly9zaG9waW56ZW4tYW5hbHl0aWNzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL2F4aW9zQDEuNi4yL25vZGVfbW9kdWxlcy9heGlvcy9saWIvcGxhdGZvcm0vYnJvd3Nlci9jbGFzc2VzL0Jsb2IuanMiLCJ3ZWJwYWNrOi8vc2hvcGluemVuLWFuYWx5dGljcy8uL25vZGVfbW9kdWxlcy8ucG5wbS9heGlvc0AxLjYuMi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL3BsYXRmb3JtL2NvbW1vbi91dGlscy5qcyIsIndlYnBhY2s6Ly9zaG9waW56ZW4tYW5hbHl0aWNzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL2F4aW9zQDEuNi4yL25vZGVfbW9kdWxlcy9heGlvcy9saWIvcGxhdGZvcm0vaW5kZXguanMiLCJ3ZWJwYWNrOi8vc2hvcGluemVuLWFuYWx5dGljcy8uL25vZGVfbW9kdWxlcy8ucG5wbS9heGlvc0AxLjYuMi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvZm9ybURhdGFUb0pTT04uanMiLCJ3ZWJwYWNrOi8vc2hvcGluemVuLWFuYWx5dGljcy8uL25vZGVfbW9kdWxlcy8ucG5wbS9heGlvc0AxLjYuMi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2RlZmF1bHRzL2luZGV4LmpzIiwid2VicGFjazovL3Nob3Bpbnplbi1hbmFseXRpY3MvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3RvVVJMRW5jb2RlZEZvcm0uanMiLCJ3ZWJwYWNrOi8vc2hvcGluemVuLWFuYWx5dGljcy8uL25vZGVfbW9kdWxlcy8ucG5wbS9heGlvc0AxLjYuMi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvcGFyc2VIZWFkZXJzLmpzIiwid2VicGFjazovL3Nob3Bpbnplbi1hbmFseXRpY3MvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL0F4aW9zSGVhZGVycy5qcyIsIndlYnBhY2s6Ly9zaG9waW56ZW4tYW5hbHl0aWNzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL2F4aW9zQDEuNi4yL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS90cmFuc2Zvcm1EYXRhLmpzIiwid2VicGFjazovL3Nob3Bpbnplbi1hbmFseXRpY3MvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvaXNDYW5jZWwuanMiLCJ3ZWJwYWNrOi8vc2hvcGluemVuLWFuYWx5dGljcy8uL25vZGVfbW9kdWxlcy8ucG5wbS9heGlvc0AxLjYuMi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NhbmNlbC9DYW5jZWxlZEVycm9yLmpzIiwid2VicGFjazovL3Nob3Bpbnplbi1hbmFseXRpY3MvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2Nvb2tpZXMuanMiLCJ3ZWJwYWNrOi8vc2hvcGluemVuLWFuYWx5dGljcy8uL25vZGVfbW9kdWxlcy8ucG5wbS9heGlvc0AxLjYuMi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvYnVpbGRGdWxsUGF0aC5qcyIsIndlYnBhY2s6Ly9zaG9waW56ZW4tYW5hbHl0aWNzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL2F4aW9zQDEuNi4yL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9pc0Fic29sdXRlVVJMLmpzIiwid2VicGFjazovL3Nob3Bpbnplbi1hbmFseXRpY3MvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2NvbWJpbmVVUkxzLmpzIiwid2VicGFjazovL3Nob3Bpbnplbi1hbmFseXRpY3MvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2lzVVJMU2FtZU9yaWdpbi5qcyIsIndlYnBhY2s6Ly9zaG9waW56ZW4tYW5hbHl0aWNzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL2F4aW9zQDEuNi4yL25vZGVfbW9kdWxlcy9heGlvcy9saWIvYWRhcHRlcnMveGhyLmpzIiwid2VicGFjazovL3Nob3Bpbnplbi1hbmFseXRpY3MvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3NwZWVkb21ldGVyLmpzIiwid2VicGFjazovL3Nob3Bpbnplbi1hbmFseXRpY3MvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9hZGFwdGVycy9hZGFwdGVycy5qcyIsIndlYnBhY2s6Ly9zaG9waW56ZW4tYW5hbHl0aWNzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL2F4aW9zQDEuNi4yL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9udWxsLmpzIiwid2VicGFjazovL3Nob3Bpbnplbi1hbmFseXRpY3MvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL3NldHRsZS5qcyIsIndlYnBhY2s6Ly9zaG9waW56ZW4tYW5hbHl0aWNzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL2F4aW9zQDEuNi4yL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9wYXJzZVByb3RvY29sLmpzIiwid2VicGFjazovL3Nob3Bpbnplbi1hbmFseXRpY3MvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2Rpc3BhdGNoUmVxdWVzdC5qcyIsIndlYnBhY2s6Ly9zaG9waW56ZW4tYW5hbHl0aWNzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL2F4aW9zQDEuNi4yL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9tZXJnZUNvbmZpZy5qcyIsIndlYnBhY2s6Ly9zaG9waW56ZW4tYW5hbHl0aWNzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL2F4aW9zQDEuNi4yL25vZGVfbW9kdWxlcy9heGlvcy9saWIvZW52L2RhdGEuanMiLCJ3ZWJwYWNrOi8vc2hvcGluemVuLWFuYWx5dGljcy8uL25vZGVfbW9kdWxlcy8ucG5wbS9heGlvc0AxLjYuMi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvdmFsaWRhdG9yLmpzIiwid2VicGFjazovL3Nob3Bpbnplbi1hbmFseXRpY3MvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL0F4aW9zLmpzIiwid2VicGFjazovL3Nob3Bpbnplbi1hbmFseXRpY3MvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvQ2FuY2VsVG9rZW4uanMiLCJ3ZWJwYWNrOi8vc2hvcGluemVuLWFuYWx5dGljcy8uL25vZGVfbW9kdWxlcy8ucG5wbS9heGlvc0AxLjYuMi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvSHR0cFN0YXR1c0NvZGUuanMiLCJ3ZWJwYWNrOi8vc2hvcGluemVuLWFuYWx5dGljcy8uL25vZGVfbW9kdWxlcy8ucG5wbS9heGlvc0AxLjYuMi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2F4aW9zLmpzIiwid2VicGFjazovL3Nob3Bpbnplbi1hbmFseXRpY3MvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3NwcmVhZC5qcyIsIndlYnBhY2s6Ly9zaG9waW56ZW4tYW5hbHl0aWNzLy4vbm9kZV9tb2R1bGVzLy5wbnBtL2F4aW9zQDEuNi4yL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9pc0F4aW9zRXJyb3IuanMiLCJ3ZWJwYWNrOi8vc2hvcGluemVuLWFuYWx5dGljcy8uL3NyYy9kZXBzL2h0dHAtY2xpZW50LnRzIiwid2VicGFjazovL3Nob3Bpbnplbi1hbmFseXRpY3MvLi9zcmMvbGliL2dhcGkvYW5hbHl0aWNzL2dhcGkuYW5hbHl0aWNzLnNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vc2hvcGluemVuLWFuYWx5dGljcy8uL3NyYy9saWIvZ2FwaS9nYXBpLnV0aWxzLnRzIiwid2VicGFjazovL3Nob3Bpbnplbi1hbmFseXRpY3MvLi9zcmMvbGliL2dhcGkvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vc2hvcGluemVuLWFuYWx5dGljcy8uL25vZGVfbW9kdWxlcy8ucG5wbS9qcy1jb29raWVAMy4wLjUvbm9kZV9tb2R1bGVzL2pzLWNvb2tpZS9kaXN0L2pzLmNvb2tpZS5tanMiLCJ3ZWJwYWNrOi8vc2hvcGluemVuLWFuYWx5dGljcy8uL3NyYy9saWIvZ2FwaS9zdG9yYWdlLnNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vc2hvcGluemVuLWFuYWx5dGljcy8uL3NyYy9saWIvbWF0b21vL2FwaS9jb3JlLnRzIiwid2VicGFjazovL3Nob3Bpbnplbi1hbmFseXRpY3MvLi9zcmMvbGliL21hdG9tby9hcGkvZXZlbnRzL2V2ZW50LnRzIiwid2VicGFjazovL3Nob3Bpbnplbi1hbmFseXRpY3MvLi9zcmMvbGliL21hdG9tby9hcGkvZXZlbnRzL2hlbHBlcnMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vc2hvcGluemVuLWFuYWx5dGljcy8uL3NyYy9saWIvbWF0b21vL2luZGV4LnRzIiwid2VicGFjazovL3Nob3Bpbnplbi1hbmFseXRpY3MvLi9zcmMvdHlwZXMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vc2hvcGluemVuLWFuYWx5dGljcy8uL3NyYy91dGlscy9pbmRleC50cyIsIndlYnBhY2s6Ly9zaG9waW56ZW4tYW5hbHl0aWNzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3Nob3Bpbnplbi1hbmFseXRpY3Mvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3Nob3Bpbnplbi1hbmFseXRpY3Mvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9zaG9waW56ZW4tYW5hbHl0aWNzL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vc2hvcGluemVuLWFuYWx5dGljcy8uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2Uge1xuXHRcdHZhciBhID0gZmFjdG9yeSgpO1xuXHRcdGZvcih2YXIgaSBpbiBhKSAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnID8gZXhwb3J0cyA6IHJvb3QpW2ldID0gYVtpXTtcblx0fVxufSkoc2VsZiwgZnVuY3Rpb24oKSB7XG5yZXR1cm4gIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBiaW5kKGZuLCB0aGlzQXJnKSB7XG4gIHJldHVybiBmdW5jdGlvbiB3cmFwKCkge1xuICAgIHJldHVybiBmbi5hcHBseSh0aGlzQXJnLCBhcmd1bWVudHMpO1xuICB9O1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgYmluZCBmcm9tICcuL2hlbHBlcnMvYmluZC5qcyc7XG5cbi8vIHV0aWxzIGlzIGEgbGlicmFyeSBvZiBnZW5lcmljIGhlbHBlciBmdW5jdGlvbnMgbm9uLXNwZWNpZmljIHRvIGF4aW9zXG5cbmNvbnN0IHt0b1N0cmluZ30gPSBPYmplY3QucHJvdG90eXBlO1xuY29uc3Qge2dldFByb3RvdHlwZU9mfSA9IE9iamVjdDtcblxuY29uc3Qga2luZE9mID0gKGNhY2hlID0+IHRoaW5nID0+IHtcbiAgICBjb25zdCBzdHIgPSB0b1N0cmluZy5jYWxsKHRoaW5nKTtcbiAgICByZXR1cm4gY2FjaGVbc3RyXSB8fCAoY2FjaGVbc3RyXSA9IHN0ci5zbGljZSg4LCAtMSkudG9Mb3dlckNhc2UoKSk7XG59KShPYmplY3QuY3JlYXRlKG51bGwpKTtcblxuY29uc3Qga2luZE9mVGVzdCA9ICh0eXBlKSA9PiB7XG4gIHR5cGUgPSB0eXBlLnRvTG93ZXJDYXNlKCk7XG4gIHJldHVybiAodGhpbmcpID0+IGtpbmRPZih0aGluZykgPT09IHR5cGVcbn1cblxuY29uc3QgdHlwZU9mVGVzdCA9IHR5cGUgPT4gdGhpbmcgPT4gdHlwZW9mIHRoaW5nID09PSB0eXBlO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIEFycmF5XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEFycmF5LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3Qge2lzQXJyYXl9ID0gQXJyYXk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgdW5kZWZpbmVkXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmFsdWUgaXMgdW5kZWZpbmVkLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNVbmRlZmluZWQgPSB0eXBlT2ZUZXN0KCd1bmRlZmluZWQnKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0J1ZmZlcih2YWwpIHtcbiAgcmV0dXJuIHZhbCAhPT0gbnVsbCAmJiAhaXNVbmRlZmluZWQodmFsKSAmJiB2YWwuY29uc3RydWN0b3IgIT09IG51bGwgJiYgIWlzVW5kZWZpbmVkKHZhbC5jb25zdHJ1Y3RvcilcbiAgICAmJiBpc0Z1bmN0aW9uKHZhbC5jb25zdHJ1Y3Rvci5pc0J1ZmZlcikgJiYgdmFsLmNvbnN0cnVjdG9yLmlzQnVmZmVyKHZhbCk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gQXJyYXlCdWZmZXJcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEFycmF5QnVmZmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNBcnJheUJ1ZmZlciA9IGtpbmRPZlRlc3QoJ0FycmF5QnVmZmVyJyk7XG5cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIHZpZXcgb24gYW4gQXJyYXlCdWZmZXJcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgdmlldyBvbiBhbiBBcnJheUJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlCdWZmZXJWaWV3KHZhbCkge1xuICBsZXQgcmVzdWx0O1xuICBpZiAoKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcpICYmIChBcnJheUJ1ZmZlci5pc1ZpZXcpKSB7XG4gICAgcmVzdWx0ID0gQXJyYXlCdWZmZXIuaXNWaWV3KHZhbCk7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0ID0gKHZhbCkgJiYgKHZhbC5idWZmZXIpICYmIChpc0FycmF5QnVmZmVyKHZhbC5idWZmZXIpKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgU3RyaW5nXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFN0cmluZywgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzU3RyaW5nID0gdHlwZU9mVGVzdCgnc3RyaW5nJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGdW5jdGlvblxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEZ1bmN0aW9uLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNGdW5jdGlvbiA9IHR5cGVPZlRlc3QoJ2Z1bmN0aW9uJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBOdW1iZXJcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgTnVtYmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNOdW1iZXIgPSB0eXBlT2ZUZXN0KCdudW1iZXInKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBPYmplY3RcbiAqXG4gKiBAcGFyYW0geyp9IHRoaW5nIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gT2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNPYmplY3QgPSAodGhpbmcpID0+IHRoaW5nICE9PSBudWxsICYmIHR5cGVvZiB0aGluZyA9PT0gJ29iamVjdCc7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBCb29sZWFuXG4gKlxuICogQHBhcmFtIHsqfSB0aGluZyBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBCb29sZWFuLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNCb29sZWFuID0gdGhpbmcgPT4gdGhpbmcgPT09IHRydWUgfHwgdGhpbmcgPT09IGZhbHNlO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgcGxhaW4gT2JqZWN0XG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIHBsYWluIE9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzUGxhaW5PYmplY3QgPSAodmFsKSA9PiB7XG4gIGlmIChraW5kT2YodmFsKSAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBwcm90b3R5cGUgPSBnZXRQcm90b3R5cGVPZih2YWwpO1xuICByZXR1cm4gKHByb3RvdHlwZSA9PT0gbnVsbCB8fCBwcm90b3R5cGUgPT09IE9iamVjdC5wcm90b3R5cGUgfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKHByb3RvdHlwZSkgPT09IG51bGwpICYmICEoU3ltYm9sLnRvU3RyaW5nVGFnIGluIHZhbCkgJiYgIShTeW1ib2wuaXRlcmF0b3IgaW4gdmFsKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIERhdGVcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRGF0ZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzRGF0ZSA9IGtpbmRPZlRlc3QoJ0RhdGUnKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZpbGVcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRmlsZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzRmlsZSA9IGtpbmRPZlRlc3QoJ0ZpbGUnKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEJsb2JcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgQmxvYiwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzQmxvYiA9IGtpbmRPZlRlc3QoJ0Jsb2InKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZpbGVMaXN0XG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEZpbGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc0ZpbGVMaXN0ID0ga2luZE9mVGVzdCgnRmlsZUxpc3QnKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFN0cmVhbVxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBTdHJlYW0sIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc1N0cmVhbSA9ICh2YWwpID0+IGlzT2JqZWN0KHZhbCkgJiYgaXNGdW5jdGlvbih2YWwucGlwZSk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGb3JtRGF0YVxuICpcbiAqIEBwYXJhbSB7Kn0gdGhpbmcgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBGb3JtRGF0YSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzRm9ybURhdGEgPSAodGhpbmcpID0+IHtcbiAgbGV0IGtpbmQ7XG4gIHJldHVybiB0aGluZyAmJiAoXG4gICAgKHR5cGVvZiBGb3JtRGF0YSA9PT0gJ2Z1bmN0aW9uJyAmJiB0aGluZyBpbnN0YW5jZW9mIEZvcm1EYXRhKSB8fCAoXG4gICAgICBpc0Z1bmN0aW9uKHRoaW5nLmFwcGVuZCkgJiYgKFxuICAgICAgICAoa2luZCA9IGtpbmRPZih0aGluZykpID09PSAnZm9ybWRhdGEnIHx8XG4gICAgICAgIC8vIGRldGVjdCBmb3JtLWRhdGEgaW5zdGFuY2VcbiAgICAgICAgKGtpbmQgPT09ICdvYmplY3QnICYmIGlzRnVuY3Rpb24odGhpbmcudG9TdHJpbmcpICYmIHRoaW5nLnRvU3RyaW5nKCkgPT09ICdbb2JqZWN0IEZvcm1EYXRhXScpXG4gICAgICApXG4gICAgKVxuICApXG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBVUkxTZWFyY2hQYXJhbXMgb2JqZWN0XG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFVSTFNlYXJjaFBhcmFtcyBvYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc1VSTFNlYXJjaFBhcmFtcyA9IGtpbmRPZlRlc3QoJ1VSTFNlYXJjaFBhcmFtcycpO1xuXG4vKipcbiAqIFRyaW0gZXhjZXNzIHdoaXRlc3BhY2Ugb2ZmIHRoZSBiZWdpbm5pbmcgYW5kIGVuZCBvZiBhIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgVGhlIFN0cmluZyB0byB0cmltXG4gKlxuICogQHJldHVybnMge1N0cmluZ30gVGhlIFN0cmluZyBmcmVlZCBvZiBleGNlc3Mgd2hpdGVzcGFjZVxuICovXG5jb25zdCB0cmltID0gKHN0cikgPT4gc3RyLnRyaW0gP1xuICBzdHIudHJpbSgpIDogc3RyLnJlcGxhY2UoL15bXFxzXFx1RkVGRlxceEEwXSt8W1xcc1xcdUZFRkZcXHhBMF0rJC9nLCAnJyk7XG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGFuIEFycmF5IG9yIGFuIE9iamVjdCBpbnZva2luZyBhIGZ1bmN0aW9uIGZvciBlYWNoIGl0ZW0uXG4gKlxuICogSWYgYG9iamAgaXMgYW4gQXJyYXkgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgcGFzc2luZ1xuICogdGhlIHZhbHVlLCBpbmRleCwgYW5kIGNvbXBsZXRlIGFycmF5IGZvciBlYWNoIGl0ZW0uXG4gKlxuICogSWYgJ29iaicgaXMgYW4gT2JqZWN0IGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHBhc3NpbmdcbiAqIHRoZSB2YWx1ZSwga2V5LCBhbmQgY29tcGxldGUgb2JqZWN0IGZvciBlYWNoIHByb3BlcnR5LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBvYmogVGhlIG9iamVjdCB0byBpdGVyYXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgY2FsbGJhY2sgdG8gaW52b2tlIGZvciBlYWNoIGl0ZW1cbiAqXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFthbGxPd25LZXlzID0gZmFsc2VdXG4gKiBAcmV0dXJucyB7YW55fVxuICovXG5mdW5jdGlvbiBmb3JFYWNoKG9iaiwgZm4sIHthbGxPd25LZXlzID0gZmFsc2V9ID0ge30pIHtcbiAgLy8gRG9uJ3QgYm90aGVyIGlmIG5vIHZhbHVlIHByb3ZpZGVkXG4gIGlmIChvYmogPT09IG51bGwgfHwgdHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBsZXQgaTtcbiAgbGV0IGw7XG5cbiAgLy8gRm9yY2UgYW4gYXJyYXkgaWYgbm90IGFscmVhZHkgc29tZXRoaW5nIGl0ZXJhYmxlXG4gIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xuICAgIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAgIG9iaiA9IFtvYmpdO1xuICB9XG5cbiAgaWYgKGlzQXJyYXkob2JqKSkge1xuICAgIC8vIEl0ZXJhdGUgb3ZlciBhcnJheSB2YWx1ZXNcbiAgICBmb3IgKGkgPSAwLCBsID0gb2JqLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgZm4uY2FsbChudWxsLCBvYmpbaV0sIGksIG9iaik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIEl0ZXJhdGUgb3ZlciBvYmplY3Qga2V5c1xuICAgIGNvbnN0IGtleXMgPSBhbGxPd25LZXlzID8gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMob2JqKSA6IE9iamVjdC5rZXlzKG9iaik7XG4gICAgY29uc3QgbGVuID0ga2V5cy5sZW5ndGg7XG4gICAgbGV0IGtleTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgIGZuLmNhbGwobnVsbCwgb2JqW2tleV0sIGtleSwgb2JqKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZmluZEtleShvYmosIGtleSkge1xuICBrZXkgPSBrZXkudG9Mb3dlckNhc2UoKTtcbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gIGxldCBpID0ga2V5cy5sZW5ndGg7XG4gIGxldCBfa2V5O1xuICB3aGlsZSAoaS0tID4gMCkge1xuICAgIF9rZXkgPSBrZXlzW2ldO1xuICAgIGlmIChrZXkgPT09IF9rZXkudG9Mb3dlckNhc2UoKSkge1xuICAgICAgcmV0dXJuIF9rZXk7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5jb25zdCBfZ2xvYmFsID0gKCgpID0+IHtcbiAgLyplc2xpbnQgbm8tdW5kZWY6MCovXG4gIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuIGdsb2JhbFRoaXM7XG4gIHJldHVybiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiBnbG9iYWwpXG59KSgpO1xuXG5jb25zdCBpc0NvbnRleHREZWZpbmVkID0gKGNvbnRleHQpID0+ICFpc1VuZGVmaW5lZChjb250ZXh0KSAmJiBjb250ZXh0ICE9PSBfZ2xvYmFsO1xuXG4vKipcbiAqIEFjY2VwdHMgdmFyYXJncyBleHBlY3RpbmcgZWFjaCBhcmd1bWVudCB0byBiZSBhbiBvYmplY3QsIHRoZW5cbiAqIGltbXV0YWJseSBtZXJnZXMgdGhlIHByb3BlcnRpZXMgb2YgZWFjaCBvYmplY3QgYW5kIHJldHVybnMgcmVzdWx0LlxuICpcbiAqIFdoZW4gbXVsdGlwbGUgb2JqZWN0cyBjb250YWluIHRoZSBzYW1lIGtleSB0aGUgbGF0ZXIgb2JqZWN0IGluXG4gKiB0aGUgYXJndW1lbnRzIGxpc3Qgd2lsbCB0YWtlIHByZWNlZGVuY2UuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiBgYGBqc1xuICogdmFyIHJlc3VsdCA9IG1lcmdlKHtmb286IDEyM30sIHtmb286IDQ1Nn0pO1xuICogY29uc29sZS5sb2cocmVzdWx0LmZvbyk7IC8vIG91dHB1dHMgNDU2XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqMSBPYmplY3QgdG8gbWVyZ2VcbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXN1bHQgb2YgYWxsIG1lcmdlIHByb3BlcnRpZXNcbiAqL1xuZnVuY3Rpb24gbWVyZ2UoLyogb2JqMSwgb2JqMiwgb2JqMywgLi4uICovKSB7XG4gIGNvbnN0IHtjYXNlbGVzc30gPSBpc0NvbnRleHREZWZpbmVkKHRoaXMpICYmIHRoaXMgfHwge307XG4gIGNvbnN0IHJlc3VsdCA9IHt9O1xuICBjb25zdCBhc3NpZ25WYWx1ZSA9ICh2YWwsIGtleSkgPT4ge1xuICAgIGNvbnN0IHRhcmdldEtleSA9IGNhc2VsZXNzICYmIGZpbmRLZXkocmVzdWx0LCBrZXkpIHx8IGtleTtcbiAgICBpZiAoaXNQbGFpbk9iamVjdChyZXN1bHRbdGFyZ2V0S2V5XSkgJiYgaXNQbGFpbk9iamVjdCh2YWwpKSB7XG4gICAgICByZXN1bHRbdGFyZ2V0S2V5XSA9IG1lcmdlKHJlc3VsdFt0YXJnZXRLZXldLCB2YWwpO1xuICAgIH0gZWxzZSBpZiAoaXNQbGFpbk9iamVjdCh2YWwpKSB7XG4gICAgICByZXN1bHRbdGFyZ2V0S2V5XSA9IG1lcmdlKHt9LCB2YWwpO1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheSh2YWwpKSB7XG4gICAgICByZXN1bHRbdGFyZ2V0S2V5XSA9IHZhbC5zbGljZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHRbdGFyZ2V0S2V5XSA9IHZhbDtcbiAgICB9XG4gIH1cblxuICBmb3IgKGxldCBpID0gMCwgbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBhcmd1bWVudHNbaV0gJiYgZm9yRWFjaChhcmd1bWVudHNbaV0sIGFzc2lnblZhbHVlKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEV4dGVuZHMgb2JqZWN0IGEgYnkgbXV0YWJseSBhZGRpbmcgdG8gaXQgdGhlIHByb3BlcnRpZXMgb2Ygb2JqZWN0IGIuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGEgVGhlIG9iamVjdCB0byBiZSBleHRlbmRlZFxuICogQHBhcmFtIHtPYmplY3R9IGIgVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbVxuICogQHBhcmFtIHtPYmplY3R9IHRoaXNBcmcgVGhlIG9iamVjdCB0byBiaW5kIGZ1bmN0aW9uIHRvXG4gKlxuICogQHBhcmFtIHtCb29sZWFufSBbYWxsT3duS2V5c11cbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSByZXN1bHRpbmcgdmFsdWUgb2Ygb2JqZWN0IGFcbiAqL1xuY29uc3QgZXh0ZW5kID0gKGEsIGIsIHRoaXNBcmcsIHthbGxPd25LZXlzfT0ge30pID0+IHtcbiAgZm9yRWFjaChiLCAodmFsLCBrZXkpID0+IHtcbiAgICBpZiAodGhpc0FyZyAmJiBpc0Z1bmN0aW9uKHZhbCkpIHtcbiAgICAgIGFba2V5XSA9IGJpbmQodmFsLCB0aGlzQXJnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYVtrZXldID0gdmFsO1xuICAgIH1cbiAgfSwge2FsbE93bktleXN9KTtcbiAgcmV0dXJuIGE7XG59XG5cbi8qKlxuICogUmVtb3ZlIGJ5dGUgb3JkZXIgbWFya2VyLiBUaGlzIGNhdGNoZXMgRUYgQkIgQkYgKHRoZSBVVEYtOCBCT00pXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbnRlbnQgd2l0aCBCT01cbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBjb250ZW50IHZhbHVlIHdpdGhvdXQgQk9NXG4gKi9cbmNvbnN0IHN0cmlwQk9NID0gKGNvbnRlbnQpID0+IHtcbiAgaWYgKGNvbnRlbnQuY2hhckNvZGVBdCgwKSA9PT0gMHhGRUZGKSB7XG4gICAgY29udGVudCA9IGNvbnRlbnQuc2xpY2UoMSk7XG4gIH1cbiAgcmV0dXJuIGNvbnRlbnQ7XG59XG5cbi8qKlxuICogSW5oZXJpdCB0aGUgcHJvdG90eXBlIG1ldGhvZHMgZnJvbSBvbmUgY29uc3RydWN0b3IgaW50byBhbm90aGVyXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtmdW5jdGlvbn0gc3VwZXJDb25zdHJ1Y3RvclxuICogQHBhcmFtIHtvYmplY3R9IFtwcm9wc11cbiAqIEBwYXJhbSB7b2JqZWN0fSBbZGVzY3JpcHRvcnNdXG4gKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmNvbnN0IGluaGVyaXRzID0gKGNvbnN0cnVjdG9yLCBzdXBlckNvbnN0cnVjdG9yLCBwcm9wcywgZGVzY3JpcHRvcnMpID0+IHtcbiAgY29uc3RydWN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNvbnN0cnVjdG9yLnByb3RvdHlwZSwgZGVzY3JpcHRvcnMpO1xuICBjb25zdHJ1Y3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjb25zdHJ1Y3RvcjtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbnN0cnVjdG9yLCAnc3VwZXInLCB7XG4gICAgdmFsdWU6IHN1cGVyQ29uc3RydWN0b3IucHJvdG90eXBlXG4gIH0pO1xuICBwcm9wcyAmJiBPYmplY3QuYXNzaWduKGNvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvcHMpO1xufVxuXG4vKipcbiAqIFJlc29sdmUgb2JqZWN0IHdpdGggZGVlcCBwcm90b3R5cGUgY2hhaW4gdG8gYSBmbGF0IG9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZU9iaiBzb3VyY2Ugb2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gW2Rlc3RPYmpdXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufEJvb2xlYW59IFtmaWx0ZXJdXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJvcEZpbHRlcl1cbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICovXG5jb25zdCB0b0ZsYXRPYmplY3QgPSAoc291cmNlT2JqLCBkZXN0T2JqLCBmaWx0ZXIsIHByb3BGaWx0ZXIpID0+IHtcbiAgbGV0IHByb3BzO1xuICBsZXQgaTtcbiAgbGV0IHByb3A7XG4gIGNvbnN0IG1lcmdlZCA9IHt9O1xuXG4gIGRlc3RPYmogPSBkZXN0T2JqIHx8IHt9O1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgaWYgKHNvdXJjZU9iaiA9PSBudWxsKSByZXR1cm4gZGVzdE9iajtcblxuICBkbyB7XG4gICAgcHJvcHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhzb3VyY2VPYmopO1xuICAgIGkgPSBwcm9wcy5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSA+IDApIHtcbiAgICAgIHByb3AgPSBwcm9wc1tpXTtcbiAgICAgIGlmICgoIXByb3BGaWx0ZXIgfHwgcHJvcEZpbHRlcihwcm9wLCBzb3VyY2VPYmosIGRlc3RPYmopKSAmJiAhbWVyZ2VkW3Byb3BdKSB7XG4gICAgICAgIGRlc3RPYmpbcHJvcF0gPSBzb3VyY2VPYmpbcHJvcF07XG4gICAgICAgIG1lcmdlZFtwcm9wXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHNvdXJjZU9iaiA9IGZpbHRlciAhPT0gZmFsc2UgJiYgZ2V0UHJvdG90eXBlT2Yoc291cmNlT2JqKTtcbiAgfSB3aGlsZSAoc291cmNlT2JqICYmICghZmlsdGVyIHx8IGZpbHRlcihzb3VyY2VPYmosIGRlc3RPYmopKSAmJiBzb3VyY2VPYmogIT09IE9iamVjdC5wcm90b3R5cGUpO1xuXG4gIHJldHVybiBkZXN0T2JqO1xufVxuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciBhIHN0cmluZyBlbmRzIHdpdGggdGhlIGNoYXJhY3RlcnMgb2YgYSBzcGVjaWZpZWQgc3RyaW5nXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHBhcmFtIHtTdHJpbmd9IHNlYXJjaFN0cmluZ1xuICogQHBhcmFtIHtOdW1iZXJ9IFtwb3NpdGlvbj0gMF1cbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuY29uc3QgZW5kc1dpdGggPSAoc3RyLCBzZWFyY2hTdHJpbmcsIHBvc2l0aW9uKSA9PiB7XG4gIHN0ciA9IFN0cmluZyhzdHIpO1xuICBpZiAocG9zaXRpb24gPT09IHVuZGVmaW5lZCB8fCBwb3NpdGlvbiA+IHN0ci5sZW5ndGgpIHtcbiAgICBwb3NpdGlvbiA9IHN0ci5sZW5ndGg7XG4gIH1cbiAgcG9zaXRpb24gLT0gc2VhcmNoU3RyaW5nLmxlbmd0aDtcbiAgY29uc3QgbGFzdEluZGV4ID0gc3RyLmluZGV4T2Yoc2VhcmNoU3RyaW5nLCBwb3NpdGlvbik7XG4gIHJldHVybiBsYXN0SW5kZXggIT09IC0xICYmIGxhc3RJbmRleCA9PT0gcG9zaXRpb247XG59XG5cblxuLyoqXG4gKiBSZXR1cm5zIG5ldyBhcnJheSBmcm9tIGFycmF5IGxpa2Ugb2JqZWN0IG9yIG51bGwgaWYgZmFpbGVkXG4gKlxuICogQHBhcmFtIHsqfSBbdGhpbmddXG4gKlxuICogQHJldHVybnMgez9BcnJheX1cbiAqL1xuY29uc3QgdG9BcnJheSA9ICh0aGluZykgPT4ge1xuICBpZiAoIXRoaW5nKSByZXR1cm4gbnVsbDtcbiAgaWYgKGlzQXJyYXkodGhpbmcpKSByZXR1cm4gdGhpbmc7XG4gIGxldCBpID0gdGhpbmcubGVuZ3RoO1xuICBpZiAoIWlzTnVtYmVyKGkpKSByZXR1cm4gbnVsbDtcbiAgY29uc3QgYXJyID0gbmV3IEFycmF5KGkpO1xuICB3aGlsZSAoaS0tID4gMCkge1xuICAgIGFycltpXSA9IHRoaW5nW2ldO1xuICB9XG4gIHJldHVybiBhcnI7XG59XG5cbi8qKlxuICogQ2hlY2tpbmcgaWYgdGhlIFVpbnQ4QXJyYXkgZXhpc3RzIGFuZCBpZiBpdCBkb2VzLCBpdCByZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBjaGVja3MgaWYgdGhlXG4gKiB0aGluZyBwYXNzZWQgaW4gaXMgYW4gaW5zdGFuY2Ugb2YgVWludDhBcnJheVxuICpcbiAqIEBwYXJhbSB7VHlwZWRBcnJheX1cbiAqXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5jb25zdCBpc1R5cGVkQXJyYXkgPSAoVHlwZWRBcnJheSA9PiB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gIHJldHVybiB0aGluZyA9PiB7XG4gICAgcmV0dXJuIFR5cGVkQXJyYXkgJiYgdGhpbmcgaW5zdGFuY2VvZiBUeXBlZEFycmF5O1xuICB9O1xufSkodHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnICYmIGdldFByb3RvdHlwZU9mKFVpbnQ4QXJyYXkpKTtcblxuLyoqXG4gKiBGb3IgZWFjaCBlbnRyeSBpbiB0aGUgb2JqZWN0LCBjYWxsIHRoZSBmdW5jdGlvbiB3aXRoIHRoZSBrZXkgYW5kIHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0PGFueSwgYW55Pn0gb2JqIC0gVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIFRoZSBmdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIGVudHJ5LlxuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5jb25zdCBmb3JFYWNoRW50cnkgPSAob2JqLCBmbikgPT4ge1xuICBjb25zdCBnZW5lcmF0b3IgPSBvYmogJiYgb2JqW1N5bWJvbC5pdGVyYXRvcl07XG5cbiAgY29uc3QgaXRlcmF0b3IgPSBnZW5lcmF0b3IuY2FsbChvYmopO1xuXG4gIGxldCByZXN1bHQ7XG5cbiAgd2hpbGUgKChyZXN1bHQgPSBpdGVyYXRvci5uZXh0KCkpICYmICFyZXN1bHQuZG9uZSkge1xuICAgIGNvbnN0IHBhaXIgPSByZXN1bHQudmFsdWU7XG4gICAgZm4uY2FsbChvYmosIHBhaXJbMF0sIHBhaXJbMV0pO1xuICB9XG59XG5cbi8qKlxuICogSXQgdGFrZXMgYSByZWd1bGFyIGV4cHJlc3Npb24gYW5kIGEgc3RyaW5nLCBhbmQgcmV0dXJucyBhbiBhcnJheSBvZiBhbGwgdGhlIG1hdGNoZXNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVnRXhwIC0gVGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byBtYXRjaCBhZ2FpbnN0LlxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciAtIFRoZSBzdHJpbmcgdG8gc2VhcmNoLlxuICpcbiAqIEByZXR1cm5zIHtBcnJheTxib29sZWFuPn1cbiAqL1xuY29uc3QgbWF0Y2hBbGwgPSAocmVnRXhwLCBzdHIpID0+IHtcbiAgbGV0IG1hdGNoZXM7XG4gIGNvbnN0IGFyciA9IFtdO1xuXG4gIHdoaWxlICgobWF0Y2hlcyA9IHJlZ0V4cC5leGVjKHN0cikpICE9PSBudWxsKSB7XG4gICAgYXJyLnB1c2gobWF0Y2hlcyk7XG4gIH1cblxuICByZXR1cm4gYXJyO1xufVxuXG4vKiBDaGVja2luZyBpZiB0aGUga2luZE9mVGVzdCBmdW5jdGlvbiByZXR1cm5zIHRydWUgd2hlbiBwYXNzZWQgYW4gSFRNTEZvcm1FbGVtZW50LiAqL1xuY29uc3QgaXNIVE1MRm9ybSA9IGtpbmRPZlRlc3QoJ0hUTUxGb3JtRWxlbWVudCcpO1xuXG5jb25zdCB0b0NhbWVsQ2FzZSA9IHN0ciA9PiB7XG4gIHJldHVybiBzdHIudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9bLV9cXHNdKFthLXpcXGRdKShcXHcqKS9nLFxuICAgIGZ1bmN0aW9uIHJlcGxhY2VyKG0sIHAxLCBwMikge1xuICAgICAgcmV0dXJuIHAxLnRvVXBwZXJDYXNlKCkgKyBwMjtcbiAgICB9XG4gICk7XG59O1xuXG4vKiBDcmVhdGluZyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBjaGVjayBpZiBhbiBvYmplY3QgaGFzIGEgcHJvcGVydHkuICovXG5jb25zdCBoYXNPd25Qcm9wZXJ0eSA9ICgoe2hhc093blByb3BlcnR5fSkgPT4gKG9iaiwgcHJvcCkgPT4gaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKShPYmplY3QucHJvdG90eXBlKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFJlZ0V4cCBvYmplY3RcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgUmVnRXhwIG9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzUmVnRXhwID0ga2luZE9mVGVzdCgnUmVnRXhwJyk7XG5cbmNvbnN0IHJlZHVjZURlc2NyaXB0b3JzID0gKG9iaiwgcmVkdWNlcikgPT4ge1xuICBjb25zdCBkZXNjcmlwdG9ycyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG9iaik7XG4gIGNvbnN0IHJlZHVjZWREZXNjcmlwdG9ycyA9IHt9O1xuXG4gIGZvckVhY2goZGVzY3JpcHRvcnMsIChkZXNjcmlwdG9yLCBuYW1lKSA9PiB7XG4gICAgbGV0IHJldDtcbiAgICBpZiAoKHJldCA9IHJlZHVjZXIoZGVzY3JpcHRvciwgbmFtZSwgb2JqKSkgIT09IGZhbHNlKSB7XG4gICAgICByZWR1Y2VkRGVzY3JpcHRvcnNbbmFtZV0gPSByZXQgfHwgZGVzY3JpcHRvcjtcbiAgICB9XG4gIH0pO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG9iaiwgcmVkdWNlZERlc2NyaXB0b3JzKTtcbn1cblxuLyoqXG4gKiBNYWtlcyBhbGwgbWV0aG9kcyByZWFkLW9ubHlcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqL1xuXG5jb25zdCBmcmVlemVNZXRob2RzID0gKG9iaikgPT4ge1xuICByZWR1Y2VEZXNjcmlwdG9ycyhvYmosIChkZXNjcmlwdG9yLCBuYW1lKSA9PiB7XG4gICAgLy8gc2tpcCByZXN0cmljdGVkIHByb3BzIGluIHN0cmljdCBtb2RlXG4gICAgaWYgKGlzRnVuY3Rpb24ob2JqKSAmJiBbJ2FyZ3VtZW50cycsICdjYWxsZXInLCAnY2FsbGVlJ10uaW5kZXhPZihuYW1lKSAhPT0gLTEpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCB2YWx1ZSA9IG9ialtuYW1lXTtcblxuICAgIGlmICghaXNGdW5jdGlvbih2YWx1ZSkpIHJldHVybjtcblxuICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGZhbHNlO1xuXG4gICAgaWYgKCd3cml0YWJsZScgaW4gZGVzY3JpcHRvcikge1xuICAgICAgZGVzY3JpcHRvci53cml0YWJsZSA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghZGVzY3JpcHRvci5zZXQpIHtcbiAgICAgIGRlc2NyaXB0b3Iuc2V0ID0gKCkgPT4ge1xuICAgICAgICB0aHJvdyBFcnJvcignQ2FuIG5vdCByZXdyaXRlIHJlYWQtb25seSBtZXRob2QgXFwnJyArIG5hbWUgKyAnXFwnJyk7XG4gICAgICB9O1xuICAgIH1cbiAgfSk7XG59XG5cbmNvbnN0IHRvT2JqZWN0U2V0ID0gKGFycmF5T3JTdHJpbmcsIGRlbGltaXRlcikgPT4ge1xuICBjb25zdCBvYmogPSB7fTtcblxuICBjb25zdCBkZWZpbmUgPSAoYXJyKSA9PiB7XG4gICAgYXJyLmZvckVhY2godmFsdWUgPT4ge1xuICAgICAgb2JqW3ZhbHVlXSA9IHRydWU7XG4gICAgfSk7XG4gIH1cblxuICBpc0FycmF5KGFycmF5T3JTdHJpbmcpID8gZGVmaW5lKGFycmF5T3JTdHJpbmcpIDogZGVmaW5lKFN0cmluZyhhcnJheU9yU3RyaW5nKS5zcGxpdChkZWxpbWl0ZXIpKTtcblxuICByZXR1cm4gb2JqO1xufVxuXG5jb25zdCBub29wID0gKCkgPT4ge31cblxuY29uc3QgdG9GaW5pdGVOdW1iZXIgPSAodmFsdWUsIGRlZmF1bHRWYWx1ZSkgPT4ge1xuICB2YWx1ZSA9ICt2YWx1ZTtcbiAgcmV0dXJuIE51bWJlci5pc0Zpbml0ZSh2YWx1ZSkgPyB2YWx1ZSA6IGRlZmF1bHRWYWx1ZTtcbn1cblxuY29uc3QgQUxQSEEgPSAnYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXonXG5cbmNvbnN0IERJR0lUID0gJzAxMjM0NTY3ODknO1xuXG5jb25zdCBBTFBIQUJFVCA9IHtcbiAgRElHSVQsXG4gIEFMUEhBLFxuICBBTFBIQV9ESUdJVDogQUxQSEEgKyBBTFBIQS50b1VwcGVyQ2FzZSgpICsgRElHSVRcbn1cblxuY29uc3QgZ2VuZXJhdGVTdHJpbmcgPSAoc2l6ZSA9IDE2LCBhbHBoYWJldCA9IEFMUEhBQkVULkFMUEhBX0RJR0lUKSA9PiB7XG4gIGxldCBzdHIgPSAnJztcbiAgY29uc3Qge2xlbmd0aH0gPSBhbHBoYWJldDtcbiAgd2hpbGUgKHNpemUtLSkge1xuICAgIHN0ciArPSBhbHBoYWJldFtNYXRoLnJhbmRvbSgpICogbGVuZ3RofDBdXG4gIH1cblxuICByZXR1cm4gc3RyO1xufVxuXG4vKipcbiAqIElmIHRoZSB0aGluZyBpcyBhIEZvcm1EYXRhIG9iamVjdCwgcmV0dXJuIHRydWUsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXG4gKlxuICogQHBhcmFtIHt1bmtub3dufSB0aGluZyAtIFRoZSB0aGluZyB0byBjaGVjay5cbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNTcGVjQ29tcGxpYW50Rm9ybSh0aGluZykge1xuICByZXR1cm4gISEodGhpbmcgJiYgaXNGdW5jdGlvbih0aGluZy5hcHBlbmQpICYmIHRoaW5nW1N5bWJvbC50b1N0cmluZ1RhZ10gPT09ICdGb3JtRGF0YScgJiYgdGhpbmdbU3ltYm9sLml0ZXJhdG9yXSk7XG59XG5cbmNvbnN0IHRvSlNPTk9iamVjdCA9IChvYmopID0+IHtcbiAgY29uc3Qgc3RhY2sgPSBuZXcgQXJyYXkoMTApO1xuXG4gIGNvbnN0IHZpc2l0ID0gKHNvdXJjZSwgaSkgPT4ge1xuXG4gICAgaWYgKGlzT2JqZWN0KHNvdXJjZSkpIHtcbiAgICAgIGlmIChzdGFjay5pbmRleE9mKHNvdXJjZSkgPj0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmKCEoJ3RvSlNPTicgaW4gc291cmNlKSkge1xuICAgICAgICBzdGFja1tpXSA9IHNvdXJjZTtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gaXNBcnJheShzb3VyY2UpID8gW10gOiB7fTtcblxuICAgICAgICBmb3JFYWNoKHNvdXJjZSwgKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgICBjb25zdCByZWR1Y2VkVmFsdWUgPSB2aXNpdCh2YWx1ZSwgaSArIDEpO1xuICAgICAgICAgICFpc1VuZGVmaW5lZChyZWR1Y2VkVmFsdWUpICYmICh0YXJnZXRba2V5XSA9IHJlZHVjZWRWYWx1ZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHN0YWNrW2ldID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNvdXJjZTtcbiAgfVxuXG4gIHJldHVybiB2aXNpdChvYmosIDApO1xufVxuXG5jb25zdCBpc0FzeW5jRm4gPSBraW5kT2ZUZXN0KCdBc3luY0Z1bmN0aW9uJyk7XG5cbmNvbnN0IGlzVGhlbmFibGUgPSAodGhpbmcpID0+XG4gIHRoaW5nICYmIChpc09iamVjdCh0aGluZykgfHwgaXNGdW5jdGlvbih0aGluZykpICYmIGlzRnVuY3Rpb24odGhpbmcudGhlbikgJiYgaXNGdW5jdGlvbih0aGluZy5jYXRjaCk7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgaXNBcnJheSxcbiAgaXNBcnJheUJ1ZmZlcixcbiAgaXNCdWZmZXIsXG4gIGlzRm9ybURhdGEsXG4gIGlzQXJyYXlCdWZmZXJWaWV3LFxuICBpc1N0cmluZyxcbiAgaXNOdW1iZXIsXG4gIGlzQm9vbGVhbixcbiAgaXNPYmplY3QsXG4gIGlzUGxhaW5PYmplY3QsXG4gIGlzVW5kZWZpbmVkLFxuICBpc0RhdGUsXG4gIGlzRmlsZSxcbiAgaXNCbG9iLFxuICBpc1JlZ0V4cCxcbiAgaXNGdW5jdGlvbixcbiAgaXNTdHJlYW0sXG4gIGlzVVJMU2VhcmNoUGFyYW1zLFxuICBpc1R5cGVkQXJyYXksXG4gIGlzRmlsZUxpc3QsXG4gIGZvckVhY2gsXG4gIG1lcmdlLFxuICBleHRlbmQsXG4gIHRyaW0sXG4gIHN0cmlwQk9NLFxuICBpbmhlcml0cyxcbiAgdG9GbGF0T2JqZWN0LFxuICBraW5kT2YsXG4gIGtpbmRPZlRlc3QsXG4gIGVuZHNXaXRoLFxuICB0b0FycmF5LFxuICBmb3JFYWNoRW50cnksXG4gIG1hdGNoQWxsLFxuICBpc0hUTUxGb3JtLFxuICBoYXNPd25Qcm9wZXJ0eSxcbiAgaGFzT3duUHJvcDogaGFzT3duUHJvcGVydHksIC8vIGFuIGFsaWFzIHRvIGF2b2lkIEVTTGludCBuby1wcm90b3R5cGUtYnVpbHRpbnMgZGV0ZWN0aW9uXG4gIHJlZHVjZURlc2NyaXB0b3JzLFxuICBmcmVlemVNZXRob2RzLFxuICB0b09iamVjdFNldCxcbiAgdG9DYW1lbENhc2UsXG4gIG5vb3AsXG4gIHRvRmluaXRlTnVtYmVyLFxuICBmaW5kS2V5LFxuICBnbG9iYWw6IF9nbG9iYWwsXG4gIGlzQ29udGV4dERlZmluZWQsXG4gIEFMUEhBQkVULFxuICBnZW5lcmF0ZVN0cmluZyxcbiAgaXNTcGVjQ29tcGxpYW50Rm9ybSxcbiAgdG9KU09OT2JqZWN0LFxuICBpc0FzeW5jRm4sXG4gIGlzVGhlbmFibGVcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5cbi8qKlxuICogQ3JlYXRlIGFuIEVycm9yIHdpdGggdGhlIHNwZWNpZmllZCBtZXNzYWdlLCBjb25maWcsIGVycm9yIGNvZGUsIHJlcXVlc3QgYW5kIHJlc3BvbnNlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICogQHBhcmFtIHtzdHJpbmd9IFtjb2RlXSBUaGUgZXJyb3IgY29kZSAoZm9yIGV4YW1wbGUsICdFQ09OTkFCT1JURUQnKS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnXSBUaGUgY29uZmlnLlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXF1ZXN0XSBUaGUgcmVxdWVzdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVzcG9uc2VdIFRoZSByZXNwb25zZS5cbiAqXG4gKiBAcmV0dXJucyB7RXJyb3J9IFRoZSBjcmVhdGVkIGVycm9yLlxuICovXG5mdW5jdGlvbiBBeGlvc0Vycm9yKG1lc3NhZ2UsIGNvZGUsIGNvbmZpZywgcmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgRXJyb3IuY2FsbCh0aGlzKTtcblxuICBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHtcbiAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCB0aGlzLmNvbnN0cnVjdG9yKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnN0YWNrID0gKG5ldyBFcnJvcigpKS5zdGFjaztcbiAgfVxuXG4gIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gIHRoaXMubmFtZSA9ICdBeGlvc0Vycm9yJztcbiAgY29kZSAmJiAodGhpcy5jb2RlID0gY29kZSk7XG4gIGNvbmZpZyAmJiAodGhpcy5jb25maWcgPSBjb25maWcpO1xuICByZXF1ZXN0ICYmICh0aGlzLnJlcXVlc3QgPSByZXF1ZXN0KTtcbiAgcmVzcG9uc2UgJiYgKHRoaXMucmVzcG9uc2UgPSByZXNwb25zZSk7XG59XG5cbnV0aWxzLmluaGVyaXRzKEF4aW9zRXJyb3IsIEVycm9yLCB7XG4gIHRvSlNPTjogZnVuY3Rpb24gdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICAvLyBTdGFuZGFyZFxuICAgICAgbWVzc2FnZTogdGhpcy5tZXNzYWdlLFxuICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgLy8gTWljcm9zb2Z0XG4gICAgICBkZXNjcmlwdGlvbjogdGhpcy5kZXNjcmlwdGlvbixcbiAgICAgIG51bWJlcjogdGhpcy5udW1iZXIsXG4gICAgICAvLyBNb3ppbGxhXG4gICAgICBmaWxlTmFtZTogdGhpcy5maWxlTmFtZSxcbiAgICAgIGxpbmVOdW1iZXI6IHRoaXMubGluZU51bWJlcixcbiAgICAgIGNvbHVtbk51bWJlcjogdGhpcy5jb2x1bW5OdW1iZXIsXG4gICAgICBzdGFjazogdGhpcy5zdGFjayxcbiAgICAgIC8vIEF4aW9zXG4gICAgICBjb25maWc6IHV0aWxzLnRvSlNPTk9iamVjdCh0aGlzLmNvbmZpZyksXG4gICAgICBjb2RlOiB0aGlzLmNvZGUsXG4gICAgICBzdGF0dXM6IHRoaXMucmVzcG9uc2UgJiYgdGhpcy5yZXNwb25zZS5zdGF0dXMgPyB0aGlzLnJlc3BvbnNlLnN0YXR1cyA6IG51bGxcbiAgICB9O1xuICB9XG59KTtcblxuY29uc3QgcHJvdG90eXBlID0gQXhpb3NFcnJvci5wcm90b3R5cGU7XG5jb25zdCBkZXNjcmlwdG9ycyA9IHt9O1xuXG5bXG4gICdFUlJfQkFEX09QVElPTl9WQUxVRScsXG4gICdFUlJfQkFEX09QVElPTicsXG4gICdFQ09OTkFCT1JURUQnLFxuICAnRVRJTUVET1VUJyxcbiAgJ0VSUl9ORVRXT1JLJyxcbiAgJ0VSUl9GUl9UT09fTUFOWV9SRURJUkVDVFMnLFxuICAnRVJSX0RFUFJFQ0FURUQnLFxuICAnRVJSX0JBRF9SRVNQT05TRScsXG4gICdFUlJfQkFEX1JFUVVFU1QnLFxuICAnRVJSX0NBTkNFTEVEJyxcbiAgJ0VSUl9OT1RfU1VQUE9SVCcsXG4gICdFUlJfSU5WQUxJRF9VUkwnXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuXS5mb3JFYWNoKGNvZGUgPT4ge1xuICBkZXNjcmlwdG9yc1tjb2RlXSA9IHt2YWx1ZTogY29kZX07XG59KTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoQXhpb3NFcnJvciwgZGVzY3JpcHRvcnMpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvdHlwZSwgJ2lzQXhpb3NFcnJvcicsIHt2YWx1ZTogdHJ1ZX0pO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuQXhpb3NFcnJvci5mcm9tID0gKGVycm9yLCBjb2RlLCBjb25maWcsIHJlcXVlc3QsIHJlc3BvbnNlLCBjdXN0b21Qcm9wcykgPT4ge1xuICBjb25zdCBheGlvc0Vycm9yID0gT2JqZWN0LmNyZWF0ZShwcm90b3R5cGUpO1xuXG4gIHV0aWxzLnRvRmxhdE9iamVjdChlcnJvciwgYXhpb3NFcnJvciwgZnVuY3Rpb24gZmlsdGVyKG9iaikge1xuICAgIHJldHVybiBvYmogIT09IEVycm9yLnByb3RvdHlwZTtcbiAgfSwgcHJvcCA9PiB7XG4gICAgcmV0dXJuIHByb3AgIT09ICdpc0F4aW9zRXJyb3InO1xuICB9KTtcblxuICBBeGlvc0Vycm9yLmNhbGwoYXhpb3NFcnJvciwgZXJyb3IubWVzc2FnZSwgY29kZSwgY29uZmlnLCByZXF1ZXN0LCByZXNwb25zZSk7XG5cbiAgYXhpb3NFcnJvci5jYXVzZSA9IGVycm9yO1xuXG4gIGF4aW9zRXJyb3IubmFtZSA9IGVycm9yLm5hbWU7XG5cbiAgY3VzdG9tUHJvcHMgJiYgT2JqZWN0LmFzc2lnbihheGlvc0Vycm9yLCBjdXN0b21Qcm9wcyk7XG5cbiAgcmV0dXJuIGF4aW9zRXJyb3I7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBBeGlvc0Vycm9yO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuaW1wb3J0IEF4aW9zRXJyb3IgZnJvbSAnLi4vY29yZS9BeGlvc0Vycm9yLmpzJztcbi8vIHRlbXBvcmFyeSBob3RmaXggdG8gYXZvaWQgY2lyY3VsYXIgcmVmZXJlbmNlcyB1bnRpbCBBeGlvc1VSTFNlYXJjaFBhcmFtcyBpcyByZWZhY3RvcmVkXG5pbXBvcnQgUGxhdGZvcm1Gb3JtRGF0YSBmcm9tICcuLi9wbGF0Zm9ybS9ub2RlL2NsYXNzZXMvRm9ybURhdGEuanMnO1xuXG4vKipcbiAqIERldGVybWluZXMgaWYgdGhlIGdpdmVuIHRoaW5nIGlzIGEgYXJyYXkgb3IganMgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0aGluZyAtIFRoZSBvYmplY3Qgb3IgYXJyYXkgdG8gYmUgdmlzaXRlZC5cbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNWaXNpdGFibGUodGhpbmcpIHtcbiAgcmV0dXJuIHV0aWxzLmlzUGxhaW5PYmplY3QodGhpbmcpIHx8IHV0aWxzLmlzQXJyYXkodGhpbmcpO1xufVxuXG4vKipcbiAqIEl0IHJlbW92ZXMgdGhlIGJyYWNrZXRzIGZyb20gdGhlIGVuZCBvZiBhIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBUaGUga2V5IG9mIHRoZSBwYXJhbWV0ZXIuXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gdGhlIGtleSB3aXRob3V0IHRoZSBicmFja2V0cy5cbiAqL1xuZnVuY3Rpb24gcmVtb3ZlQnJhY2tldHMoa2V5KSB7XG4gIHJldHVybiB1dGlscy5lbmRzV2l0aChrZXksICdbXScpID8ga2V5LnNsaWNlKDAsIC0yKSA6IGtleTtcbn1cblxuLyoqXG4gKiBJdCB0YWtlcyBhIHBhdGgsIGEga2V5LCBhbmQgYSBib29sZWFuLCBhbmQgcmV0dXJucyBhIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gVGhlIHBhdGggdG8gdGhlIGN1cnJlbnQga2V5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIFRoZSBrZXkgb2YgdGhlIGN1cnJlbnQgb2JqZWN0IGJlaW5nIGl0ZXJhdGVkIG92ZXIuXG4gKiBAcGFyYW0ge3N0cmluZ30gZG90cyAtIElmIHRydWUsIHRoZSBrZXkgd2lsbCBiZSByZW5kZXJlZCB3aXRoIGRvdHMgaW5zdGVhZCBvZiBicmFja2V0cy5cbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgcGF0aCB0byB0aGUgY3VycmVudCBrZXkuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlcktleShwYXRoLCBrZXksIGRvdHMpIHtcbiAgaWYgKCFwYXRoKSByZXR1cm4ga2V5O1xuICByZXR1cm4gcGF0aC5jb25jYXQoa2V5KS5tYXAoZnVuY3Rpb24gZWFjaCh0b2tlbiwgaSkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgIHRva2VuID0gcmVtb3ZlQnJhY2tldHModG9rZW4pO1xuICAgIHJldHVybiAhZG90cyAmJiBpID8gJ1snICsgdG9rZW4gKyAnXScgOiB0b2tlbjtcbiAgfSkuam9pbihkb3RzID8gJy4nIDogJycpO1xufVxuXG4vKipcbiAqIElmIHRoZSBhcnJheSBpcyBhbiBhcnJheSBhbmQgbm9uZSBvZiBpdHMgZWxlbWVudHMgYXJlIHZpc2l0YWJsZSwgdGhlbiBpdCdzIGEgZmxhdCBhcnJheS5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PGFueT59IGFyciAtIFRoZSBhcnJheSB0byBjaGVja1xuICpcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc0ZsYXRBcnJheShhcnIpIHtcbiAgcmV0dXJuIHV0aWxzLmlzQXJyYXkoYXJyKSAmJiAhYXJyLnNvbWUoaXNWaXNpdGFibGUpO1xufVxuXG5jb25zdCBwcmVkaWNhdGVzID0gdXRpbHMudG9GbGF0T2JqZWN0KHV0aWxzLCB7fSwgbnVsbCwgZnVuY3Rpb24gZmlsdGVyKHByb3ApIHtcbiAgcmV0dXJuIC9eaXNbQS1aXS8udGVzdChwcm9wKTtcbn0pO1xuXG4vKipcbiAqIENvbnZlcnQgYSBkYXRhIG9iamVjdCB0byBGb3JtRGF0YVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEBwYXJhbSB7P09iamVjdH0gW2Zvcm1EYXRhXVxuICogQHBhcmFtIHs/T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRpb25zLnZpc2l0b3JdXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLm1ldGFUb2tlbnMgPSB0cnVlXVxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5kb3RzID0gZmFsc2VdXG4gKiBAcGFyYW0gez9Cb29sZWFufSBbb3B0aW9ucy5pbmRleGVzID0gZmFsc2VdXG4gKlxuICogQHJldHVybnMge09iamVjdH1cbiAqKi9cblxuLyoqXG4gKiBJdCBjb252ZXJ0cyBhbiBvYmplY3QgaW50byBhIEZvcm1EYXRhIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0PGFueSwgYW55Pn0gb2JqIC0gVGhlIG9iamVjdCB0byBjb252ZXJ0IHRvIGZvcm0gZGF0YS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBmb3JtRGF0YSAtIFRoZSBGb3JtRGF0YSBvYmplY3QgdG8gYXBwZW5kIHRvLlxuICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCBhbnk+fSBvcHRpb25zXG4gKlxuICogQHJldHVybnNcbiAqL1xuZnVuY3Rpb24gdG9Gb3JtRGF0YShvYmosIGZvcm1EYXRhLCBvcHRpb25zKSB7XG4gIGlmICghdXRpbHMuaXNPYmplY3Qob2JqKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3RhcmdldCBtdXN0IGJlIGFuIG9iamVjdCcpO1xuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gIGZvcm1EYXRhID0gZm9ybURhdGEgfHwgbmV3IChQbGF0Zm9ybUZvcm1EYXRhIHx8IEZvcm1EYXRhKSgpO1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICBvcHRpb25zID0gdXRpbHMudG9GbGF0T2JqZWN0KG9wdGlvbnMsIHtcbiAgICBtZXRhVG9rZW5zOiB0cnVlLFxuICAgIGRvdHM6IGZhbHNlLFxuICAgIGluZGV4ZXM6IGZhbHNlXG4gIH0sIGZhbHNlLCBmdW5jdGlvbiBkZWZpbmVkKG9wdGlvbiwgc291cmNlKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gICAgcmV0dXJuICF1dGlscy5pc1VuZGVmaW5lZChzb3VyY2Vbb3B0aW9uXSk7XG4gIH0pO1xuXG4gIGNvbnN0IG1ldGFUb2tlbnMgPSBvcHRpb25zLm1ldGFUb2tlbnM7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZVxuICBjb25zdCB2aXNpdG9yID0gb3B0aW9ucy52aXNpdG9yIHx8IGRlZmF1bHRWaXNpdG9yO1xuICBjb25zdCBkb3RzID0gb3B0aW9ucy5kb3RzO1xuICBjb25zdCBpbmRleGVzID0gb3B0aW9ucy5pbmRleGVzO1xuICBjb25zdCBfQmxvYiA9IG9wdGlvbnMuQmxvYiB8fCB0eXBlb2YgQmxvYiAhPT0gJ3VuZGVmaW5lZCcgJiYgQmxvYjtcbiAgY29uc3QgdXNlQmxvYiA9IF9CbG9iICYmIHV0aWxzLmlzU3BlY0NvbXBsaWFudEZvcm0oZm9ybURhdGEpO1xuXG4gIGlmICghdXRpbHMuaXNGdW5jdGlvbih2aXNpdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3Zpc2l0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gIH1cblxuICBmdW5jdGlvbiBjb252ZXJ0VmFsdWUodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT09IG51bGwpIHJldHVybiAnJztcblxuICAgIGlmICh1dGlscy5pc0RhdGUodmFsdWUpKSB7XG4gICAgICByZXR1cm4gdmFsdWUudG9JU09TdHJpbmcoKTtcbiAgICB9XG5cbiAgICBpZiAoIXVzZUJsb2IgJiYgdXRpbHMuaXNCbG9iKHZhbHVlKSkge1xuICAgICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IoJ0Jsb2IgaXMgbm90IHN1cHBvcnRlZC4gVXNlIGEgQnVmZmVyIGluc3RlYWQuJyk7XG4gICAgfVxuXG4gICAgaWYgKHV0aWxzLmlzQXJyYXlCdWZmZXIodmFsdWUpIHx8IHV0aWxzLmlzVHlwZWRBcnJheSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB1c2VCbG9iICYmIHR5cGVvZiBCbG9iID09PSAnZnVuY3Rpb24nID8gbmV3IEJsb2IoW3ZhbHVlXSkgOiBCdWZmZXIuZnJvbSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIERlZmF1bHQgdmlzaXRvci5cbiAgICpcbiAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IGtleVxuICAgKiBAcGFyYW0ge0FycmF5PFN0cmluZ3xOdW1iZXI+fSBwYXRoXG4gICAqIEB0aGlzIHtGb3JtRGF0YX1cbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59IHJldHVybiB0cnVlIHRvIHZpc2l0IHRoZSBlYWNoIHByb3Agb2YgdGhlIHZhbHVlIHJlY3Vyc2l2ZWx5XG4gICAqL1xuICBmdW5jdGlvbiBkZWZhdWx0VmlzaXRvcih2YWx1ZSwga2V5LCBwYXRoKSB7XG4gICAgbGV0IGFyciA9IHZhbHVlO1xuXG4gICAgaWYgKHZhbHVlICYmICFwYXRoICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGlmICh1dGlscy5lbmRzV2l0aChrZXksICd7fScpKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICBrZXkgPSBtZXRhVG9rZW5zID8ga2V5IDoga2V5LnNsaWNlKDAsIC0yKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgIHZhbHVlID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgKHV0aWxzLmlzQXJyYXkodmFsdWUpICYmIGlzRmxhdEFycmF5KHZhbHVlKSkgfHxcbiAgICAgICAgKCh1dGlscy5pc0ZpbGVMaXN0KHZhbHVlKSB8fCB1dGlscy5lbmRzV2l0aChrZXksICdbXScpKSAmJiAoYXJyID0gdXRpbHMudG9BcnJheSh2YWx1ZSkpXG4gICAgICAgICkpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgIGtleSA9IHJlbW92ZUJyYWNrZXRzKGtleSk7XG5cbiAgICAgICAgYXJyLmZvckVhY2goZnVuY3Rpb24gZWFjaChlbCwgaW5kZXgpIHtcbiAgICAgICAgICAhKHV0aWxzLmlzVW5kZWZpbmVkKGVsKSB8fCBlbCA9PT0gbnVsbCkgJiYgZm9ybURhdGEuYXBwZW5kKFxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5lc3RlZC10ZXJuYXJ5XG4gICAgICAgICAgICBpbmRleGVzID09PSB0cnVlID8gcmVuZGVyS2V5KFtrZXldLCBpbmRleCwgZG90cykgOiAoaW5kZXhlcyA9PT0gbnVsbCA/IGtleSA6IGtleSArICdbXScpLFxuICAgICAgICAgICAgY29udmVydFZhbHVlKGVsKVxuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGlzVmlzaXRhYmxlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZm9ybURhdGEuYXBwZW5kKHJlbmRlcktleShwYXRoLCBrZXksIGRvdHMpLCBjb252ZXJ0VmFsdWUodmFsdWUpKTtcblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGNvbnN0IHN0YWNrID0gW107XG5cbiAgY29uc3QgZXhwb3NlZEhlbHBlcnMgPSBPYmplY3QuYXNzaWduKHByZWRpY2F0ZXMsIHtcbiAgICBkZWZhdWx0VmlzaXRvcixcbiAgICBjb252ZXJ0VmFsdWUsXG4gICAgaXNWaXNpdGFibGVcbiAgfSk7XG5cbiAgZnVuY3Rpb24gYnVpbGQodmFsdWUsIHBhdGgpIHtcbiAgICBpZiAodXRpbHMuaXNVbmRlZmluZWQodmFsdWUpKSByZXR1cm47XG5cbiAgICBpZiAoc3RhY2suaW5kZXhPZih2YWx1ZSkgIT09IC0xKSB7XG4gICAgICB0aHJvdyBFcnJvcignQ2lyY3VsYXIgcmVmZXJlbmNlIGRldGVjdGVkIGluICcgKyBwYXRoLmpvaW4oJy4nKSk7XG4gICAgfVxuXG4gICAgc3RhY2sucHVzaCh2YWx1ZSk7XG5cbiAgICB1dGlscy5mb3JFYWNoKHZhbHVlLCBmdW5jdGlvbiBlYWNoKGVsLCBrZXkpIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9ICEodXRpbHMuaXNVbmRlZmluZWQoZWwpIHx8IGVsID09PSBudWxsKSAmJiB2aXNpdG9yLmNhbGwoXG4gICAgICAgIGZvcm1EYXRhLCBlbCwgdXRpbHMuaXNTdHJpbmcoa2V5KSA/IGtleS50cmltKCkgOiBrZXksIHBhdGgsIGV4cG9zZWRIZWxwZXJzXG4gICAgICApO1xuXG4gICAgICBpZiAocmVzdWx0ID09PSB0cnVlKSB7XG4gICAgICAgIGJ1aWxkKGVsLCBwYXRoID8gcGF0aC5jb25jYXQoa2V5KSA6IFtrZXldKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHN0YWNrLnBvcCgpO1xuICB9XG5cbiAgaWYgKCF1dGlscy5pc09iamVjdChvYmopKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZGF0YSBtdXN0IGJlIGFuIG9iamVjdCcpO1xuICB9XG5cbiAgYnVpbGQob2JqKTtcblxuICByZXR1cm4gZm9ybURhdGE7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHRvRm9ybURhdGE7XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB0b0Zvcm1EYXRhIGZyb20gJy4vdG9Gb3JtRGF0YS5qcyc7XG5cbi8qKlxuICogSXQgZW5jb2RlcyBhIHN0cmluZyBieSByZXBsYWNpbmcgYWxsIGNoYXJhY3RlcnMgdGhhdCBhcmUgbm90IGluIHRoZSB1bnJlc2VydmVkIHNldCB3aXRoXG4gKiB0aGVpciBwZXJjZW50LWVuY29kZWQgZXF1aXZhbGVudHNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIC0gVGhlIHN0cmluZyB0byBlbmNvZGUuXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGVuY29kZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBlbmNvZGUoc3RyKSB7XG4gIGNvbnN0IGNoYXJNYXAgPSB7XG4gICAgJyEnOiAnJTIxJyxcbiAgICBcIidcIjogJyUyNycsXG4gICAgJygnOiAnJTI4JyxcbiAgICAnKSc6ICclMjknLFxuICAgICd+JzogJyU3RScsXG4gICAgJyUyMCc6ICcrJyxcbiAgICAnJTAwJzogJ1xceDAwJ1xuICB9O1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHN0cikucmVwbGFjZSgvWyEnKCl+XXwlMjB8JTAwL2csIGZ1bmN0aW9uIHJlcGxhY2VyKG1hdGNoKSB7XG4gICAgcmV0dXJuIGNoYXJNYXBbbWF0Y2hdO1xuICB9KTtcbn1cblxuLyoqXG4gKiBJdCB0YWtlcyBhIHBhcmFtcyBvYmplY3QgYW5kIGNvbnZlcnRzIGl0IHRvIGEgRm9ybURhdGEgb2JqZWN0XG4gKlxuICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCBhbnk+fSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyB0byBiZSBjb252ZXJ0ZWQgdG8gYSBGb3JtRGF0YSBvYmplY3QuXG4gKiBAcGFyYW0ge09iamVjdDxzdHJpbmcsIGFueT59IG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBvYmplY3QgcGFzc2VkIHRvIHRoZSBBeGlvcyBjb25zdHJ1Y3Rvci5cbiAqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gQXhpb3NVUkxTZWFyY2hQYXJhbXMocGFyYW1zLCBvcHRpb25zKSB7XG4gIHRoaXMuX3BhaXJzID0gW107XG5cbiAgcGFyYW1zICYmIHRvRm9ybURhdGEocGFyYW1zLCB0aGlzLCBvcHRpb25zKTtcbn1cblxuY29uc3QgcHJvdG90eXBlID0gQXhpb3NVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlO1xuXG5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24gYXBwZW5kKG5hbWUsIHZhbHVlKSB7XG4gIHRoaXMuX3BhaXJzLnB1c2goW25hbWUsIHZhbHVlXSk7XG59O1xuXG5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyhlbmNvZGVyKSB7XG4gIGNvbnN0IF9lbmNvZGUgPSBlbmNvZGVyID8gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gZW5jb2Rlci5jYWxsKHRoaXMsIHZhbHVlLCBlbmNvZGUpO1xuICB9IDogZW5jb2RlO1xuXG4gIHJldHVybiB0aGlzLl9wYWlycy5tYXAoZnVuY3Rpb24gZWFjaChwYWlyKSB7XG4gICAgcmV0dXJuIF9lbmNvZGUocGFpclswXSkgKyAnPScgKyBfZW5jb2RlKHBhaXJbMV0pO1xuICB9LCAnJykuam9pbignJicpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQXhpb3NVUkxTZWFyY2hQYXJhbXM7XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgQXhpb3NVUkxTZWFyY2hQYXJhbXMgZnJvbSAnLi4vaGVscGVycy9BeGlvc1VSTFNlYXJjaFBhcmFtcy5qcyc7XG5cbi8qKlxuICogSXQgcmVwbGFjZXMgYWxsIGluc3RhbmNlcyBvZiB0aGUgY2hhcmFjdGVycyBgOmAsIGAkYCwgYCxgLCBgK2AsIGBbYCwgYW5kIGBdYCB3aXRoIHRoZWlyXG4gKiBVUkkgZW5jb2RlZCBjb3VudGVycGFydHNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsIFRoZSB2YWx1ZSB0byBiZSBlbmNvZGVkLlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBlbmNvZGVkIHZhbHVlLlxuICovXG5mdW5jdGlvbiBlbmNvZGUodmFsKSB7XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQodmFsKS5cbiAgICByZXBsYWNlKC8lM0EvZ2ksICc6JykuXG4gICAgcmVwbGFjZSgvJTI0L2csICckJykuXG4gICAgcmVwbGFjZSgvJTJDL2dpLCAnLCcpLlxuICAgIHJlcGxhY2UoLyUyMC9nLCAnKycpLlxuICAgIHJlcGxhY2UoLyU1Qi9naSwgJ1snKS5cbiAgICByZXBsYWNlKC8lNUQvZ2ksICddJyk7XG59XG5cbi8qKlxuICogQnVpbGQgYSBVUkwgYnkgYXBwZW5kaW5nIHBhcmFtcyB0byB0aGUgZW5kXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgYmFzZSBvZiB0aGUgdXJsIChlLmcuLCBodHRwOi8vd3d3Lmdvb2dsZS5jb20pXG4gKiBAcGFyYW0ge29iamVjdH0gW3BhcmFtc10gVGhlIHBhcmFtcyB0byBiZSBhcHBlbmRlZFxuICogQHBhcmFtIHs/b2JqZWN0fSBvcHRpb25zXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGZvcm1hdHRlZCB1cmxcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYnVpbGRVUkwodXJsLCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gIGlmICghcGFyYW1zKSB7XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuICBcbiAgY29uc3QgX2VuY29kZSA9IG9wdGlvbnMgJiYgb3B0aW9ucy5lbmNvZGUgfHwgZW5jb2RlO1xuXG4gIGNvbnN0IHNlcmlhbGl6ZUZuID0gb3B0aW9ucyAmJiBvcHRpb25zLnNlcmlhbGl6ZTtcblxuICBsZXQgc2VyaWFsaXplZFBhcmFtcztcblxuICBpZiAoc2VyaWFsaXplRm4pIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gc2VyaWFsaXplRm4ocGFyYW1zLCBvcHRpb25zKTtcbiAgfSBlbHNlIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gdXRpbHMuaXNVUkxTZWFyY2hQYXJhbXMocGFyYW1zKSA/XG4gICAgICBwYXJhbXMudG9TdHJpbmcoKSA6XG4gICAgICBuZXcgQXhpb3NVUkxTZWFyY2hQYXJhbXMocGFyYW1zLCBvcHRpb25zKS50b1N0cmluZyhfZW5jb2RlKTtcbiAgfVxuXG4gIGlmIChzZXJpYWxpemVkUGFyYW1zKSB7XG4gICAgY29uc3QgaGFzaG1hcmtJbmRleCA9IHVybC5pbmRleE9mKFwiI1wiKTtcblxuICAgIGlmIChoYXNobWFya0luZGV4ICE9PSAtMSkge1xuICAgICAgdXJsID0gdXJsLnNsaWNlKDAsIGhhc2htYXJrSW5kZXgpO1xuICAgIH1cbiAgICB1cmwgKz0gKHVybC5pbmRleE9mKCc/JykgPT09IC0xID8gJz8nIDogJyYnKSArIHNlcmlhbGl6ZWRQYXJhbXM7XG4gIH1cblxuICByZXR1cm4gdXJsO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi8uLi91dGlscy5qcyc7XG5cbmNsYXNzIEludGVyY2VwdG9yTWFuYWdlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuaGFuZGxlcnMgPSBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSBuZXcgaW50ZXJjZXB0b3IgdG8gdGhlIHN0YWNrXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bGZpbGxlZCBUaGUgZnVuY3Rpb24gdG8gaGFuZGxlIGB0aGVuYCBmb3IgYSBgUHJvbWlzZWBcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcmVqZWN0ZWQgVGhlIGZ1bmN0aW9uIHRvIGhhbmRsZSBgcmVqZWN0YCBmb3IgYSBgUHJvbWlzZWBcbiAgICpcbiAgICogQHJldHVybiB7TnVtYmVyfSBBbiBJRCB1c2VkIHRvIHJlbW92ZSBpbnRlcmNlcHRvciBsYXRlclxuICAgKi9cbiAgdXNlKGZ1bGZpbGxlZCwgcmVqZWN0ZWQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLmhhbmRsZXJzLnB1c2goe1xuICAgICAgZnVsZmlsbGVkLFxuICAgICAgcmVqZWN0ZWQsXG4gICAgICBzeW5jaHJvbm91czogb3B0aW9ucyA/IG9wdGlvbnMuc3luY2hyb25vdXMgOiBmYWxzZSxcbiAgICAgIHJ1bldoZW46IG9wdGlvbnMgPyBvcHRpb25zLnJ1bldoZW4gOiBudWxsXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuaGFuZGxlcnMubGVuZ3RoIC0gMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYW4gaW50ZXJjZXB0b3IgZnJvbSB0aGUgc3RhY2tcbiAgICpcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGlkIFRoZSBJRCB0aGF0IHdhcyByZXR1cm5lZCBieSBgdXNlYFxuICAgKlxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gYHRydWVgIGlmIHRoZSBpbnRlcmNlcHRvciB3YXMgcmVtb3ZlZCwgYGZhbHNlYCBvdGhlcndpc2VcbiAgICovXG4gIGVqZWN0KGlkKSB7XG4gICAgaWYgKHRoaXMuaGFuZGxlcnNbaWRdKSB7XG4gICAgICB0aGlzLmhhbmRsZXJzW2lkXSA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENsZWFyIGFsbCBpbnRlcmNlcHRvcnMgZnJvbSB0aGUgc3RhY2tcbiAgICpcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBjbGVhcigpIHtcbiAgICBpZiAodGhpcy5oYW5kbGVycykge1xuICAgICAgdGhpcy5oYW5kbGVycyA9IFtdO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJdGVyYXRlIG92ZXIgYWxsIHRoZSByZWdpc3RlcmVkIGludGVyY2VwdG9yc1xuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBpcyBwYXJ0aWN1bGFybHkgdXNlZnVsIGZvciBza2lwcGluZyBvdmVyIGFueVxuICAgKiBpbnRlcmNlcHRvcnMgdGhhdCBtYXkgaGF2ZSBiZWNvbWUgYG51bGxgIGNhbGxpbmcgYGVqZWN0YC5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggaW50ZXJjZXB0b3JcbiAgICpcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBmb3JFYWNoKGZuKSB7XG4gICAgdXRpbHMuZm9yRWFjaCh0aGlzLmhhbmRsZXJzLCBmdW5jdGlvbiBmb3JFYWNoSGFuZGxlcihoKSB7XG4gICAgICBpZiAoaCAhPT0gbnVsbCkge1xuICAgICAgICBmbihoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBJbnRlcmNlcHRvck1hbmFnZXI7XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgc2lsZW50SlNPTlBhcnNpbmc6IHRydWUsXG4gIGZvcmNlZEpTT05QYXJzaW5nOiB0cnVlLFxuICBjbGFyaWZ5VGltZW91dEVycm9yOiBmYWxzZVxufTtcbiIsImltcG9ydCBVUkxTZWFyY2hQYXJhbXMgZnJvbSAnLi9jbGFzc2VzL1VSTFNlYXJjaFBhcmFtcy5qcydcbmltcG9ydCBGb3JtRGF0YSBmcm9tICcuL2NsYXNzZXMvRm9ybURhdGEuanMnXG5pbXBvcnQgQmxvYiBmcm9tICcuL2NsYXNzZXMvQmxvYi5qcydcblxuZXhwb3J0IGRlZmF1bHQge1xuICBpc0Jyb3dzZXI6IHRydWUsXG4gIGNsYXNzZXM6IHtcbiAgICBVUkxTZWFyY2hQYXJhbXMsXG4gICAgRm9ybURhdGEsXG4gICAgQmxvYlxuICB9LFxuICBwcm90b2NvbHM6IFsnaHR0cCcsICdodHRwcycsICdmaWxlJywgJ2Jsb2InLCAndXJsJywgJ2RhdGEnXVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IEF4aW9zVVJMU2VhcmNoUGFyYW1zIGZyb20gJy4uLy4uLy4uL2hlbHBlcnMvQXhpb3NVUkxTZWFyY2hQYXJhbXMuanMnO1xuZXhwb3J0IGRlZmF1bHQgdHlwZW9mIFVSTFNlYXJjaFBhcmFtcyAhPT0gJ3VuZGVmaW5lZCcgPyBVUkxTZWFyY2hQYXJhbXMgOiBBeGlvc1VSTFNlYXJjaFBhcmFtcztcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0IGRlZmF1bHQgdHlwZW9mIEZvcm1EYXRhICE9PSAndW5kZWZpbmVkJyA/IEZvcm1EYXRhIDogbnVsbDtcbiIsIid1c2Ugc3RyaWN0J1xuXG5leHBvcnQgZGVmYXVsdCB0eXBlb2YgQmxvYiAhPT0gJ3VuZGVmaW5lZCcgPyBCbG9iIDogbnVsbFxuIiwiY29uc3QgaGFzQnJvd3NlckVudiA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCc7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIGVudmlyb25tZW50XG4gKlxuICogVGhpcyBhbGxvd3MgYXhpb3MgdG8gcnVuIGluIGEgd2ViIHdvcmtlciwgYW5kIHJlYWN0LW5hdGl2ZS5cbiAqIEJvdGggZW52aXJvbm1lbnRzIHN1cHBvcnQgWE1MSHR0cFJlcXVlc3QsIGJ1dCBub3QgZnVsbHkgc3RhbmRhcmQgZ2xvYmFscy5cbiAqXG4gKiB3ZWIgd29ya2VyczpcbiAqICB0eXBlb2Ygd2luZG93IC0+IHVuZGVmaW5lZFxuICogIHR5cGVvZiBkb2N1bWVudCAtPiB1bmRlZmluZWRcbiAqXG4gKiByZWFjdC1uYXRpdmU6XG4gKiAgbmF2aWdhdG9yLnByb2R1Y3QgLT4gJ1JlYWN0TmF0aXZlJ1xuICogbmF0aXZlc2NyaXB0XG4gKiAgbmF2aWdhdG9yLnByb2R1Y3QgLT4gJ05hdGl2ZVNjcmlwdCcgb3IgJ05TJ1xuICpcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5jb25zdCBoYXNTdGFuZGFyZEJyb3dzZXJFbnYgPSAoXG4gIChwcm9kdWN0KSA9PiB7XG4gICAgcmV0dXJuIGhhc0Jyb3dzZXJFbnYgJiYgWydSZWFjdE5hdGl2ZScsICdOYXRpdmVTY3JpcHQnLCAnTlMnXS5pbmRleE9mKHByb2R1Y3QpIDwgMFxuICB9KSh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IucHJvZHVjdCk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIHdlYldvcmtlciBlbnZpcm9ubWVudFxuICpcbiAqIEFsdGhvdWdoIHRoZSBgaXNTdGFuZGFyZEJyb3dzZXJFbnZgIG1ldGhvZCBpbmRpY2F0ZXMgdGhhdFxuICogYGFsbG93cyBheGlvcyB0byBydW4gaW4gYSB3ZWIgd29ya2VyYCwgdGhlIFdlYldvcmtlciB3aWxsIHN0aWxsIGJlXG4gKiBmaWx0ZXJlZCBvdXQgZHVlIHRvIGl0cyBqdWRnbWVudCBzdGFuZGFyZFxuICogYHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCdgLlxuICogVGhpcyBsZWFkcyB0byBhIHByb2JsZW0gd2hlbiBheGlvcyBwb3N0IGBGb3JtRGF0YWAgaW4gd2ViV29ya2VyXG4gKi9cbmNvbnN0IGhhc1N0YW5kYXJkQnJvd3NlcldlYldvcmtlckVudiA9ICgoKSA9PiB7XG4gIHJldHVybiAoXG4gICAgdHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgIHNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZSAmJlxuICAgIHR5cGVvZiBzZWxmLmltcG9ydFNjcmlwdHMgPT09ICdmdW5jdGlvbidcbiAgKTtcbn0pKCk7XG5cbmV4cG9ydCB7XG4gIGhhc0Jyb3dzZXJFbnYsXG4gIGhhc1N0YW5kYXJkQnJvd3NlcldlYldvcmtlckVudixcbiAgaGFzU3RhbmRhcmRCcm93c2VyRW52XG59XG4iLCJpbXBvcnQgcGxhdGZvcm0gZnJvbSAnLi9ub2RlL2luZGV4LmpzJztcbmltcG9ydCAqIGFzIHV0aWxzIGZyb20gJy4vY29tbW9uL3V0aWxzLmpzJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICAuLi51dGlscyxcbiAgLi4ucGxhdGZvcm1cbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4uL3V0aWxzLmpzJztcblxuLyoqXG4gKiBJdCB0YWtlcyBhIHN0cmluZyBsaWtlIGBmb29beF1beV1bel1gIGFuZCByZXR1cm5zIGFuIGFycmF5IGxpa2UgYFsnZm9vJywgJ3gnLCAneScsICd6J11cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKlxuICogQHJldHVybnMgQW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAqL1xuZnVuY3Rpb24gcGFyc2VQcm9wUGF0aChuYW1lKSB7XG4gIC8vIGZvb1t4XVt5XVt6XVxuICAvLyBmb28ueC55LnpcbiAgLy8gZm9vLXgteS16XG4gIC8vIGZvbyB4IHkgelxuICByZXR1cm4gdXRpbHMubWF0Y2hBbGwoL1xcdyt8XFxbKFxcdyopXS9nLCBuYW1lKS5tYXAobWF0Y2ggPT4ge1xuICAgIHJldHVybiBtYXRjaFswXSA9PT0gJ1tdJyA/ICcnIDogbWF0Y2hbMV0gfHwgbWF0Y2hbMF07XG4gIH0pO1xufVxuXG4vKipcbiAqIENvbnZlcnQgYW4gYXJyYXkgdG8gYW4gb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8YW55Pn0gYXJyIC0gVGhlIGFycmF5IHRvIGNvbnZlcnQgdG8gYW4gb2JqZWN0LlxuICpcbiAqIEByZXR1cm5zIEFuIG9iamVjdCB3aXRoIHRoZSBzYW1lIGtleXMgYW5kIHZhbHVlcyBhcyB0aGUgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGFycmF5VG9PYmplY3QoYXJyKSB7XG4gIGNvbnN0IG9iaiA9IHt9O1xuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoYXJyKTtcbiAgbGV0IGk7XG4gIGNvbnN0IGxlbiA9IGtleXMubGVuZ3RoO1xuICBsZXQga2V5O1xuICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICBrZXkgPSBrZXlzW2ldO1xuICAgIG9ialtrZXldID0gYXJyW2tleV07XG4gIH1cbiAgcmV0dXJuIG9iajtcbn1cblxuLyoqXG4gKiBJdCB0YWtlcyBhIEZvcm1EYXRhIG9iamVjdCBhbmQgcmV0dXJucyBhIEphdmFTY3JpcHQgb2JqZWN0XG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGZvcm1EYXRhIFRoZSBGb3JtRGF0YSBvYmplY3QgdG8gY29udmVydCB0byBKU09OLlxuICpcbiAqIEByZXR1cm5zIHtPYmplY3Q8c3RyaW5nLCBhbnk+IHwgbnVsbH0gVGhlIGNvbnZlcnRlZCBvYmplY3QuXG4gKi9cbmZ1bmN0aW9uIGZvcm1EYXRhVG9KU09OKGZvcm1EYXRhKSB7XG4gIGZ1bmN0aW9uIGJ1aWxkUGF0aChwYXRoLCB2YWx1ZSwgdGFyZ2V0LCBpbmRleCkge1xuICAgIGxldCBuYW1lID0gcGF0aFtpbmRleCsrXTtcbiAgICBjb25zdCBpc051bWVyaWNLZXkgPSBOdW1iZXIuaXNGaW5pdGUoK25hbWUpO1xuICAgIGNvbnN0IGlzTGFzdCA9IGluZGV4ID49IHBhdGgubGVuZ3RoO1xuICAgIG5hbWUgPSAhbmFtZSAmJiB1dGlscy5pc0FycmF5KHRhcmdldCkgPyB0YXJnZXQubGVuZ3RoIDogbmFtZTtcblxuICAgIGlmIChpc0xhc3QpIHtcbiAgICAgIGlmICh1dGlscy5oYXNPd25Qcm9wKHRhcmdldCwgbmFtZSkpIHtcbiAgICAgICAgdGFyZ2V0W25hbWVdID0gW3RhcmdldFtuYW1lXSwgdmFsdWVdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0W25hbWVdID0gdmFsdWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAhaXNOdW1lcmljS2V5O1xuICAgIH1cblxuICAgIGlmICghdGFyZ2V0W25hbWVdIHx8ICF1dGlscy5pc09iamVjdCh0YXJnZXRbbmFtZV0pKSB7XG4gICAgICB0YXJnZXRbbmFtZV0gPSBbXTtcbiAgICB9XG5cbiAgICBjb25zdCByZXN1bHQgPSBidWlsZFBhdGgocGF0aCwgdmFsdWUsIHRhcmdldFtuYW1lXSwgaW5kZXgpO1xuXG4gICAgaWYgKHJlc3VsdCAmJiB1dGlscy5pc0FycmF5KHRhcmdldFtuYW1lXSkpIHtcbiAgICAgIHRhcmdldFtuYW1lXSA9IGFycmF5VG9PYmplY3QodGFyZ2V0W25hbWVdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gIWlzTnVtZXJpY0tleTtcbiAgfVxuXG4gIGlmICh1dGlscy5pc0Zvcm1EYXRhKGZvcm1EYXRhKSAmJiB1dGlscy5pc0Z1bmN0aW9uKGZvcm1EYXRhLmVudHJpZXMpKSB7XG4gICAgY29uc3Qgb2JqID0ge307XG5cbiAgICB1dGlscy5mb3JFYWNoRW50cnkoZm9ybURhdGEsIChuYW1lLCB2YWx1ZSkgPT4ge1xuICAgICAgYnVpbGRQYXRoKHBhcnNlUHJvcFBhdGgobmFtZSksIHZhbHVlLCBvYmosIDApO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmb3JtRGF0YVRvSlNPTjtcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4uL3V0aWxzLmpzJztcbmltcG9ydCBBeGlvc0Vycm9yIGZyb20gJy4uL2NvcmUvQXhpb3NFcnJvci5qcyc7XG5pbXBvcnQgdHJhbnNpdGlvbmFsRGVmYXVsdHMgZnJvbSAnLi90cmFuc2l0aW9uYWwuanMnO1xuaW1wb3J0IHRvRm9ybURhdGEgZnJvbSAnLi4vaGVscGVycy90b0Zvcm1EYXRhLmpzJztcbmltcG9ydCB0b1VSTEVuY29kZWRGb3JtIGZyb20gJy4uL2hlbHBlcnMvdG9VUkxFbmNvZGVkRm9ybS5qcyc7XG5pbXBvcnQgcGxhdGZvcm0gZnJvbSAnLi4vcGxhdGZvcm0vaW5kZXguanMnO1xuaW1wb3J0IGZvcm1EYXRhVG9KU09OIGZyb20gJy4uL2hlbHBlcnMvZm9ybURhdGFUb0pTT04uanMnO1xuXG4vKipcbiAqIEl0IHRha2VzIGEgc3RyaW5nLCB0cmllcyB0byBwYXJzZSBpdCwgYW5kIGlmIGl0IGZhaWxzLCBpdCByZXR1cm5zIHRoZSBzdHJpbmdpZmllZCB2ZXJzaW9uXG4gKiBvZiB0aGUgaW5wdXRcbiAqXG4gKiBAcGFyYW0ge2FueX0gcmF3VmFsdWUgLSBUaGUgdmFsdWUgdG8gYmUgc3RyaW5naWZpZWQuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwYXJzZXIgLSBBIGZ1bmN0aW9uIHRoYXQgcGFyc2VzIGEgc3RyaW5nIGludG8gYSBKYXZhU2NyaXB0IG9iamVjdC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVuY29kZXIgLSBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSB2YWx1ZSBhbmQgcmV0dXJucyBhIHN0cmluZy5cbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBBIHN0cmluZ2lmaWVkIHZlcnNpb24gb2YgdGhlIHJhd1ZhbHVlLlxuICovXG5mdW5jdGlvbiBzdHJpbmdpZnlTYWZlbHkocmF3VmFsdWUsIHBhcnNlciwgZW5jb2Rlcikge1xuICBpZiAodXRpbHMuaXNTdHJpbmcocmF3VmFsdWUpKSB7XG4gICAgdHJ5IHtcbiAgICAgIChwYXJzZXIgfHwgSlNPTi5wYXJzZSkocmF3VmFsdWUpO1xuICAgICAgcmV0dXJuIHV0aWxzLnRyaW0ocmF3VmFsdWUpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGlmIChlLm5hbWUgIT09ICdTeW50YXhFcnJvcicpIHtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gKGVuY29kZXIgfHwgSlNPTi5zdHJpbmdpZnkpKHJhd1ZhbHVlKTtcbn1cblxuY29uc3QgZGVmYXVsdHMgPSB7XG5cbiAgdHJhbnNpdGlvbmFsOiB0cmFuc2l0aW9uYWxEZWZhdWx0cyxcblxuICBhZGFwdGVyOiBbJ3hocicsICdodHRwJ10sXG5cbiAgdHJhbnNmb3JtUmVxdWVzdDogW2Z1bmN0aW9uIHRyYW5zZm9ybVJlcXVlc3QoZGF0YSwgaGVhZGVycykge1xuICAgIGNvbnN0IGNvbnRlbnRUeXBlID0gaGVhZGVycy5nZXRDb250ZW50VHlwZSgpIHx8ICcnO1xuICAgIGNvbnN0IGhhc0pTT05Db250ZW50VHlwZSA9IGNvbnRlbnRUeXBlLmluZGV4T2YoJ2FwcGxpY2F0aW9uL2pzb24nKSA+IC0xO1xuICAgIGNvbnN0IGlzT2JqZWN0UGF5bG9hZCA9IHV0aWxzLmlzT2JqZWN0KGRhdGEpO1xuXG4gICAgaWYgKGlzT2JqZWN0UGF5bG9hZCAmJiB1dGlscy5pc0hUTUxGb3JtKGRhdGEpKSB7XG4gICAgICBkYXRhID0gbmV3IEZvcm1EYXRhKGRhdGEpO1xuICAgIH1cblxuICAgIGNvbnN0IGlzRm9ybURhdGEgPSB1dGlscy5pc0Zvcm1EYXRhKGRhdGEpO1xuXG4gICAgaWYgKGlzRm9ybURhdGEpIHtcbiAgICAgIGlmICghaGFzSlNPTkNvbnRlbnRUeXBlKSB7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhhc0pTT05Db250ZW50VHlwZSA/IEpTT04uc3RyaW5naWZ5KGZvcm1EYXRhVG9KU09OKGRhdGEpKSA6IGRhdGE7XG4gICAgfVxuXG4gICAgaWYgKHV0aWxzLmlzQXJyYXlCdWZmZXIoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQnVmZmVyKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc1N0cmVhbShkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNGaWxlKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0Jsb2IoZGF0YSlcbiAgICApIHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNBcnJheUJ1ZmZlclZpZXcoZGF0YSkpIHtcbiAgICAgIHJldHVybiBkYXRhLmJ1ZmZlcjtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmlzVVJMU2VhcmNoUGFyYW1zKGRhdGEpKSB7XG4gICAgICBoZWFkZXJzLnNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD11dGYtOCcsIGZhbHNlKTtcbiAgICAgIHJldHVybiBkYXRhLnRvU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgbGV0IGlzRmlsZUxpc3Q7XG5cbiAgICBpZiAoaXNPYmplY3RQYXlsb2FkKSB7XG4gICAgICBpZiAoY29udGVudFR5cGUuaW5kZXhPZignYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJykgPiAtMSkge1xuICAgICAgICByZXR1cm4gdG9VUkxFbmNvZGVkRm9ybShkYXRhLCB0aGlzLmZvcm1TZXJpYWxpemVyKS50b1N0cmluZygpO1xuICAgICAgfVxuXG4gICAgICBpZiAoKGlzRmlsZUxpc3QgPSB1dGlscy5pc0ZpbGVMaXN0KGRhdGEpKSB8fCBjb250ZW50VHlwZS5pbmRleE9mKCdtdWx0aXBhcnQvZm9ybS1kYXRhJykgPiAtMSkge1xuICAgICAgICBjb25zdCBfRm9ybURhdGEgPSB0aGlzLmVudiAmJiB0aGlzLmVudi5Gb3JtRGF0YTtcblxuICAgICAgICByZXR1cm4gdG9Gb3JtRGF0YShcbiAgICAgICAgICBpc0ZpbGVMaXN0ID8geydmaWxlc1tdJzogZGF0YX0gOiBkYXRhLFxuICAgICAgICAgIF9Gb3JtRGF0YSAmJiBuZXcgX0Zvcm1EYXRhKCksXG4gICAgICAgICAgdGhpcy5mb3JtU2VyaWFsaXplclxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpc09iamVjdFBheWxvYWQgfHwgaGFzSlNPTkNvbnRlbnRUeXBlICkge1xuICAgICAgaGVhZGVycy5zZXRDb250ZW50VHlwZSgnYXBwbGljYXRpb24vanNvbicsIGZhbHNlKTtcbiAgICAgIHJldHVybiBzdHJpbmdpZnlTYWZlbHkoZGF0YSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH1dLFxuXG4gIHRyYW5zZm9ybVJlc3BvbnNlOiBbZnVuY3Rpb24gdHJhbnNmb3JtUmVzcG9uc2UoZGF0YSkge1xuICAgIGNvbnN0IHRyYW5zaXRpb25hbCA9IHRoaXMudHJhbnNpdGlvbmFsIHx8IGRlZmF1bHRzLnRyYW5zaXRpb25hbDtcbiAgICBjb25zdCBmb3JjZWRKU09OUGFyc2luZyA9IHRyYW5zaXRpb25hbCAmJiB0cmFuc2l0aW9uYWwuZm9yY2VkSlNPTlBhcnNpbmc7XG4gICAgY29uc3QgSlNPTlJlcXVlc3RlZCA9IHRoaXMucmVzcG9uc2VUeXBlID09PSAnanNvbic7XG5cbiAgICBpZiAoZGF0YSAmJiB1dGlscy5pc1N0cmluZyhkYXRhKSAmJiAoKGZvcmNlZEpTT05QYXJzaW5nICYmICF0aGlzLnJlc3BvbnNlVHlwZSkgfHwgSlNPTlJlcXVlc3RlZCkpIHtcbiAgICAgIGNvbnN0IHNpbGVudEpTT05QYXJzaW5nID0gdHJhbnNpdGlvbmFsICYmIHRyYW5zaXRpb25hbC5zaWxlbnRKU09OUGFyc2luZztcbiAgICAgIGNvbnN0IHN0cmljdEpTT05QYXJzaW5nID0gIXNpbGVudEpTT05QYXJzaW5nICYmIEpTT05SZXF1ZXN0ZWQ7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoc3RyaWN0SlNPTlBhcnNpbmcpIHtcbiAgICAgICAgICBpZiAoZS5uYW1lID09PSAnU3ludGF4RXJyb3InKSB7XG4gICAgICAgICAgICB0aHJvdyBBeGlvc0Vycm9yLmZyb20oZSwgQXhpb3NFcnJvci5FUlJfQkFEX1JFU1BPTlNFLCB0aGlzLCBudWxsLCB0aGlzLnJlc3BvbnNlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkYXRhO1xuICB9XSxcblxuICAvKipcbiAgICogQSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyB0byBhYm9ydCBhIHJlcXVlc3QuIElmIHNldCB0byAwIChkZWZhdWx0KSBhXG4gICAqIHRpbWVvdXQgaXMgbm90IGNyZWF0ZWQuXG4gICAqL1xuICB0aW1lb3V0OiAwLFxuXG4gIHhzcmZDb29raWVOYW1lOiAnWFNSRi1UT0tFTicsXG4gIHhzcmZIZWFkZXJOYW1lOiAnWC1YU1JGLVRPS0VOJyxcblxuICBtYXhDb250ZW50TGVuZ3RoOiAtMSxcbiAgbWF4Qm9keUxlbmd0aDogLTEsXG5cbiAgZW52OiB7XG4gICAgRm9ybURhdGE6IHBsYXRmb3JtLmNsYXNzZXMuRm9ybURhdGEsXG4gICAgQmxvYjogcGxhdGZvcm0uY2xhc3Nlcy5CbG9iXG4gIH0sXG5cbiAgdmFsaWRhdGVTdGF0dXM6IGZ1bmN0aW9uIHZhbGlkYXRlU3RhdHVzKHN0YXR1cykge1xuICAgIHJldHVybiBzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMDtcbiAgfSxcblxuICBoZWFkZXJzOiB7XG4gICAgY29tbW9uOiB7XG4gICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKicsXG4gICAgICAnQ29udGVudC1UeXBlJzogdW5kZWZpbmVkXG4gICAgfVxuICB9XG59O1xuXG51dGlscy5mb3JFYWNoKFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJywgJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJ10sIChtZXRob2QpID0+IHtcbiAgZGVmYXVsdHMuaGVhZGVyc1ttZXRob2RdID0ge307XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgZGVmYXVsdHM7XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgdG9Gb3JtRGF0YSBmcm9tICcuL3RvRm9ybURhdGEuanMnO1xuaW1wb3J0IHBsYXRmb3JtIGZyb20gJy4uL3BsYXRmb3JtL2luZGV4LmpzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdG9VUkxFbmNvZGVkRm9ybShkYXRhLCBvcHRpb25zKSB7XG4gIHJldHVybiB0b0Zvcm1EYXRhKGRhdGEsIG5ldyBwbGF0Zm9ybS5jbGFzc2VzLlVSTFNlYXJjaFBhcmFtcygpLCBPYmplY3QuYXNzaWduKHtcbiAgICB2aXNpdG9yOiBmdW5jdGlvbih2YWx1ZSwga2V5LCBwYXRoLCBoZWxwZXJzKSB7XG4gICAgICBpZiAocGxhdGZvcm0uaXNOb2RlICYmIHV0aWxzLmlzQnVmZmVyKHZhbHVlKSkge1xuICAgICAgICB0aGlzLmFwcGVuZChrZXksIHZhbHVlLnRvU3RyaW5nKCdiYXNlNjQnKSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGhlbHBlcnMuZGVmYXVsdFZpc2l0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gIH0sIG9wdGlvbnMpKTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4vLi4vdXRpbHMuanMnO1xuXG4vLyBSYXdBeGlvc0hlYWRlcnMgd2hvc2UgZHVwbGljYXRlcyBhcmUgaWdub3JlZCBieSBub2RlXG4vLyBjLmYuIGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvaHR0cC5odG1sI2h0dHBfbWVzc2FnZV9oZWFkZXJzXG5jb25zdCBpZ25vcmVEdXBsaWNhdGVPZiA9IHV0aWxzLnRvT2JqZWN0U2V0KFtcbiAgJ2FnZScsICdhdXRob3JpemF0aW9uJywgJ2NvbnRlbnQtbGVuZ3RoJywgJ2NvbnRlbnQtdHlwZScsICdldGFnJyxcbiAgJ2V4cGlyZXMnLCAnZnJvbScsICdob3N0JywgJ2lmLW1vZGlmaWVkLXNpbmNlJywgJ2lmLXVubW9kaWZpZWQtc2luY2UnLFxuICAnbGFzdC1tb2RpZmllZCcsICdsb2NhdGlvbicsICdtYXgtZm9yd2FyZHMnLCAncHJveHktYXV0aG9yaXphdGlvbicsXG4gICdyZWZlcmVyJywgJ3JldHJ5LWFmdGVyJywgJ3VzZXItYWdlbnQnXG5dKTtcblxuLyoqXG4gKiBQYXJzZSBoZWFkZXJzIGludG8gYW4gb2JqZWN0XG4gKlxuICogYGBgXG4gKiBEYXRlOiBXZWQsIDI3IEF1ZyAyMDE0IDA4OjU4OjQ5IEdNVFxuICogQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uXG4gKiBDb25uZWN0aW9uOiBrZWVwLWFsaXZlXG4gKiBUcmFuc2Zlci1FbmNvZGluZzogY2h1bmtlZFxuICogYGBgXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHJhd0hlYWRlcnMgSGVhZGVycyBuZWVkaW5nIHRvIGJlIHBhcnNlZFxuICpcbiAqIEByZXR1cm5zIHtPYmplY3R9IEhlYWRlcnMgcGFyc2VkIGludG8gYW4gb2JqZWN0XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHJhd0hlYWRlcnMgPT4ge1xuICBjb25zdCBwYXJzZWQgPSB7fTtcbiAgbGV0IGtleTtcbiAgbGV0IHZhbDtcbiAgbGV0IGk7XG5cbiAgcmF3SGVhZGVycyAmJiByYXdIZWFkZXJzLnNwbGl0KCdcXG4nKS5mb3JFYWNoKGZ1bmN0aW9uIHBhcnNlcihsaW5lKSB7XG4gICAgaSA9IGxpbmUuaW5kZXhPZignOicpO1xuICAgIGtleSA9IGxpbmUuc3Vic3RyaW5nKDAsIGkpLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICAgIHZhbCA9IGxpbmUuc3Vic3RyaW5nKGkgKyAxKS50cmltKCk7XG5cbiAgICBpZiAoIWtleSB8fCAocGFyc2VkW2tleV0gJiYgaWdub3JlRHVwbGljYXRlT2Zba2V5XSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoa2V5ID09PSAnc2V0LWNvb2tpZScpIHtcbiAgICAgIGlmIChwYXJzZWRba2V5XSkge1xuICAgICAgICBwYXJzZWRba2V5XS5wdXNoKHZhbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJzZWRba2V5XSA9IFt2YWxdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwYXJzZWRba2V5XSA9IHBhcnNlZFtrZXldID8gcGFyc2VkW2tleV0gKyAnLCAnICsgdmFsIDogdmFsO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHBhcnNlZDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgcGFyc2VIZWFkZXJzIGZyb20gJy4uL2hlbHBlcnMvcGFyc2VIZWFkZXJzLmpzJztcblxuY29uc3QgJGludGVybmFscyA9IFN5bWJvbCgnaW50ZXJuYWxzJyk7XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUhlYWRlcihoZWFkZXIpIHtcbiAgcmV0dXJuIGhlYWRlciAmJiBTdHJpbmcoaGVhZGVyKS50cmltKCkudG9Mb3dlckNhc2UoKTtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplVmFsdWUodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09PSBmYWxzZSB8fCB2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIHV0aWxzLmlzQXJyYXkodmFsdWUpID8gdmFsdWUubWFwKG5vcm1hbGl6ZVZhbHVlKSA6IFN0cmluZyh2YWx1ZSk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlVG9rZW5zKHN0cikge1xuICBjb25zdCB0b2tlbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBjb25zdCB0b2tlbnNSRSA9IC8oW15cXHMsOz1dKylcXHMqKD86PVxccyooW14sO10rKSk/L2c7XG4gIGxldCBtYXRjaDtcblxuICB3aGlsZSAoKG1hdGNoID0gdG9rZW5zUkUuZXhlYyhzdHIpKSkge1xuICAgIHRva2Vuc1ttYXRjaFsxXV0gPSBtYXRjaFsyXTtcbiAgfVxuXG4gIHJldHVybiB0b2tlbnM7XG59XG5cbmNvbnN0IGlzVmFsaWRIZWFkZXJOYW1lID0gKHN0cikgPT4gL15bLV9hLXpBLVowLTleYHx+LCEjJCUmJyorLl0rJC8udGVzdChzdHIudHJpbSgpKTtcblxuZnVuY3Rpb24gbWF0Y2hIZWFkZXJWYWx1ZShjb250ZXh0LCB2YWx1ZSwgaGVhZGVyLCBmaWx0ZXIsIGlzSGVhZGVyTmFtZUZpbHRlcikge1xuICBpZiAodXRpbHMuaXNGdW5jdGlvbihmaWx0ZXIpKSB7XG4gICAgcmV0dXJuIGZpbHRlci5jYWxsKHRoaXMsIHZhbHVlLCBoZWFkZXIpO1xuICB9XG5cbiAgaWYgKGlzSGVhZGVyTmFtZUZpbHRlcikge1xuICAgIHZhbHVlID0gaGVhZGVyO1xuICB9XG5cbiAgaWYgKCF1dGlscy5pc1N0cmluZyh2YWx1ZSkpIHJldHVybjtcblxuICBpZiAodXRpbHMuaXNTdHJpbmcoZmlsdGVyKSkge1xuICAgIHJldHVybiB2YWx1ZS5pbmRleE9mKGZpbHRlcikgIT09IC0xO1xuICB9XG5cbiAgaWYgKHV0aWxzLmlzUmVnRXhwKGZpbHRlcikpIHtcbiAgICByZXR1cm4gZmlsdGVyLnRlc3QodmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGZvcm1hdEhlYWRlcihoZWFkZXIpIHtcbiAgcmV0dXJuIGhlYWRlci50cmltKClcbiAgICAudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8oW2EtelxcZF0pKFxcdyopL2csICh3LCBjaGFyLCBzdHIpID0+IHtcbiAgICAgIHJldHVybiBjaGFyLnRvVXBwZXJDYXNlKCkgKyBzdHI7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGJ1aWxkQWNjZXNzb3JzKG9iaiwgaGVhZGVyKSB7XG4gIGNvbnN0IGFjY2Vzc29yTmFtZSA9IHV0aWxzLnRvQ2FtZWxDYXNlKCcgJyArIGhlYWRlcik7XG5cbiAgWydnZXQnLCAnc2V0JywgJ2hhcyddLmZvckVhY2gobWV0aG9kTmFtZSA9PiB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgbWV0aG9kTmFtZSArIGFjY2Vzc29yTmFtZSwge1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uKGFyZzEsIGFyZzIsIGFyZzMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbbWV0aG9kTmFtZV0uY2FsbCh0aGlzLCBoZWFkZXIsIGFyZzEsIGFyZzIsIGFyZzMpO1xuICAgICAgfSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9KTtcbn1cblxuY2xhc3MgQXhpb3NIZWFkZXJzIHtcbiAgY29uc3RydWN0b3IoaGVhZGVycykge1xuICAgIGhlYWRlcnMgJiYgdGhpcy5zZXQoaGVhZGVycyk7XG4gIH1cblxuICBzZXQoaGVhZGVyLCB2YWx1ZU9yUmV3cml0ZSwgcmV3cml0ZSkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuXG4gICAgZnVuY3Rpb24gc2V0SGVhZGVyKF92YWx1ZSwgX2hlYWRlciwgX3Jld3JpdGUpIHtcbiAgICAgIGNvbnN0IGxIZWFkZXIgPSBub3JtYWxpemVIZWFkZXIoX2hlYWRlcik7XG5cbiAgICAgIGlmICghbEhlYWRlcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2hlYWRlciBuYW1lIG11c3QgYmUgYSBub24tZW1wdHkgc3RyaW5nJyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGtleSA9IHV0aWxzLmZpbmRLZXkoc2VsZiwgbEhlYWRlcik7XG5cbiAgICAgIGlmKCFrZXkgfHwgc2VsZltrZXldID09PSB1bmRlZmluZWQgfHwgX3Jld3JpdGUgPT09IHRydWUgfHwgKF9yZXdyaXRlID09PSB1bmRlZmluZWQgJiYgc2VsZltrZXldICE9PSBmYWxzZSkpIHtcbiAgICAgICAgc2VsZltrZXkgfHwgX2hlYWRlcl0gPSBub3JtYWxpemVWYWx1ZShfdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHNldEhlYWRlcnMgPSAoaGVhZGVycywgX3Jld3JpdGUpID0+XG4gICAgICB1dGlscy5mb3JFYWNoKGhlYWRlcnMsIChfdmFsdWUsIF9oZWFkZXIpID0+IHNldEhlYWRlcihfdmFsdWUsIF9oZWFkZXIsIF9yZXdyaXRlKSk7XG5cbiAgICBpZiAodXRpbHMuaXNQbGFpbk9iamVjdChoZWFkZXIpIHx8IGhlYWRlciBpbnN0YW5jZW9mIHRoaXMuY29uc3RydWN0b3IpIHtcbiAgICAgIHNldEhlYWRlcnMoaGVhZGVyLCB2YWx1ZU9yUmV3cml0ZSlcbiAgICB9IGVsc2UgaWYodXRpbHMuaXNTdHJpbmcoaGVhZGVyKSAmJiAoaGVhZGVyID0gaGVhZGVyLnRyaW0oKSkgJiYgIWlzVmFsaWRIZWFkZXJOYW1lKGhlYWRlcikpIHtcbiAgICAgIHNldEhlYWRlcnMocGFyc2VIZWFkZXJzKGhlYWRlciksIHZhbHVlT3JSZXdyaXRlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGVhZGVyICE9IG51bGwgJiYgc2V0SGVhZGVyKHZhbHVlT3JSZXdyaXRlLCBoZWFkZXIsIHJld3JpdGUpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZ2V0KGhlYWRlciwgcGFyc2VyKSB7XG4gICAgaGVhZGVyID0gbm9ybWFsaXplSGVhZGVyKGhlYWRlcik7XG5cbiAgICBpZiAoaGVhZGVyKSB7XG4gICAgICBjb25zdCBrZXkgPSB1dGlscy5maW5kS2V5KHRoaXMsIGhlYWRlcik7XG5cbiAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzW2tleV07XG5cbiAgICAgICAgaWYgKCFwYXJzZXIpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFyc2VyID09PSB0cnVlKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlVG9rZW5zKHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1dGlscy5pc0Z1bmN0aW9uKHBhcnNlcikpIHtcbiAgICAgICAgICByZXR1cm4gcGFyc2VyLmNhbGwodGhpcywgdmFsdWUsIGtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodXRpbHMuaXNSZWdFeHAocGFyc2VyKSkge1xuICAgICAgICAgIHJldHVybiBwYXJzZXIuZXhlYyh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdwYXJzZXIgbXVzdCBiZSBib29sZWFufHJlZ2V4cHxmdW5jdGlvbicpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGhhcyhoZWFkZXIsIG1hdGNoZXIpIHtcbiAgICBoZWFkZXIgPSBub3JtYWxpemVIZWFkZXIoaGVhZGVyKTtcblxuICAgIGlmIChoZWFkZXIpIHtcbiAgICAgIGNvbnN0IGtleSA9IHV0aWxzLmZpbmRLZXkodGhpcywgaGVhZGVyKTtcblxuICAgICAgcmV0dXJuICEhKGtleSAmJiB0aGlzW2tleV0gIT09IHVuZGVmaW5lZCAmJiAoIW1hdGNoZXIgfHwgbWF0Y2hIZWFkZXJWYWx1ZSh0aGlzLCB0aGlzW2tleV0sIGtleSwgbWF0Y2hlcikpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBkZWxldGUoaGVhZGVyLCBtYXRjaGVyKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgbGV0IGRlbGV0ZWQgPSBmYWxzZTtcblxuICAgIGZ1bmN0aW9uIGRlbGV0ZUhlYWRlcihfaGVhZGVyKSB7XG4gICAgICBfaGVhZGVyID0gbm9ybWFsaXplSGVhZGVyKF9oZWFkZXIpO1xuXG4gICAgICBpZiAoX2hlYWRlcikge1xuICAgICAgICBjb25zdCBrZXkgPSB1dGlscy5maW5kS2V5KHNlbGYsIF9oZWFkZXIpO1xuXG4gICAgICAgIGlmIChrZXkgJiYgKCFtYXRjaGVyIHx8IG1hdGNoSGVhZGVyVmFsdWUoc2VsZiwgc2VsZltrZXldLCBrZXksIG1hdGNoZXIpKSkge1xuICAgICAgICAgIGRlbGV0ZSBzZWxmW2tleV07XG5cbiAgICAgICAgICBkZWxldGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh1dGlscy5pc0FycmF5KGhlYWRlcikpIHtcbiAgICAgIGhlYWRlci5mb3JFYWNoKGRlbGV0ZUhlYWRlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbGV0ZUhlYWRlcihoZWFkZXIpO1xuICAgIH1cblxuICAgIHJldHVybiBkZWxldGVkO1xuICB9XG5cbiAgY2xlYXIobWF0Y2hlcikge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyh0aGlzKTtcbiAgICBsZXQgaSA9IGtleXMubGVuZ3RoO1xuICAgIGxldCBkZWxldGVkID0gZmFsc2U7XG5cbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xuICAgICAgaWYoIW1hdGNoZXIgfHwgbWF0Y2hIZWFkZXJWYWx1ZSh0aGlzLCB0aGlzW2tleV0sIGtleSwgbWF0Y2hlciwgdHJ1ZSkpIHtcbiAgICAgICAgZGVsZXRlIHRoaXNba2V5XTtcbiAgICAgICAgZGVsZXRlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlbGV0ZWQ7XG4gIH1cblxuICBub3JtYWxpemUoZm9ybWF0KSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuXG4gICAgdXRpbHMuZm9yRWFjaCh0aGlzLCAodmFsdWUsIGhlYWRlcikgPT4ge1xuICAgICAgY29uc3Qga2V5ID0gdXRpbHMuZmluZEtleShoZWFkZXJzLCBoZWFkZXIpO1xuXG4gICAgICBpZiAoa2V5KSB7XG4gICAgICAgIHNlbGZba2V5XSA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKTtcbiAgICAgICAgZGVsZXRlIHNlbGZbaGVhZGVyXTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBub3JtYWxpemVkID0gZm9ybWF0ID8gZm9ybWF0SGVhZGVyKGhlYWRlcikgOiBTdHJpbmcoaGVhZGVyKS50cmltKCk7XG5cbiAgICAgIGlmIChub3JtYWxpemVkICE9PSBoZWFkZXIpIHtcbiAgICAgICAgZGVsZXRlIHNlbGZbaGVhZGVyXTtcbiAgICAgIH1cblxuICAgICAgc2VsZltub3JtYWxpemVkXSA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKTtcblxuICAgICAgaGVhZGVyc1tub3JtYWxpemVkXSA9IHRydWU7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGNvbmNhdCguLi50YXJnZXRzKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IuY29uY2F0KHRoaXMsIC4uLnRhcmdldHMpO1xuICB9XG5cbiAgdG9KU09OKGFzU3RyaW5ncykge1xuICAgIGNvbnN0IG9iaiA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgICB1dGlscy5mb3JFYWNoKHRoaXMsICh2YWx1ZSwgaGVhZGVyKSA9PiB7XG4gICAgICB2YWx1ZSAhPSBudWxsICYmIHZhbHVlICE9PSBmYWxzZSAmJiAob2JqW2hlYWRlcl0gPSBhc1N0cmluZ3MgJiYgdXRpbHMuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5qb2luKCcsICcpIDogdmFsdWUpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xuICAgIHJldHVybiBPYmplY3QuZW50cmllcyh0aGlzLnRvSlNPTigpKVtTeW1ib2wuaXRlcmF0b3JdKCk7XG4gIH1cblxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXModGhpcy50b0pTT04oKSkubWFwKChbaGVhZGVyLCB2YWx1ZV0pID0+IGhlYWRlciArICc6ICcgKyB2YWx1ZSkuam9pbignXFxuJyk7XG4gIH1cblxuICBnZXQgW1N5bWJvbC50b1N0cmluZ1RhZ10oKSB7XG4gICAgcmV0dXJuICdBeGlvc0hlYWRlcnMnO1xuICB9XG5cbiAgc3RhdGljIGZyb20odGhpbmcpIHtcbiAgICByZXR1cm4gdGhpbmcgaW5zdGFuY2VvZiB0aGlzID8gdGhpbmcgOiBuZXcgdGhpcyh0aGluZyk7XG4gIH1cblxuICBzdGF0aWMgY29uY2F0KGZpcnN0LCAuLi50YXJnZXRzKSB7XG4gICAgY29uc3QgY29tcHV0ZWQgPSBuZXcgdGhpcyhmaXJzdCk7XG5cbiAgICB0YXJnZXRzLmZvckVhY2goKHRhcmdldCkgPT4gY29tcHV0ZWQuc2V0KHRhcmdldCkpO1xuXG4gICAgcmV0dXJuIGNvbXB1dGVkO1xuICB9XG5cbiAgc3RhdGljIGFjY2Vzc29yKGhlYWRlcikge1xuICAgIGNvbnN0IGludGVybmFscyA9IHRoaXNbJGludGVybmFsc10gPSAodGhpc1skaW50ZXJuYWxzXSA9IHtcbiAgICAgIGFjY2Vzc29yczoge31cbiAgICB9KTtcblxuICAgIGNvbnN0IGFjY2Vzc29ycyA9IGludGVybmFscy5hY2Nlc3NvcnM7XG4gICAgY29uc3QgcHJvdG90eXBlID0gdGhpcy5wcm90b3R5cGU7XG5cbiAgICBmdW5jdGlvbiBkZWZpbmVBY2Nlc3NvcihfaGVhZGVyKSB7XG4gICAgICBjb25zdCBsSGVhZGVyID0gbm9ybWFsaXplSGVhZGVyKF9oZWFkZXIpO1xuXG4gICAgICBpZiAoIWFjY2Vzc29yc1tsSGVhZGVyXSkge1xuICAgICAgICBidWlsZEFjY2Vzc29ycyhwcm90b3R5cGUsIF9oZWFkZXIpO1xuICAgICAgICBhY2Nlc3NvcnNbbEhlYWRlcl0gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHV0aWxzLmlzQXJyYXkoaGVhZGVyKSA/IGhlYWRlci5mb3JFYWNoKGRlZmluZUFjY2Vzc29yKSA6IGRlZmluZUFjY2Vzc29yKGhlYWRlcik7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG5BeGlvc0hlYWRlcnMuYWNjZXNzb3IoWydDb250ZW50LVR5cGUnLCAnQ29udGVudC1MZW5ndGgnLCAnQWNjZXB0JywgJ0FjY2VwdC1FbmNvZGluZycsICdVc2VyLUFnZW50JywgJ0F1dGhvcml6YXRpb24nXSk7XG5cbi8vIHJlc2VydmVkIG5hbWVzIGhvdGZpeFxudXRpbHMucmVkdWNlRGVzY3JpcHRvcnMoQXhpb3NIZWFkZXJzLnByb3RvdHlwZSwgKHt2YWx1ZX0sIGtleSkgPT4ge1xuICBsZXQgbWFwcGVkID0ga2V5WzBdLnRvVXBwZXJDYXNlKCkgKyBrZXkuc2xpY2UoMSk7IC8vIG1hcCBgc2V0YCA9PiBgU2V0YFxuICByZXR1cm4ge1xuICAgIGdldDogKCkgPT4gdmFsdWUsXG4gICAgc2V0KGhlYWRlclZhbHVlKSB7XG4gICAgICB0aGlzW21hcHBlZF0gPSBoZWFkZXJWYWx1ZTtcbiAgICB9XG4gIH1cbn0pO1xuXG51dGlscy5mcmVlemVNZXRob2RzKEF4aW9zSGVhZGVycyk7XG5cbmV4cG9ydCBkZWZhdWx0IEF4aW9zSGVhZGVycztcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4vLi4vdXRpbHMuanMnO1xuaW1wb3J0IGRlZmF1bHRzIGZyb20gJy4uL2RlZmF1bHRzL2luZGV4LmpzJztcbmltcG9ydCBBeGlvc0hlYWRlcnMgZnJvbSAnLi4vY29yZS9BeGlvc0hlYWRlcnMuanMnO1xuXG4vKipcbiAqIFRyYW5zZm9ybSB0aGUgZGF0YSBmb3IgYSByZXF1ZXN0IG9yIGEgcmVzcG9uc2VcbiAqXG4gKiBAcGFyYW0ge0FycmF5fEZ1bmN0aW9ufSBmbnMgQSBzaW5nbGUgZnVuY3Rpb24gb3IgQXJyYXkgb2YgZnVuY3Rpb25zXG4gKiBAcGFyYW0gez9PYmplY3R9IHJlc3BvbnNlIFRoZSByZXNwb25zZSBvYmplY3RcbiAqXG4gKiBAcmV0dXJucyB7Kn0gVGhlIHJlc3VsdGluZyB0cmFuc2Zvcm1lZCBkYXRhXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRyYW5zZm9ybURhdGEoZm5zLCByZXNwb25zZSkge1xuICBjb25zdCBjb25maWcgPSB0aGlzIHx8IGRlZmF1bHRzO1xuICBjb25zdCBjb250ZXh0ID0gcmVzcG9uc2UgfHwgY29uZmlnO1xuICBjb25zdCBoZWFkZXJzID0gQXhpb3NIZWFkZXJzLmZyb20oY29udGV4dC5oZWFkZXJzKTtcbiAgbGV0IGRhdGEgPSBjb250ZXh0LmRhdGE7XG5cbiAgdXRpbHMuZm9yRWFjaChmbnMsIGZ1bmN0aW9uIHRyYW5zZm9ybShmbikge1xuICAgIGRhdGEgPSBmbi5jYWxsKGNvbmZpZywgZGF0YSwgaGVhZGVycy5ub3JtYWxpemUoKSwgcmVzcG9uc2UgPyByZXNwb25zZS5zdGF0dXMgOiB1bmRlZmluZWQpO1xuICB9KTtcblxuICBoZWFkZXJzLm5vcm1hbGl6ZSgpO1xuXG4gIHJldHVybiBkYXRhO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc0NhbmNlbCh2YWx1ZSkge1xuICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWUuX19DQU5DRUxfXyk7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBBeGlvc0Vycm9yIGZyb20gJy4uL2NvcmUvQXhpb3NFcnJvci5qcyc7XG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuXG4vKipcbiAqIEEgYENhbmNlbGVkRXJyb3JgIGlzIGFuIG9iamVjdCB0aGF0IGlzIHRocm93biB3aGVuIGFuIG9wZXJhdGlvbiBpcyBjYW5jZWxlZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZz19IG1lc3NhZ2UgVGhlIG1lc3NhZ2UuXG4gKiBAcGFyYW0ge09iamVjdD19IGNvbmZpZyBUaGUgY29uZmlnLlxuICogQHBhcmFtIHtPYmplY3Q9fSByZXF1ZXN0IFRoZSByZXF1ZXN0LlxuICpcbiAqIEByZXR1cm5zIHtDYW5jZWxlZEVycm9yfSBUaGUgY3JlYXRlZCBlcnJvci5cbiAqL1xuZnVuY3Rpb24gQ2FuY2VsZWRFcnJvcihtZXNzYWdlLCBjb25maWcsIHJlcXVlc3QpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gIEF4aW9zRXJyb3IuY2FsbCh0aGlzLCBtZXNzYWdlID09IG51bGwgPyAnY2FuY2VsZWQnIDogbWVzc2FnZSwgQXhpb3NFcnJvci5FUlJfQ0FOQ0VMRUQsIGNvbmZpZywgcmVxdWVzdCk7XG4gIHRoaXMubmFtZSA9ICdDYW5jZWxlZEVycm9yJztcbn1cblxudXRpbHMuaW5oZXJpdHMoQ2FuY2VsZWRFcnJvciwgQXhpb3NFcnJvciwge1xuICBfX0NBTkNFTF9fOiB0cnVlXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgQ2FuY2VsZWRFcnJvcjtcbiIsImltcG9ydCB1dGlscyBmcm9tICcuLy4uL3V0aWxzLmpzJztcbmltcG9ydCBwbGF0Zm9ybSBmcm9tICcuLi9wbGF0Zm9ybS9pbmRleC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IHBsYXRmb3JtLmhhc1N0YW5kYXJkQnJvd3NlckVudiA/XG5cbiAgLy8gU3RhbmRhcmQgYnJvd3NlciBlbnZzIHN1cHBvcnQgZG9jdW1lbnQuY29va2llXG4gIHtcbiAgICB3cml0ZShuYW1lLCB2YWx1ZSwgZXhwaXJlcywgcGF0aCwgZG9tYWluLCBzZWN1cmUpIHtcbiAgICAgIGNvbnN0IGNvb2tpZSA9IFtuYW1lICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKV07XG5cbiAgICAgIHV0aWxzLmlzTnVtYmVyKGV4cGlyZXMpICYmIGNvb2tpZS5wdXNoKCdleHBpcmVzPScgKyBuZXcgRGF0ZShleHBpcmVzKS50b0dNVFN0cmluZygpKTtcblxuICAgICAgdXRpbHMuaXNTdHJpbmcocGF0aCkgJiYgY29va2llLnB1c2goJ3BhdGg9JyArIHBhdGgpO1xuXG4gICAgICB1dGlscy5pc1N0cmluZyhkb21haW4pICYmIGNvb2tpZS5wdXNoKCdkb21haW49JyArIGRvbWFpbik7XG5cbiAgICAgIHNlY3VyZSA9PT0gdHJ1ZSAmJiBjb29raWUucHVzaCgnc2VjdXJlJyk7XG5cbiAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGNvb2tpZS5qb2luKCc7ICcpO1xuICAgIH0sXG5cbiAgICByZWFkKG5hbWUpIHtcbiAgICAgIGNvbnN0IG1hdGNoID0gZG9jdW1lbnQuY29va2llLm1hdGNoKG5ldyBSZWdFeHAoJyhefDtcXFxccyopKCcgKyBuYW1lICsgJyk9KFteO10qKScpKTtcbiAgICAgIHJldHVybiAobWF0Y2ggPyBkZWNvZGVVUklDb21wb25lbnQobWF0Y2hbM10pIDogbnVsbCk7XG4gICAgfSxcblxuICAgIHJlbW92ZShuYW1lKSB7XG4gICAgICB0aGlzLndyaXRlKG5hbWUsICcnLCBEYXRlLm5vdygpIC0gODY0MDAwMDApO1xuICAgIH1cbiAgfVxuXG4gIDpcblxuICAvLyBOb24tc3RhbmRhcmQgYnJvd3NlciBlbnYgKHdlYiB3b3JrZXJzLCByZWFjdC1uYXRpdmUpIGxhY2sgbmVlZGVkIHN1cHBvcnQuXG4gIHtcbiAgICB3cml0ZSgpIHt9LFxuICAgIHJlYWQoKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuICAgIHJlbW92ZSgpIHt9XG4gIH07XG5cbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IGlzQWJzb2x1dGVVUkwgZnJvbSAnLi4vaGVscGVycy9pc0Fic29sdXRlVVJMLmpzJztcbmltcG9ydCBjb21iaW5lVVJMcyBmcm9tICcuLi9oZWxwZXJzL2NvbWJpbmVVUkxzLmpzJztcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFVSTCBieSBjb21iaW5pbmcgdGhlIGJhc2VVUkwgd2l0aCB0aGUgcmVxdWVzdGVkVVJMLFxuICogb25seSB3aGVuIHRoZSByZXF1ZXN0ZWRVUkwgaXMgbm90IGFscmVhZHkgYW4gYWJzb2x1dGUgVVJMLlxuICogSWYgdGhlIHJlcXVlc3RVUkwgaXMgYWJzb2x1dGUsIHRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgcmVxdWVzdGVkVVJMIHVudG91Y2hlZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZVVSTCBUaGUgYmFzZSBVUkxcbiAqIEBwYXJhbSB7c3RyaW5nfSByZXF1ZXN0ZWRVUkwgQWJzb2x1dGUgb3IgcmVsYXRpdmUgVVJMIHRvIGNvbWJpbmVcbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgY29tYmluZWQgZnVsbCBwYXRoXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGJ1aWxkRnVsbFBhdGgoYmFzZVVSTCwgcmVxdWVzdGVkVVJMKSB7XG4gIGlmIChiYXNlVVJMICYmICFpc0Fic29sdXRlVVJMKHJlcXVlc3RlZFVSTCkpIHtcbiAgICByZXR1cm4gY29tYmluZVVSTHMoYmFzZVVSTCwgcmVxdWVzdGVkVVJMKTtcbiAgfVxuICByZXR1cm4gcmVxdWVzdGVkVVJMO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB0aGUgc3BlY2lmaWVkIFVSTCBpcyBhYnNvbHV0ZVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIFVSTCB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHNwZWNpZmllZCBVUkwgaXMgYWJzb2x1dGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc0Fic29sdXRlVVJMKHVybCkge1xuICAvLyBBIFVSTCBpcyBjb25zaWRlcmVkIGFic29sdXRlIGlmIGl0IGJlZ2lucyB3aXRoIFwiPHNjaGVtZT46Ly9cIiBvciBcIi8vXCIgKHByb3RvY29sLXJlbGF0aXZlIFVSTCkuXG4gIC8vIFJGQyAzOTg2IGRlZmluZXMgc2NoZW1lIG5hbWUgYXMgYSBzZXF1ZW5jZSBvZiBjaGFyYWN0ZXJzIGJlZ2lubmluZyB3aXRoIGEgbGV0dGVyIGFuZCBmb2xsb3dlZFxuICAvLyBieSBhbnkgY29tYmluYXRpb24gb2YgbGV0dGVycywgZGlnaXRzLCBwbHVzLCBwZXJpb2QsIG9yIGh5cGhlbi5cbiAgcmV0dXJuIC9eKFthLXpdW2EtelxcZCtcXC0uXSo6KT9cXC9cXC8vaS50ZXN0KHVybCk7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBVUkwgYnkgY29tYmluaW5nIHRoZSBzcGVjaWZpZWQgVVJMc1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlVVJMIFRoZSBiYXNlIFVSTFxuICogQHBhcmFtIHtzdHJpbmd9IHJlbGF0aXZlVVJMIFRoZSByZWxhdGl2ZSBVUkxcbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgY29tYmluZWQgVVJMXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNvbWJpbmVVUkxzKGJhc2VVUkwsIHJlbGF0aXZlVVJMKSB7XG4gIHJldHVybiByZWxhdGl2ZVVSTFxuICAgID8gYmFzZVVSTC5yZXBsYWNlKC9cXC8rJC8sICcnKSArICcvJyArIHJlbGF0aXZlVVJMLnJlcGxhY2UoL15cXC8rLywgJycpXG4gICAgOiBiYXNlVVJMO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi8uLi91dGlscy5qcyc7XG5pbXBvcnQgcGxhdGZvcm0gZnJvbSAnLi4vcGxhdGZvcm0vaW5kZXguanMnO1xuXG5leHBvcnQgZGVmYXVsdCBwbGF0Zm9ybS5oYXNTdGFuZGFyZEJyb3dzZXJFbnYgP1xuXG4vLyBTdGFuZGFyZCBicm93c2VyIGVudnMgaGF2ZSBmdWxsIHN1cHBvcnQgb2YgdGhlIEFQSXMgbmVlZGVkIHRvIHRlc3Rcbi8vIHdoZXRoZXIgdGhlIHJlcXVlc3QgVVJMIGlzIG9mIHRoZSBzYW1lIG9yaWdpbiBhcyBjdXJyZW50IGxvY2F0aW9uLlxuICAoZnVuY3Rpb24gc3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgIGNvbnN0IG1zaWUgPSAvKG1zaWV8dHJpZGVudCkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgIGNvbnN0IHVybFBhcnNpbmdOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIGxldCBvcmlnaW5VUkw7XG5cbiAgICAvKipcbiAgICAqIFBhcnNlIGEgVVJMIHRvIGRpc2NvdmVyIGl0cyBjb21wb25lbnRzXG4gICAgKlxuICAgICogQHBhcmFtIHtTdHJpbmd9IHVybCBUaGUgVVJMIHRvIGJlIHBhcnNlZFxuICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAqL1xuICAgIGZ1bmN0aW9uIHJlc29sdmVVUkwodXJsKSB7XG4gICAgICBsZXQgaHJlZiA9IHVybDtcblxuICAgICAgaWYgKG1zaWUpIHtcbiAgICAgICAgLy8gSUUgbmVlZHMgYXR0cmlidXRlIHNldCB0d2ljZSB0byBub3JtYWxpemUgcHJvcGVydGllc1xuICAgICAgICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcbiAgICAgICAgaHJlZiA9IHVybFBhcnNpbmdOb2RlLmhyZWY7XG4gICAgICB9XG5cbiAgICAgIHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIGhyZWYpO1xuXG4gICAgICAvLyB1cmxQYXJzaW5nTm9kZSBwcm92aWRlcyB0aGUgVXJsVXRpbHMgaW50ZXJmYWNlIC0gaHR0cDovL3VybC5zcGVjLndoYXR3Zy5vcmcvI3VybHV0aWxzXG4gICAgICByZXR1cm4ge1xuICAgICAgICBocmVmOiB1cmxQYXJzaW5nTm9kZS5ocmVmLFxuICAgICAgICBwcm90b2NvbDogdXJsUGFyc2luZ05vZGUucHJvdG9jb2wgPyB1cmxQYXJzaW5nTm9kZS5wcm90b2NvbC5yZXBsYWNlKC86JC8sICcnKSA6ICcnLFxuICAgICAgICBob3N0OiB1cmxQYXJzaW5nTm9kZS5ob3N0LFxuICAgICAgICBzZWFyY2g6IHVybFBhcnNpbmdOb2RlLnNlYXJjaCA/IHVybFBhcnNpbmdOb2RlLnNlYXJjaC5yZXBsYWNlKC9eXFw/LywgJycpIDogJycsXG4gICAgICAgIGhhc2g6IHVybFBhcnNpbmdOb2RlLmhhc2ggPyB1cmxQYXJzaW5nTm9kZS5oYXNoLnJlcGxhY2UoL14jLywgJycpIDogJycsXG4gICAgICAgIGhvc3RuYW1lOiB1cmxQYXJzaW5nTm9kZS5ob3N0bmFtZSxcbiAgICAgICAgcG9ydDogdXJsUGFyc2luZ05vZGUucG9ydCxcbiAgICAgICAgcGF0aG5hbWU6ICh1cmxQYXJzaW5nTm9kZS5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJykgP1xuICAgICAgICAgIHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lIDpcbiAgICAgICAgICAnLycgKyB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBvcmlnaW5VUkwgPSByZXNvbHZlVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcblxuICAgIC8qKlxuICAgICogRGV0ZXJtaW5lIGlmIGEgVVJMIHNoYXJlcyB0aGUgc2FtZSBvcmlnaW4gYXMgdGhlIGN1cnJlbnQgbG9jYXRpb25cbiAgICAqXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gcmVxdWVzdFVSTCBUaGUgVVJMIHRvIHRlc3RcbiAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIFVSTCBzaGFyZXMgdGhlIHNhbWUgb3JpZ2luLCBvdGhlcndpc2UgZmFsc2VcbiAgICAqL1xuICAgIHJldHVybiBmdW5jdGlvbiBpc1VSTFNhbWVPcmlnaW4ocmVxdWVzdFVSTCkge1xuICAgICAgY29uc3QgcGFyc2VkID0gKHV0aWxzLmlzU3RyaW5nKHJlcXVlc3RVUkwpKSA/IHJlc29sdmVVUkwocmVxdWVzdFVSTCkgOiByZXF1ZXN0VVJMO1xuICAgICAgcmV0dXJuIChwYXJzZWQucHJvdG9jb2wgPT09IG9yaWdpblVSTC5wcm90b2NvbCAmJlxuICAgICAgICAgIHBhcnNlZC5ob3N0ID09PSBvcmlnaW5VUkwuaG9zdCk7XG4gICAgfTtcbiAgfSkoKSA6XG5cbiAgLy8gTm9uIHN0YW5kYXJkIGJyb3dzZXIgZW52cyAod2ViIHdvcmtlcnMsIHJlYWN0LW5hdGl2ZSkgbGFjayBuZWVkZWQgc3VwcG9ydC5cbiAgKGZ1bmN0aW9uIG5vblN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gaXNVUkxTYW1lT3JpZ2luKCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgfSkoKTtcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4vLi4vdXRpbHMuanMnO1xuaW1wb3J0IHNldHRsZSBmcm9tICcuLy4uL2NvcmUvc2V0dGxlLmpzJztcbmltcG9ydCBjb29raWVzIGZyb20gJy4vLi4vaGVscGVycy9jb29raWVzLmpzJztcbmltcG9ydCBidWlsZFVSTCBmcm9tICcuLy4uL2hlbHBlcnMvYnVpbGRVUkwuanMnO1xuaW1wb3J0IGJ1aWxkRnVsbFBhdGggZnJvbSAnLi4vY29yZS9idWlsZEZ1bGxQYXRoLmpzJztcbmltcG9ydCBpc1VSTFNhbWVPcmlnaW4gZnJvbSAnLi8uLi9oZWxwZXJzL2lzVVJMU2FtZU9yaWdpbi5qcyc7XG5pbXBvcnQgdHJhbnNpdGlvbmFsRGVmYXVsdHMgZnJvbSAnLi4vZGVmYXVsdHMvdHJhbnNpdGlvbmFsLmpzJztcbmltcG9ydCBBeGlvc0Vycm9yIGZyb20gJy4uL2NvcmUvQXhpb3NFcnJvci5qcyc7XG5pbXBvcnQgQ2FuY2VsZWRFcnJvciBmcm9tICcuLi9jYW5jZWwvQ2FuY2VsZWRFcnJvci5qcyc7XG5pbXBvcnQgcGFyc2VQcm90b2NvbCBmcm9tICcuLi9oZWxwZXJzL3BhcnNlUHJvdG9jb2wuanMnO1xuaW1wb3J0IHBsYXRmb3JtIGZyb20gJy4uL3BsYXRmb3JtL2luZGV4LmpzJztcbmltcG9ydCBBeGlvc0hlYWRlcnMgZnJvbSAnLi4vY29yZS9BeGlvc0hlYWRlcnMuanMnO1xuaW1wb3J0IHNwZWVkb21ldGVyIGZyb20gJy4uL2hlbHBlcnMvc3BlZWRvbWV0ZXIuanMnO1xuXG5mdW5jdGlvbiBwcm9ncmVzc0V2ZW50UmVkdWNlcihsaXN0ZW5lciwgaXNEb3dubG9hZFN0cmVhbSkge1xuICBsZXQgYnl0ZXNOb3RpZmllZCA9IDA7XG4gIGNvbnN0IF9zcGVlZG9tZXRlciA9IHNwZWVkb21ldGVyKDUwLCAyNTApO1xuXG4gIHJldHVybiBlID0+IHtcbiAgICBjb25zdCBsb2FkZWQgPSBlLmxvYWRlZDtcbiAgICBjb25zdCB0b3RhbCA9IGUubGVuZ3RoQ29tcHV0YWJsZSA/IGUudG90YWwgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgcHJvZ3Jlc3NCeXRlcyA9IGxvYWRlZCAtIGJ5dGVzTm90aWZpZWQ7XG4gICAgY29uc3QgcmF0ZSA9IF9zcGVlZG9tZXRlcihwcm9ncmVzc0J5dGVzKTtcbiAgICBjb25zdCBpblJhbmdlID0gbG9hZGVkIDw9IHRvdGFsO1xuXG4gICAgYnl0ZXNOb3RpZmllZCA9IGxvYWRlZDtcblxuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICBsb2FkZWQsXG4gICAgICB0b3RhbCxcbiAgICAgIHByb2dyZXNzOiB0b3RhbCA/IChsb2FkZWQgLyB0b3RhbCkgOiB1bmRlZmluZWQsXG4gICAgICBieXRlczogcHJvZ3Jlc3NCeXRlcyxcbiAgICAgIHJhdGU6IHJhdGUgPyByYXRlIDogdW5kZWZpbmVkLFxuICAgICAgZXN0aW1hdGVkOiByYXRlICYmIHRvdGFsICYmIGluUmFuZ2UgPyAodG90YWwgLSBsb2FkZWQpIC8gcmF0ZSA6IHVuZGVmaW5lZCxcbiAgICAgIGV2ZW50OiBlXG4gICAgfTtcblxuICAgIGRhdGFbaXNEb3dubG9hZFN0cmVhbSA/ICdkb3dubG9hZCcgOiAndXBsb2FkJ10gPSB0cnVlO1xuXG4gICAgbGlzdGVuZXIoZGF0YSk7XG4gIH07XG59XG5cbmNvbnN0IGlzWEhSQWRhcHRlclN1cHBvcnRlZCA9IHR5cGVvZiBYTUxIdHRwUmVxdWVzdCAhPT0gJ3VuZGVmaW5lZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGlzWEhSQWRhcHRlclN1cHBvcnRlZCAmJiBmdW5jdGlvbiAoY29uZmlnKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiBkaXNwYXRjaFhoclJlcXVlc3QocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgbGV0IHJlcXVlc3REYXRhID0gY29uZmlnLmRhdGE7XG4gICAgY29uc3QgcmVxdWVzdEhlYWRlcnMgPSBBeGlvc0hlYWRlcnMuZnJvbShjb25maWcuaGVhZGVycykubm9ybWFsaXplKCk7XG4gICAgbGV0IHtyZXNwb25zZVR5cGUsIHdpdGhYU1JGVG9rZW59ID0gY29uZmlnO1xuICAgIGxldCBvbkNhbmNlbGVkO1xuICAgIGZ1bmN0aW9uIGRvbmUoKSB7XG4gICAgICBpZiAoY29uZmlnLmNhbmNlbFRva2VuKSB7XG4gICAgICAgIGNvbmZpZy5jYW5jZWxUb2tlbi51bnN1YnNjcmliZShvbkNhbmNlbGVkKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNvbmZpZy5zaWduYWwpIHtcbiAgICAgICAgY29uZmlnLnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIG9uQ2FuY2VsZWQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxldCBjb250ZW50VHlwZTtcblxuICAgIGlmICh1dGlscy5pc0Zvcm1EYXRhKHJlcXVlc3REYXRhKSkge1xuICAgICAgaWYgKHBsYXRmb3JtLmhhc1N0YW5kYXJkQnJvd3NlckVudiB8fCBwbGF0Zm9ybS5oYXNTdGFuZGFyZEJyb3dzZXJXZWJXb3JrZXJFbnYpIHtcbiAgICAgICAgcmVxdWVzdEhlYWRlcnMuc2V0Q29udGVudFR5cGUoZmFsc2UpOyAvLyBMZXQgdGhlIGJyb3dzZXIgc2V0IGl0XG4gICAgICB9IGVsc2UgaWYgKChjb250ZW50VHlwZSA9IHJlcXVlc3RIZWFkZXJzLmdldENvbnRlbnRUeXBlKCkpICE9PSBmYWxzZSkge1xuICAgICAgICAvLyBmaXggc2VtaWNvbG9uIGR1cGxpY2F0aW9uIGlzc3VlIGZvciBSZWFjdE5hdGl2ZSBGb3JtRGF0YSBpbXBsZW1lbnRhdGlvblxuICAgICAgICBjb25zdCBbdHlwZSwgLi4udG9rZW5zXSA9IGNvbnRlbnRUeXBlID8gY29udGVudFR5cGUuc3BsaXQoJzsnKS5tYXAodG9rZW4gPT4gdG9rZW4udHJpbSgpKS5maWx0ZXIoQm9vbGVhbikgOiBbXTtcbiAgICAgICAgcmVxdWVzdEhlYWRlcnMuc2V0Q29udGVudFR5cGUoW3R5cGUgfHwgJ211bHRpcGFydC9mb3JtLWRhdGEnLCAuLi50b2tlbnNdLmpvaW4oJzsgJykpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxldCByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAvLyBIVFRQIGJhc2ljIGF1dGhlbnRpY2F0aW9uXG4gICAgaWYgKGNvbmZpZy5hdXRoKSB7XG4gICAgICBjb25zdCB1c2VybmFtZSA9IGNvbmZpZy5hdXRoLnVzZXJuYW1lIHx8ICcnO1xuICAgICAgY29uc3QgcGFzc3dvcmQgPSBjb25maWcuYXV0aC5wYXNzd29yZCA/IHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChjb25maWcuYXV0aC5wYXNzd29yZCkpIDogJyc7XG4gICAgICByZXF1ZXN0SGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmFzaWMgJyArIGJ0b2EodXNlcm5hbWUgKyAnOicgKyBwYXNzd29yZCkpO1xuICAgIH1cblxuICAgIGNvbnN0IGZ1bGxQYXRoID0gYnVpbGRGdWxsUGF0aChjb25maWcuYmFzZVVSTCwgY29uZmlnLnVybCk7XG5cbiAgICByZXF1ZXN0Lm9wZW4oY29uZmlnLm1ldGhvZC50b1VwcGVyQ2FzZSgpLCBidWlsZFVSTChmdWxsUGF0aCwgY29uZmlnLnBhcmFtcywgY29uZmlnLnBhcmFtc1NlcmlhbGl6ZXIpLCB0cnVlKTtcblxuICAgIC8vIFNldCB0aGUgcmVxdWVzdCB0aW1lb3V0IGluIE1TXG4gICAgcmVxdWVzdC50aW1lb3V0ID0gY29uZmlnLnRpbWVvdXQ7XG5cbiAgICBmdW5jdGlvbiBvbmxvYWRlbmQoKSB7XG4gICAgICBpZiAoIXJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gUHJlcGFyZSB0aGUgcmVzcG9uc2VcbiAgICAgIGNvbnN0IHJlc3BvbnNlSGVhZGVycyA9IEF4aW9zSGVhZGVycy5mcm9tKFxuICAgICAgICAnZ2V0QWxsUmVzcG9uc2VIZWFkZXJzJyBpbiByZXF1ZXN0ICYmIHJlcXVlc3QuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKClcbiAgICAgICk7XG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSAhcmVzcG9uc2VUeXBlIHx8IHJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnIHx8IHJlc3BvbnNlVHlwZSA9PT0gJ2pzb24nID9cbiAgICAgICAgcmVxdWVzdC5yZXNwb25zZVRleHQgOiByZXF1ZXN0LnJlc3BvbnNlO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgIGRhdGE6IHJlc3BvbnNlRGF0YSxcbiAgICAgICAgc3RhdHVzOiByZXF1ZXN0LnN0YXR1cyxcbiAgICAgICAgc3RhdHVzVGV4dDogcmVxdWVzdC5zdGF0dXNUZXh0LFxuICAgICAgICBoZWFkZXJzOiByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgIGNvbmZpZyxcbiAgICAgICAgcmVxdWVzdFxuICAgICAgfTtcblxuICAgICAgc2V0dGxlKGZ1bmN0aW9uIF9yZXNvbHZlKHZhbHVlKSB7XG4gICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgICBkb25lKCk7XG4gICAgICB9LCBmdW5jdGlvbiBfcmVqZWN0KGVycikge1xuICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfSwgcmVzcG9uc2UpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoJ29ubG9hZGVuZCcgaW4gcmVxdWVzdCkge1xuICAgICAgLy8gVXNlIG9ubG9hZGVuZCBpZiBhdmFpbGFibGVcbiAgICAgIHJlcXVlc3Qub25sb2FkZW5kID0gb25sb2FkZW5kO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBMaXN0ZW4gZm9yIHJlYWR5IHN0YXRlIHRvIGVtdWxhdGUgb25sb2FkZW5kXG4gICAgICByZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZUxvYWQoKSB7XG4gICAgICAgIGlmICghcmVxdWVzdCB8fCByZXF1ZXN0LnJlYWR5U3RhdGUgIT09IDQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGUgcmVxdWVzdCBlcnJvcmVkIG91dCBhbmQgd2UgZGlkbid0IGdldCBhIHJlc3BvbnNlLCB0aGlzIHdpbGwgYmVcbiAgICAgICAgLy8gaGFuZGxlZCBieSBvbmVycm9yIGluc3RlYWRcbiAgICAgICAgLy8gV2l0aCBvbmUgZXhjZXB0aW9uOiByZXF1ZXN0IHRoYXQgdXNpbmcgZmlsZTogcHJvdG9jb2wsIG1vc3QgYnJvd3NlcnNcbiAgICAgICAgLy8gd2lsbCByZXR1cm4gc3RhdHVzIGFzIDAgZXZlbiB0aG91Z2ggaXQncyBhIHN1Y2Nlc3NmdWwgcmVxdWVzdFxuICAgICAgICBpZiAocmVxdWVzdC5zdGF0dXMgPT09IDAgJiYgIShyZXF1ZXN0LnJlc3BvbnNlVVJMICYmIHJlcXVlc3QucmVzcG9uc2VVUkwuaW5kZXhPZignZmlsZTonKSA9PT0gMCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVhZHlzdGF0ZSBoYW5kbGVyIGlzIGNhbGxpbmcgYmVmb3JlIG9uZXJyb3Igb3Igb250aW1lb3V0IGhhbmRsZXJzLFxuICAgICAgICAvLyBzbyB3ZSBzaG91bGQgY2FsbCBvbmxvYWRlbmQgb24gdGhlIG5leHQgJ3RpY2snXG4gICAgICAgIHNldFRpbWVvdXQob25sb2FkZW5kKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIGJyb3dzZXIgcmVxdWVzdCBjYW5jZWxsYXRpb24gKGFzIG9wcG9zZWQgdG8gYSBtYW51YWwgY2FuY2VsbGF0aW9uKVxuICAgIHJlcXVlc3Qub25hYm9ydCA9IGZ1bmN0aW9uIGhhbmRsZUFib3J0KCkge1xuICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmVqZWN0KG5ldyBBeGlvc0Vycm9yKCdSZXF1ZXN0IGFib3J0ZWQnLCBBeGlvc0Vycm9yLkVDT05OQUJPUlRFRCwgY29uZmlnLCByZXF1ZXN0KSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBIYW5kbGUgbG93IGxldmVsIG5ldHdvcmsgZXJyb3JzXG4gICAgcmVxdWVzdC5vbmVycm9yID0gZnVuY3Rpb24gaGFuZGxlRXJyb3IoKSB7XG4gICAgICAvLyBSZWFsIGVycm9ycyBhcmUgaGlkZGVuIGZyb20gdXMgYnkgdGhlIGJyb3dzZXJcbiAgICAgIC8vIG9uZXJyb3Igc2hvdWxkIG9ubHkgZmlyZSBpZiBpdCdzIGEgbmV0d29yayBlcnJvclxuICAgICAgcmVqZWN0KG5ldyBBeGlvc0Vycm9yKCdOZXR3b3JrIEVycm9yJywgQXhpb3NFcnJvci5FUlJfTkVUV09SSywgY29uZmlnLCByZXF1ZXN0KSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBIYW5kbGUgdGltZW91dFxuICAgIHJlcXVlc3Qub250aW1lb3V0ID0gZnVuY3Rpb24gaGFuZGxlVGltZW91dCgpIHtcbiAgICAgIGxldCB0aW1lb3V0RXJyb3JNZXNzYWdlID0gY29uZmlnLnRpbWVvdXQgPyAndGltZW91dCBvZiAnICsgY29uZmlnLnRpbWVvdXQgKyAnbXMgZXhjZWVkZWQnIDogJ3RpbWVvdXQgZXhjZWVkZWQnO1xuICAgICAgY29uc3QgdHJhbnNpdGlvbmFsID0gY29uZmlnLnRyYW5zaXRpb25hbCB8fCB0cmFuc2l0aW9uYWxEZWZhdWx0cztcbiAgICAgIGlmIChjb25maWcudGltZW91dEVycm9yTWVzc2FnZSkge1xuICAgICAgICB0aW1lb3V0RXJyb3JNZXNzYWdlID0gY29uZmlnLnRpbWVvdXRFcnJvck1lc3NhZ2U7XG4gICAgICB9XG4gICAgICByZWplY3QobmV3IEF4aW9zRXJyb3IoXG4gICAgICAgIHRpbWVvdXRFcnJvck1lc3NhZ2UsXG4gICAgICAgIHRyYW5zaXRpb25hbC5jbGFyaWZ5VGltZW91dEVycm9yID8gQXhpb3NFcnJvci5FVElNRURPVVQgOiBBeGlvc0Vycm9yLkVDT05OQUJPUlRFRCxcbiAgICAgICAgY29uZmlnLFxuICAgICAgICByZXF1ZXN0KSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBBZGQgeHNyZiBoZWFkZXJcbiAgICAvLyBUaGlzIGlzIG9ubHkgZG9uZSBpZiBydW5uaW5nIGluIGEgc3RhbmRhcmQgYnJvd3NlciBlbnZpcm9ubWVudC5cbiAgICAvLyBTcGVjaWZpY2FsbHkgbm90IGlmIHdlJ3JlIGluIGEgd2ViIHdvcmtlciwgb3IgcmVhY3QtbmF0aXZlLlxuICAgIGlmKHBsYXRmb3JtLmhhc1N0YW5kYXJkQnJvd3NlckVudikge1xuICAgICAgd2l0aFhTUkZUb2tlbiAmJiB1dGlscy5pc0Z1bmN0aW9uKHdpdGhYU1JGVG9rZW4pICYmICh3aXRoWFNSRlRva2VuID0gd2l0aFhTUkZUb2tlbihjb25maWcpKTtcblxuICAgICAgaWYgKHdpdGhYU1JGVG9rZW4gfHwgKHdpdGhYU1JGVG9rZW4gIT09IGZhbHNlICYmIGlzVVJMU2FtZU9yaWdpbihmdWxsUGF0aCkpKSB7XG4gICAgICAgIC8vIEFkZCB4c3JmIGhlYWRlclxuICAgICAgICBjb25zdCB4c3JmVmFsdWUgPSBjb25maWcueHNyZkhlYWRlck5hbWUgJiYgY29uZmlnLnhzcmZDb29raWVOYW1lICYmIGNvb2tpZXMucmVhZChjb25maWcueHNyZkNvb2tpZU5hbWUpO1xuXG4gICAgICAgIGlmICh4c3JmVmFsdWUpIHtcbiAgICAgICAgICByZXF1ZXN0SGVhZGVycy5zZXQoY29uZmlnLnhzcmZIZWFkZXJOYW1lLCB4c3JmVmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlIENvbnRlbnQtVHlwZSBpZiBkYXRhIGlzIHVuZGVmaW5lZFxuICAgIHJlcXVlc3REYXRhID09PSB1bmRlZmluZWQgJiYgcmVxdWVzdEhlYWRlcnMuc2V0Q29udGVudFR5cGUobnVsbCk7XG5cbiAgICAvLyBBZGQgaGVhZGVycyB0byB0aGUgcmVxdWVzdFxuICAgIGlmICgnc2V0UmVxdWVzdEhlYWRlcicgaW4gcmVxdWVzdCkge1xuICAgICAgdXRpbHMuZm9yRWFjaChyZXF1ZXN0SGVhZGVycy50b0pTT04oKSwgZnVuY3Rpb24gc2V0UmVxdWVzdEhlYWRlcih2YWwsIGtleSkge1xuICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoa2V5LCB2YWwpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gQWRkIHdpdGhDcmVkZW50aWFscyB0byByZXF1ZXN0IGlmIG5lZWRlZFxuICAgIGlmICghdXRpbHMuaXNVbmRlZmluZWQoY29uZmlnLndpdGhDcmVkZW50aWFscykpIHtcbiAgICAgIHJlcXVlc3Qud2l0aENyZWRlbnRpYWxzID0gISFjb25maWcud2l0aENyZWRlbnRpYWxzO1xuICAgIH1cblxuICAgIC8vIEFkZCByZXNwb25zZVR5cGUgdG8gcmVxdWVzdCBpZiBuZWVkZWRcbiAgICBpZiAocmVzcG9uc2VUeXBlICYmIHJlc3BvbnNlVHlwZSAhPT0gJ2pzb24nKSB7XG4gICAgICByZXF1ZXN0LnJlc3BvbnNlVHlwZSA9IGNvbmZpZy5yZXNwb25zZVR5cGU7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIHByb2dyZXNzIGlmIG5lZWRlZFxuICAgIGlmICh0eXBlb2YgY29uZmlnLm9uRG93bmxvYWRQcm9ncmVzcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHByb2dyZXNzRXZlbnRSZWR1Y2VyKGNvbmZpZy5vbkRvd25sb2FkUHJvZ3Jlc3MsIHRydWUpKTtcbiAgICB9XG5cbiAgICAvLyBOb3QgYWxsIGJyb3dzZXJzIHN1cHBvcnQgdXBsb2FkIGV2ZW50c1xuICAgIGlmICh0eXBlb2YgY29uZmlnLm9uVXBsb2FkUHJvZ3Jlc3MgPT09ICdmdW5jdGlvbicgJiYgcmVxdWVzdC51cGxvYWQpIHtcbiAgICAgIHJlcXVlc3QudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgcHJvZ3Jlc3NFdmVudFJlZHVjZXIoY29uZmlnLm9uVXBsb2FkUHJvZ3Jlc3MpKTtcbiAgICB9XG5cbiAgICBpZiAoY29uZmlnLmNhbmNlbFRva2VuIHx8IGNvbmZpZy5zaWduYWwpIHtcbiAgICAgIC8vIEhhbmRsZSBjYW5jZWxsYXRpb25cbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gICAgICBvbkNhbmNlbGVkID0gY2FuY2VsID0+IHtcbiAgICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJlamVjdCghY2FuY2VsIHx8IGNhbmNlbC50eXBlID8gbmV3IENhbmNlbGVkRXJyb3IobnVsbCwgY29uZmlnLCByZXF1ZXN0KSA6IGNhbmNlbCk7XG4gICAgICAgIHJlcXVlc3QuYWJvcnQoKTtcbiAgICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgICB9O1xuXG4gICAgICBjb25maWcuY2FuY2VsVG9rZW4gJiYgY29uZmlnLmNhbmNlbFRva2VuLnN1YnNjcmliZShvbkNhbmNlbGVkKTtcbiAgICAgIGlmIChjb25maWcuc2lnbmFsKSB7XG4gICAgICAgIGNvbmZpZy5zaWduYWwuYWJvcnRlZCA/IG9uQ2FuY2VsZWQoKSA6IGNvbmZpZy5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBvbkNhbmNlbGVkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBwcm90b2NvbCA9IHBhcnNlUHJvdG9jb2woZnVsbFBhdGgpO1xuXG4gICAgaWYgKHByb3RvY29sICYmIHBsYXRmb3JtLnByb3RvY29scy5pbmRleE9mKHByb3RvY29sKSA9PT0gLTEpIHtcbiAgICAgIHJlamVjdChuZXcgQXhpb3NFcnJvcignVW5zdXBwb3J0ZWQgcHJvdG9jb2wgJyArIHByb3RvY29sICsgJzonLCBBeGlvc0Vycm9yLkVSUl9CQURfUkVRVUVTVCwgY29uZmlnKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG5cbiAgICAvLyBTZW5kIHRoZSByZXF1ZXN0XG4gICAgcmVxdWVzdC5zZW5kKHJlcXVlc3REYXRhIHx8IG51bGwpO1xuICB9KTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDYWxjdWxhdGUgZGF0YSBtYXhSYXRlXG4gKiBAcGFyYW0ge051bWJlcn0gW3NhbXBsZXNDb3VudD0gMTBdXG4gKiBAcGFyYW0ge051bWJlcn0gW21pbj0gMTAwMF1cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gc3BlZWRvbWV0ZXIoc2FtcGxlc0NvdW50LCBtaW4pIHtcbiAgc2FtcGxlc0NvdW50ID0gc2FtcGxlc0NvdW50IHx8IDEwO1xuICBjb25zdCBieXRlcyA9IG5ldyBBcnJheShzYW1wbGVzQ291bnQpO1xuICBjb25zdCB0aW1lc3RhbXBzID0gbmV3IEFycmF5KHNhbXBsZXNDb3VudCk7XG4gIGxldCBoZWFkID0gMDtcbiAgbGV0IHRhaWwgPSAwO1xuICBsZXQgZmlyc3RTYW1wbGVUUztcblxuICBtaW4gPSBtaW4gIT09IHVuZGVmaW5lZCA/IG1pbiA6IDEwMDA7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIHB1c2goY2h1bmtMZW5ndGgpIHtcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuXG4gICAgY29uc3Qgc3RhcnRlZEF0ID0gdGltZXN0YW1wc1t0YWlsXTtcblxuICAgIGlmICghZmlyc3RTYW1wbGVUUykge1xuICAgICAgZmlyc3RTYW1wbGVUUyA9IG5vdztcbiAgICB9XG5cbiAgICBieXRlc1toZWFkXSA9IGNodW5rTGVuZ3RoO1xuICAgIHRpbWVzdGFtcHNbaGVhZF0gPSBub3c7XG5cbiAgICBsZXQgaSA9IHRhaWw7XG4gICAgbGV0IGJ5dGVzQ291bnQgPSAwO1xuXG4gICAgd2hpbGUgKGkgIT09IGhlYWQpIHtcbiAgICAgIGJ5dGVzQ291bnQgKz0gYnl0ZXNbaSsrXTtcbiAgICAgIGkgPSBpICUgc2FtcGxlc0NvdW50O1xuICAgIH1cblxuICAgIGhlYWQgPSAoaGVhZCArIDEpICUgc2FtcGxlc0NvdW50O1xuXG4gICAgaWYgKGhlYWQgPT09IHRhaWwpIHtcbiAgICAgIHRhaWwgPSAodGFpbCArIDEpICUgc2FtcGxlc0NvdW50O1xuICAgIH1cblxuICAgIGlmIChub3cgLSBmaXJzdFNhbXBsZVRTIDwgbWluKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcGFzc2VkID0gc3RhcnRlZEF0ICYmIG5vdyAtIHN0YXJ0ZWRBdDtcblxuICAgIHJldHVybiBwYXNzZWQgPyBNYXRoLnJvdW5kKGJ5dGVzQ291bnQgKiAxMDAwIC8gcGFzc2VkKSA6IHVuZGVmaW5lZDtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgc3BlZWRvbWV0ZXI7XG4iLCJpbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuaW1wb3J0IGh0dHBBZGFwdGVyIGZyb20gJy4vaHR0cC5qcyc7XG5pbXBvcnQgeGhyQWRhcHRlciBmcm9tICcuL3hoci5qcyc7XG5pbXBvcnQgQXhpb3NFcnJvciBmcm9tIFwiLi4vY29yZS9BeGlvc0Vycm9yLmpzXCI7XG5cbmNvbnN0IGtub3duQWRhcHRlcnMgPSB7XG4gIGh0dHA6IGh0dHBBZGFwdGVyLFxuICB4aHI6IHhockFkYXB0ZXJcbn1cblxudXRpbHMuZm9yRWFjaChrbm93bkFkYXB0ZXJzLCAoZm4sIHZhbHVlKSA9PiB7XG4gIGlmIChmbikge1xuICAgIHRyeSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sICduYW1lJywge3ZhbHVlfSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgJ2FkYXB0ZXJOYW1lJywge3ZhbHVlfSk7XG4gIH1cbn0pO1xuXG5jb25zdCByZW5kZXJSZWFzb24gPSAocmVhc29uKSA9PiBgLSAke3JlYXNvbn1gO1xuXG5jb25zdCBpc1Jlc29sdmVkSGFuZGxlID0gKGFkYXB0ZXIpID0+IHV0aWxzLmlzRnVuY3Rpb24oYWRhcHRlcikgfHwgYWRhcHRlciA9PT0gbnVsbCB8fCBhZGFwdGVyID09PSBmYWxzZTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBnZXRBZGFwdGVyOiAoYWRhcHRlcnMpID0+IHtcbiAgICBhZGFwdGVycyA9IHV0aWxzLmlzQXJyYXkoYWRhcHRlcnMpID8gYWRhcHRlcnMgOiBbYWRhcHRlcnNdO1xuXG4gICAgY29uc3Qge2xlbmd0aH0gPSBhZGFwdGVycztcbiAgICBsZXQgbmFtZU9yQWRhcHRlcjtcbiAgICBsZXQgYWRhcHRlcjtcblxuICAgIGNvbnN0IHJlamVjdGVkUmVhc29ucyA9IHt9O1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgbmFtZU9yQWRhcHRlciA9IGFkYXB0ZXJzW2ldO1xuICAgICAgbGV0IGlkO1xuXG4gICAgICBhZGFwdGVyID0gbmFtZU9yQWRhcHRlcjtcblxuICAgICAgaWYgKCFpc1Jlc29sdmVkSGFuZGxlKG5hbWVPckFkYXB0ZXIpKSB7XG4gICAgICAgIGFkYXB0ZXIgPSBrbm93bkFkYXB0ZXJzWyhpZCA9IFN0cmluZyhuYW1lT3JBZGFwdGVyKSkudG9Mb3dlckNhc2UoKV07XG5cbiAgICAgICAgaWYgKGFkYXB0ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKGBVbmtub3duIGFkYXB0ZXIgJyR7aWR9J2ApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChhZGFwdGVyKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICByZWplY3RlZFJlYXNvbnNbaWQgfHwgJyMnICsgaV0gPSBhZGFwdGVyO1xuICAgIH1cblxuICAgIGlmICghYWRhcHRlcikge1xuXG4gICAgICBjb25zdCByZWFzb25zID0gT2JqZWN0LmVudHJpZXMocmVqZWN0ZWRSZWFzb25zKVxuICAgICAgICAubWFwKChbaWQsIHN0YXRlXSkgPT4gYGFkYXB0ZXIgJHtpZH0gYCArXG4gICAgICAgICAgKHN0YXRlID09PSBmYWxzZSA/ICdpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBlbnZpcm9ubWVudCcgOiAnaXMgbm90IGF2YWlsYWJsZSBpbiB0aGUgYnVpbGQnKVxuICAgICAgICApO1xuXG4gICAgICBsZXQgcyA9IGxlbmd0aCA/XG4gICAgICAgIChyZWFzb25zLmxlbmd0aCA+IDEgPyAnc2luY2UgOlxcbicgKyByZWFzb25zLm1hcChyZW5kZXJSZWFzb24pLmpvaW4oJ1xcbicpIDogJyAnICsgcmVuZGVyUmVhc29uKHJlYXNvbnNbMF0pKSA6XG4gICAgICAgICdhcyBubyBhZGFwdGVyIHNwZWNpZmllZCc7XG5cbiAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKFxuICAgICAgICBgVGhlcmUgaXMgbm8gc3VpdGFibGUgYWRhcHRlciB0byBkaXNwYXRjaCB0aGUgcmVxdWVzdCBgICsgcyxcbiAgICAgICAgJ0VSUl9OT1RfU1VQUE9SVCdcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFkYXB0ZXI7XG4gIH0sXG4gIGFkYXB0ZXJzOiBrbm93bkFkYXB0ZXJzXG59XG4iLCIvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgc3RyaWN0XG5leHBvcnQgZGVmYXVsdCBudWxsO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgQXhpb3NFcnJvciBmcm9tICcuL0F4aW9zRXJyb3IuanMnO1xuXG4vKipcbiAqIFJlc29sdmUgb3IgcmVqZWN0IGEgUHJvbWlzZSBiYXNlZCBvbiByZXNwb25zZSBzdGF0dXMuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVzb2x2ZSBBIGZ1bmN0aW9uIHRoYXQgcmVzb2x2ZXMgdGhlIHByb21pc2UuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWplY3QgQSBmdW5jdGlvbiB0aGF0IHJlamVjdHMgdGhlIHByb21pc2UuXG4gKiBAcGFyYW0ge29iamVjdH0gcmVzcG9uc2UgVGhlIHJlc3BvbnNlLlxuICpcbiAqIEByZXR1cm5zIHtvYmplY3R9IFRoZSByZXNwb25zZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgcmVzcG9uc2UpIHtcbiAgY29uc3QgdmFsaWRhdGVTdGF0dXMgPSByZXNwb25zZS5jb25maWcudmFsaWRhdGVTdGF0dXM7XG4gIGlmICghcmVzcG9uc2Uuc3RhdHVzIHx8ICF2YWxpZGF0ZVN0YXR1cyB8fCB2YWxpZGF0ZVN0YXR1cyhyZXNwb25zZS5zdGF0dXMpKSB7XG4gICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gIH0gZWxzZSB7XG4gICAgcmVqZWN0KG5ldyBBeGlvc0Vycm9yKFxuICAgICAgJ1JlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGUgJyArIHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgIFtBeGlvc0Vycm9yLkVSUl9CQURfUkVRVUVTVCwgQXhpb3NFcnJvci5FUlJfQkFEX1JFU1BPTlNFXVtNYXRoLmZsb29yKHJlc3BvbnNlLnN0YXR1cyAvIDEwMCkgLSA0XSxcbiAgICAgIHJlc3BvbnNlLmNvbmZpZyxcbiAgICAgIHJlc3BvbnNlLnJlcXVlc3QsXG4gICAgICByZXNwb25zZVxuICAgICkpO1xuICB9XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBhcnNlUHJvdG9jb2wodXJsKSB7XG4gIGNvbnN0IG1hdGNoID0gL14oWy0rXFx3XXsxLDI1fSkoOj9cXC9cXC98OikvLmV4ZWModXJsKTtcbiAgcmV0dXJuIG1hdGNoICYmIG1hdGNoWzFdIHx8ICcnO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdHJhbnNmb3JtRGF0YSBmcm9tICcuL3RyYW5zZm9ybURhdGEuanMnO1xuaW1wb3J0IGlzQ2FuY2VsIGZyb20gJy4uL2NhbmNlbC9pc0NhbmNlbC5qcyc7XG5pbXBvcnQgZGVmYXVsdHMgZnJvbSAnLi4vZGVmYXVsdHMvaW5kZXguanMnO1xuaW1wb3J0IENhbmNlbGVkRXJyb3IgZnJvbSAnLi4vY2FuY2VsL0NhbmNlbGVkRXJyb3IuanMnO1xuaW1wb3J0IEF4aW9zSGVhZGVycyBmcm9tICcuLi9jb3JlL0F4aW9zSGVhZGVycy5qcyc7XG5pbXBvcnQgYWRhcHRlcnMgZnJvbSBcIi4uL2FkYXB0ZXJzL2FkYXB0ZXJzLmpzXCI7XG5cbi8qKlxuICogVGhyb3dzIGEgYENhbmNlbGVkRXJyb3JgIGlmIGNhbmNlbGxhdGlvbiBoYXMgYmVlbiByZXF1ZXN0ZWQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnIHRoYXQgaXMgdG8gYmUgdXNlZCBmb3IgdGhlIHJlcXVlc3RcbiAqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpIHtcbiAgaWYgKGNvbmZpZy5jYW5jZWxUb2tlbikge1xuICAgIGNvbmZpZy5jYW5jZWxUb2tlbi50aHJvd0lmUmVxdWVzdGVkKCk7XG4gIH1cblxuICBpZiAoY29uZmlnLnNpZ25hbCAmJiBjb25maWcuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICB0aHJvdyBuZXcgQ2FuY2VsZWRFcnJvcihudWxsLCBjb25maWcpO1xuICB9XG59XG5cbi8qKlxuICogRGlzcGF0Y2ggYSByZXF1ZXN0IHRvIHRoZSBzZXJ2ZXIgdXNpbmcgdGhlIGNvbmZpZ3VyZWQgYWRhcHRlci5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIFRoZSBjb25maWcgdGhhdCBpcyB0byBiZSB1c2VkIGZvciB0aGUgcmVxdWVzdFxuICpcbiAqIEByZXR1cm5zIHtQcm9taXNlfSBUaGUgUHJvbWlzZSB0byBiZSBmdWxmaWxsZWRcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGlzcGF0Y2hSZXF1ZXN0KGNvbmZpZykge1xuICB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZyk7XG5cbiAgY29uZmlnLmhlYWRlcnMgPSBBeGlvc0hlYWRlcnMuZnJvbShjb25maWcuaGVhZGVycyk7XG5cbiAgLy8gVHJhbnNmb3JtIHJlcXVlc3QgZGF0YVxuICBjb25maWcuZGF0YSA9IHRyYW5zZm9ybURhdGEuY2FsbChcbiAgICBjb25maWcsXG4gICAgY29uZmlnLnRyYW5zZm9ybVJlcXVlc3RcbiAgKTtcblxuICBpZiAoWydwb3N0JywgJ3B1dCcsICdwYXRjaCddLmluZGV4T2YoY29uZmlnLm1ldGhvZCkgIT09IC0xKSB7XG4gICAgY29uZmlnLmhlYWRlcnMuc2V0Q29udGVudFR5cGUoJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsIGZhbHNlKTtcbiAgfVxuXG4gIGNvbnN0IGFkYXB0ZXIgPSBhZGFwdGVycy5nZXRBZGFwdGVyKGNvbmZpZy5hZGFwdGVyIHx8IGRlZmF1bHRzLmFkYXB0ZXIpO1xuXG4gIHJldHVybiBhZGFwdGVyKGNvbmZpZykudGhlbihmdW5jdGlvbiBvbkFkYXB0ZXJSZXNvbHV0aW9uKHJlc3BvbnNlKSB7XG4gICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gICAgLy8gVHJhbnNmb3JtIHJlc3BvbnNlIGRhdGFcbiAgICByZXNwb25zZS5kYXRhID0gdHJhbnNmb3JtRGF0YS5jYWxsKFxuICAgICAgY29uZmlnLFxuICAgICAgY29uZmlnLnRyYW5zZm9ybVJlc3BvbnNlLFxuICAgICAgcmVzcG9uc2VcbiAgICApO1xuXG4gICAgcmVzcG9uc2UuaGVhZGVycyA9IEF4aW9zSGVhZGVycy5mcm9tKHJlc3BvbnNlLmhlYWRlcnMpO1xuXG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9LCBmdW5jdGlvbiBvbkFkYXB0ZXJSZWplY3Rpb24ocmVhc29uKSB7XG4gICAgaWYgKCFpc0NhbmNlbChyZWFzb24pKSB7XG4gICAgICB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZyk7XG5cbiAgICAgIC8vIFRyYW5zZm9ybSByZXNwb25zZSBkYXRhXG4gICAgICBpZiAocmVhc29uICYmIHJlYXNvbi5yZXNwb25zZSkge1xuICAgICAgICByZWFzb24ucmVzcG9uc2UuZGF0YSA9IHRyYW5zZm9ybURhdGEuY2FsbChcbiAgICAgICAgICBjb25maWcsXG4gICAgICAgICAgY29uZmlnLnRyYW5zZm9ybVJlc3BvbnNlLFxuICAgICAgICAgIHJlYXNvbi5yZXNwb25zZVxuICAgICAgICApO1xuICAgICAgICByZWFzb24ucmVzcG9uc2UuaGVhZGVycyA9IEF4aW9zSGVhZGVycy5mcm9tKHJlYXNvbi5yZXNwb25zZS5oZWFkZXJzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVhc29uKTtcbiAgfSk7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgQXhpb3NIZWFkZXJzIGZyb20gXCIuL0F4aW9zSGVhZGVycy5qc1wiO1xuXG5jb25zdCBoZWFkZXJzVG9PYmplY3QgPSAodGhpbmcpID0+IHRoaW5nIGluc3RhbmNlb2YgQXhpb3NIZWFkZXJzID8gdGhpbmcudG9KU09OKCkgOiB0aGluZztcblxuLyoqXG4gKiBDb25maWctc3BlY2lmaWMgbWVyZ2UtZnVuY3Rpb24gd2hpY2ggY3JlYXRlcyBhIG5ldyBjb25maWctb2JqZWN0XG4gKiBieSBtZXJnaW5nIHR3byBjb25maWd1cmF0aW9uIG9iamVjdHMgdG9nZXRoZXIuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZzFcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcyXG4gKlxuICogQHJldHVybnMge09iamVjdH0gTmV3IG9iamVjdCByZXN1bHRpbmcgZnJvbSBtZXJnaW5nIGNvbmZpZzIgdG8gY29uZmlnMVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtZXJnZUNvbmZpZyhjb25maWcxLCBjb25maWcyKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICBjb25maWcyID0gY29uZmlnMiB8fCB7fTtcbiAgY29uc3QgY29uZmlnID0ge307XG5cbiAgZnVuY3Rpb24gZ2V0TWVyZ2VkVmFsdWUodGFyZ2V0LCBzb3VyY2UsIGNhc2VsZXNzKSB7XG4gICAgaWYgKHV0aWxzLmlzUGxhaW5PYmplY3QodGFyZ2V0KSAmJiB1dGlscy5pc1BsYWluT2JqZWN0KHNvdXJjZSkpIHtcbiAgICAgIHJldHVybiB1dGlscy5tZXJnZS5jYWxsKHtjYXNlbGVzc30sIHRhcmdldCwgc291cmNlKTtcbiAgICB9IGVsc2UgaWYgKHV0aWxzLmlzUGxhaW5PYmplY3Qoc291cmNlKSkge1xuICAgICAgcmV0dXJuIHV0aWxzLm1lcmdlKHt9LCBzb3VyY2UpO1xuICAgIH0gZWxzZSBpZiAodXRpbHMuaXNBcnJheShzb3VyY2UpKSB7XG4gICAgICByZXR1cm4gc291cmNlLnNsaWNlKCk7XG4gICAgfVxuICAgIHJldHVybiBzb3VyY2U7XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbiAgZnVuY3Rpb24gbWVyZ2VEZWVwUHJvcGVydGllcyhhLCBiLCBjYXNlbGVzcykge1xuICAgIGlmICghdXRpbHMuaXNVbmRlZmluZWQoYikpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZShhLCBiLCBjYXNlbGVzcyk7XG4gICAgfSBlbHNlIGlmICghdXRpbHMuaXNVbmRlZmluZWQoYSkpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZSh1bmRlZmluZWQsIGEsIGNhc2VsZXNzKTtcbiAgICB9XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbiAgZnVuY3Rpb24gdmFsdWVGcm9tQ29uZmlnMihhLCBiKSB7XG4gICAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChiKSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKHVuZGVmaW5lZCwgYik7XG4gICAgfVxuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gIGZ1bmN0aW9uIGRlZmF1bHRUb0NvbmZpZzIoYSwgYikge1xuICAgIGlmICghdXRpbHMuaXNVbmRlZmluZWQoYikpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZSh1bmRlZmluZWQsIGIpO1xuICAgIH0gZWxzZSBpZiAoIXV0aWxzLmlzVW5kZWZpbmVkKGEpKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUodW5kZWZpbmVkLCBhKTtcbiAgICB9XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbiAgZnVuY3Rpb24gbWVyZ2VEaXJlY3RLZXlzKGEsIGIsIHByb3ApIHtcbiAgICBpZiAocHJvcCBpbiBjb25maWcyKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUoYSwgYik7XG4gICAgfSBlbHNlIGlmIChwcm9wIGluIGNvbmZpZzEpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZSh1bmRlZmluZWQsIGEpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IG1lcmdlTWFwID0ge1xuICAgIHVybDogdmFsdWVGcm9tQ29uZmlnMixcbiAgICBtZXRob2Q6IHZhbHVlRnJvbUNvbmZpZzIsXG4gICAgZGF0YTogdmFsdWVGcm9tQ29uZmlnMixcbiAgICBiYXNlVVJMOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHRyYW5zZm9ybVJlcXVlc3Q6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgdHJhbnNmb3JtUmVzcG9uc2U6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgcGFyYW1zU2VyaWFsaXplcjogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB0aW1lb3V0OiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHRpbWVvdXRNZXNzYWdlOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHdpdGhDcmVkZW50aWFsczogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB3aXRoWFNSRlRva2VuOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIGFkYXB0ZXI6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgcmVzcG9uc2VUeXBlOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHhzcmZDb29raWVOYW1lOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHhzcmZIZWFkZXJOYW1lOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIG9uVXBsb2FkUHJvZ3Jlc3M6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgb25Eb3dubG9hZFByb2dyZXNzOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIGRlY29tcHJlc3M6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgbWF4Q29udGVudExlbmd0aDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBtYXhCb2R5TGVuZ3RoOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIGJlZm9yZVJlZGlyZWN0OiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHRyYW5zcG9ydDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBodHRwQWdlbnQ6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgaHR0cHNBZ2VudDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBjYW5jZWxUb2tlbjogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBzb2NrZXRQYXRoOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHJlc3BvbnNlRW5jb2Rpbmc6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgdmFsaWRhdGVTdGF0dXM6IG1lcmdlRGlyZWN0S2V5cyxcbiAgICBoZWFkZXJzOiAoYSwgYikgPT4gbWVyZ2VEZWVwUHJvcGVydGllcyhoZWFkZXJzVG9PYmplY3QoYSksIGhlYWRlcnNUb09iamVjdChiKSwgdHJ1ZSlcbiAgfTtcblxuICB1dGlscy5mb3JFYWNoKE9iamVjdC5rZXlzKE9iamVjdC5hc3NpZ24oe30sIGNvbmZpZzEsIGNvbmZpZzIpKSwgZnVuY3Rpb24gY29tcHV0ZUNvbmZpZ1ZhbHVlKHByb3ApIHtcbiAgICBjb25zdCBtZXJnZSA9IG1lcmdlTWFwW3Byb3BdIHx8IG1lcmdlRGVlcFByb3BlcnRpZXM7XG4gICAgY29uc3QgY29uZmlnVmFsdWUgPSBtZXJnZShjb25maWcxW3Byb3BdLCBjb25maWcyW3Byb3BdLCBwcm9wKTtcbiAgICAodXRpbHMuaXNVbmRlZmluZWQoY29uZmlnVmFsdWUpICYmIG1lcmdlICE9PSBtZXJnZURpcmVjdEtleXMpIHx8IChjb25maWdbcHJvcF0gPSBjb25maWdWYWx1ZSk7XG4gIH0pO1xuXG4gIHJldHVybiBjb25maWc7XG59XG4iLCJleHBvcnQgY29uc3QgVkVSU0lPTiA9IFwiMS42LjJcIjsiLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7VkVSU0lPTn0gZnJvbSAnLi4vZW52L2RhdGEuanMnO1xuaW1wb3J0IEF4aW9zRXJyb3IgZnJvbSAnLi4vY29yZS9BeGlvc0Vycm9yLmpzJztcblxuY29uc3QgdmFsaWRhdG9ycyA9IHt9O1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuWydvYmplY3QnLCAnYm9vbGVhbicsICdudW1iZXInLCAnZnVuY3Rpb24nLCAnc3RyaW5nJywgJ3N5bWJvbCddLmZvckVhY2goKHR5cGUsIGkpID0+IHtcbiAgdmFsaWRhdG9yc1t0eXBlXSA9IGZ1bmN0aW9uIHZhbGlkYXRvcih0aGluZykge1xuICAgIHJldHVybiB0eXBlb2YgdGhpbmcgPT09IHR5cGUgfHwgJ2EnICsgKGkgPCAxID8gJ24gJyA6ICcgJykgKyB0eXBlO1xuICB9O1xufSk7XG5cbmNvbnN0IGRlcHJlY2F0ZWRXYXJuaW5ncyA9IHt9O1xuXG4vKipcbiAqIFRyYW5zaXRpb25hbCBvcHRpb24gdmFsaWRhdG9yXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbnxib29sZWFuP30gdmFsaWRhdG9yIC0gc2V0IHRvIGZhbHNlIGlmIHRoZSB0cmFuc2l0aW9uYWwgb3B0aW9uIGhhcyBiZWVuIHJlbW92ZWRcbiAqIEBwYXJhbSB7c3RyaW5nP30gdmVyc2lvbiAtIGRlcHJlY2F0ZWQgdmVyc2lvbiAvIHJlbW92ZWQgc2luY2UgdmVyc2lvblxuICogQHBhcmFtIHtzdHJpbmc/fSBtZXNzYWdlIC0gc29tZSBtZXNzYWdlIHdpdGggYWRkaXRpb25hbCBpbmZvXG4gKlxuICogQHJldHVybnMge2Z1bmN0aW9ufVxuICovXG52YWxpZGF0b3JzLnRyYW5zaXRpb25hbCA9IGZ1bmN0aW9uIHRyYW5zaXRpb25hbCh2YWxpZGF0b3IsIHZlcnNpb24sIG1lc3NhZ2UpIHtcbiAgZnVuY3Rpb24gZm9ybWF0TWVzc2FnZShvcHQsIGRlc2MpIHtcbiAgICByZXR1cm4gJ1tBeGlvcyB2JyArIFZFUlNJT04gKyAnXSBUcmFuc2l0aW9uYWwgb3B0aW9uIFxcJycgKyBvcHQgKyAnXFwnJyArIGRlc2MgKyAobWVzc2FnZSA/ICcuICcgKyBtZXNzYWdlIDogJycpO1xuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgcmV0dXJuICh2YWx1ZSwgb3B0LCBvcHRzKSA9PiB7XG4gICAgaWYgKHZhbGlkYXRvciA9PT0gZmFsc2UpIHtcbiAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKFxuICAgICAgICBmb3JtYXRNZXNzYWdlKG9wdCwgJyBoYXMgYmVlbiByZW1vdmVkJyArICh2ZXJzaW9uID8gJyBpbiAnICsgdmVyc2lvbiA6ICcnKSksXG4gICAgICAgIEF4aW9zRXJyb3IuRVJSX0RFUFJFQ0FURURcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHZlcnNpb24gJiYgIWRlcHJlY2F0ZWRXYXJuaW5nc1tvcHRdKSB7XG4gICAgICBkZXByZWNhdGVkV2FybmluZ3Nbb3B0XSA9IHRydWU7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBmb3JtYXRNZXNzYWdlKFxuICAgICAgICAgIG9wdCxcbiAgICAgICAgICAnIGhhcyBiZWVuIGRlcHJlY2F0ZWQgc2luY2UgdicgKyB2ZXJzaW9uICsgJyBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZWFyIGZ1dHVyZSdcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsaWRhdG9yID8gdmFsaWRhdG9yKHZhbHVlLCBvcHQsIG9wdHMpIDogdHJ1ZTtcbiAgfTtcbn07XG5cbi8qKlxuICogQXNzZXJ0IG9iamVjdCdzIHByb3BlcnRpZXMgdHlwZVxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zXG4gKiBAcGFyYW0ge29iamVjdH0gc2NoZW1hXG4gKiBAcGFyYW0ge2Jvb2xlYW4/fSBhbGxvd1Vua25vd25cbiAqXG4gKiBAcmV0dXJucyB7b2JqZWN0fVxuICovXG5cbmZ1bmN0aW9uIGFzc2VydE9wdGlvbnMob3B0aW9ucywgc2NoZW1hLCBhbGxvd1Vua25vd24pIHtcbiAgaWYgKHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0Jykge1xuICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKCdvcHRpb25zIG11c3QgYmUgYW4gb2JqZWN0JywgQXhpb3NFcnJvci5FUlJfQkFEX09QVElPTl9WQUxVRSk7XG4gIH1cbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG9wdGlvbnMpO1xuICBsZXQgaSA9IGtleXMubGVuZ3RoO1xuICB3aGlsZSAoaS0tID4gMCkge1xuICAgIGNvbnN0IG9wdCA9IGtleXNbaV07XG4gICAgY29uc3QgdmFsaWRhdG9yID0gc2NoZW1hW29wdF07XG4gICAgaWYgKHZhbGlkYXRvcikge1xuICAgICAgY29uc3QgdmFsdWUgPSBvcHRpb25zW29wdF07XG4gICAgICBjb25zdCByZXN1bHQgPSB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbGlkYXRvcih2YWx1ZSwgb3B0LCBvcHRpb25zKTtcbiAgICAgIGlmIChyZXN1bHQgIT09IHRydWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IoJ29wdGlvbiAnICsgb3B0ICsgJyBtdXN0IGJlICcgKyByZXN1bHQsIEF4aW9zRXJyb3IuRVJSX0JBRF9PUFRJT05fVkFMVUUpO1xuICAgICAgfVxuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChhbGxvd1Vua25vd24gIT09IHRydWUpIHtcbiAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKCdVbmtub3duIG9wdGlvbiAnICsgb3B0LCBBeGlvc0Vycm9yLkVSUl9CQURfT1BUSU9OKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBhc3NlcnRPcHRpb25zLFxuICB2YWxpZGF0b3JzXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi8uLi91dGlscy5qcyc7XG5pbXBvcnQgYnVpbGRVUkwgZnJvbSAnLi4vaGVscGVycy9idWlsZFVSTC5qcyc7XG5pbXBvcnQgSW50ZXJjZXB0b3JNYW5hZ2VyIGZyb20gJy4vSW50ZXJjZXB0b3JNYW5hZ2VyLmpzJztcbmltcG9ydCBkaXNwYXRjaFJlcXVlc3QgZnJvbSAnLi9kaXNwYXRjaFJlcXVlc3QuanMnO1xuaW1wb3J0IG1lcmdlQ29uZmlnIGZyb20gJy4vbWVyZ2VDb25maWcuanMnO1xuaW1wb3J0IGJ1aWxkRnVsbFBhdGggZnJvbSAnLi9idWlsZEZ1bGxQYXRoLmpzJztcbmltcG9ydCB2YWxpZGF0b3IgZnJvbSAnLi4vaGVscGVycy92YWxpZGF0b3IuanMnO1xuaW1wb3J0IEF4aW9zSGVhZGVycyBmcm9tICcuL0F4aW9zSGVhZGVycy5qcyc7XG5cbmNvbnN0IHZhbGlkYXRvcnMgPSB2YWxpZGF0b3IudmFsaWRhdG9ycztcblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgQXhpb3NcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2VDb25maWcgVGhlIGRlZmF1bHQgY29uZmlnIGZvciB0aGUgaW5zdGFuY2VcbiAqXG4gKiBAcmV0dXJuIHtBeGlvc30gQSBuZXcgaW5zdGFuY2Ugb2YgQXhpb3NcbiAqL1xuY2xhc3MgQXhpb3Mge1xuICBjb25zdHJ1Y3RvcihpbnN0YW5jZUNvbmZpZykge1xuICAgIHRoaXMuZGVmYXVsdHMgPSBpbnN0YW5jZUNvbmZpZztcbiAgICB0aGlzLmludGVyY2VwdG9ycyA9IHtcbiAgICAgIHJlcXVlc3Q6IG5ldyBJbnRlcmNlcHRvck1hbmFnZXIoKSxcbiAgICAgIHJlc3BvbnNlOiBuZXcgSW50ZXJjZXB0b3JNYW5hZ2VyKClcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIERpc3BhdGNoIGEgcmVxdWVzdFxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IGNvbmZpZ09yVXJsIFRoZSBjb25maWcgc3BlY2lmaWMgZm9yIHRoaXMgcmVxdWVzdCAobWVyZ2VkIHdpdGggdGhpcy5kZWZhdWx0cylcbiAgICogQHBhcmFtIHs/T2JqZWN0fSBjb25maWdcbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2V9IFRoZSBQcm9taXNlIHRvIGJlIGZ1bGZpbGxlZFxuICAgKi9cbiAgcmVxdWVzdChjb25maWdPclVybCwgY29uZmlnKSB7XG4gICAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gICAgLy8gQWxsb3cgZm9yIGF4aW9zKCdleGFtcGxlL3VybCdbLCBjb25maWddKSBhIGxhIGZldGNoIEFQSVxuICAgIGlmICh0eXBlb2YgY29uZmlnT3JVcmwgPT09ICdzdHJpbmcnKSB7XG4gICAgICBjb25maWcgPSBjb25maWcgfHwge307XG4gICAgICBjb25maWcudXJsID0gY29uZmlnT3JVcmw7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbmZpZyA9IGNvbmZpZ09yVXJsIHx8IHt9O1xuICAgIH1cblxuICAgIGNvbmZpZyA9IG1lcmdlQ29uZmlnKHRoaXMuZGVmYXVsdHMsIGNvbmZpZyk7XG5cbiAgICBjb25zdCB7dHJhbnNpdGlvbmFsLCBwYXJhbXNTZXJpYWxpemVyLCBoZWFkZXJzfSA9IGNvbmZpZztcblxuICAgIGlmICh0cmFuc2l0aW9uYWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFsaWRhdG9yLmFzc2VydE9wdGlvbnModHJhbnNpdGlvbmFsLCB7XG4gICAgICAgIHNpbGVudEpTT05QYXJzaW5nOiB2YWxpZGF0b3JzLnRyYW5zaXRpb25hbCh2YWxpZGF0b3JzLmJvb2xlYW4pLFxuICAgICAgICBmb3JjZWRKU09OUGFyc2luZzogdmFsaWRhdG9ycy50cmFuc2l0aW9uYWwodmFsaWRhdG9ycy5ib29sZWFuKSxcbiAgICAgICAgY2xhcmlmeVRpbWVvdXRFcnJvcjogdmFsaWRhdG9ycy50cmFuc2l0aW9uYWwodmFsaWRhdG9ycy5ib29sZWFuKVxuICAgICAgfSwgZmFsc2UpO1xuICAgIH1cblxuICAgIGlmIChwYXJhbXNTZXJpYWxpemVyICE9IG51bGwpIHtcbiAgICAgIGlmICh1dGlscy5pc0Z1bmN0aW9uKHBhcmFtc1NlcmlhbGl6ZXIpKSB7XG4gICAgICAgIGNvbmZpZy5wYXJhbXNTZXJpYWxpemVyID0ge1xuICAgICAgICAgIHNlcmlhbGl6ZTogcGFyYW1zU2VyaWFsaXplclxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWxpZGF0b3IuYXNzZXJ0T3B0aW9ucyhwYXJhbXNTZXJpYWxpemVyLCB7XG4gICAgICAgICAgZW5jb2RlOiB2YWxpZGF0b3JzLmZ1bmN0aW9uLFxuICAgICAgICAgIHNlcmlhbGl6ZTogdmFsaWRhdG9ycy5mdW5jdGlvblxuICAgICAgICB9LCB0cnVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTZXQgY29uZmlnLm1ldGhvZFxuICAgIGNvbmZpZy5tZXRob2QgPSAoY29uZmlnLm1ldGhvZCB8fCB0aGlzLmRlZmF1bHRzLm1ldGhvZCB8fCAnZ2V0JykudG9Mb3dlckNhc2UoKTtcblxuICAgIC8vIEZsYXR0ZW4gaGVhZGVyc1xuICAgIGxldCBjb250ZXh0SGVhZGVycyA9IGhlYWRlcnMgJiYgdXRpbHMubWVyZ2UoXG4gICAgICBoZWFkZXJzLmNvbW1vbixcbiAgICAgIGhlYWRlcnNbY29uZmlnLm1ldGhvZF1cbiAgICApO1xuXG4gICAgaGVhZGVycyAmJiB1dGlscy5mb3JFYWNoKFxuICAgICAgWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAncG9zdCcsICdwdXQnLCAncGF0Y2gnLCAnY29tbW9uJ10sXG4gICAgICAobWV0aG9kKSA9PiB7XG4gICAgICAgIGRlbGV0ZSBoZWFkZXJzW21ldGhvZF07XG4gICAgICB9XG4gICAgKTtcblxuICAgIGNvbmZpZy5oZWFkZXJzID0gQXhpb3NIZWFkZXJzLmNvbmNhdChjb250ZXh0SGVhZGVycywgaGVhZGVycyk7XG5cbiAgICAvLyBmaWx0ZXIgb3V0IHNraXBwZWQgaW50ZXJjZXB0b3JzXG4gICAgY29uc3QgcmVxdWVzdEludGVyY2VwdG9yQ2hhaW4gPSBbXTtcbiAgICBsZXQgc3luY2hyb25vdXNSZXF1ZXN0SW50ZXJjZXB0b3JzID0gdHJ1ZTtcbiAgICB0aGlzLmludGVyY2VwdG9ycy5yZXF1ZXN0LmZvckVhY2goZnVuY3Rpb24gdW5zaGlmdFJlcXVlc3RJbnRlcmNlcHRvcnMoaW50ZXJjZXB0b3IpIHtcbiAgICAgIGlmICh0eXBlb2YgaW50ZXJjZXB0b3IucnVuV2hlbiA9PT0gJ2Z1bmN0aW9uJyAmJiBpbnRlcmNlcHRvci5ydW5XaGVuKGNvbmZpZykgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc3luY2hyb25vdXNSZXF1ZXN0SW50ZXJjZXB0b3JzID0gc3luY2hyb25vdXNSZXF1ZXN0SW50ZXJjZXB0b3JzICYmIGludGVyY2VwdG9yLnN5bmNocm9ub3VzO1xuXG4gICAgICByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbi51bnNoaWZ0KGludGVyY2VwdG9yLmZ1bGZpbGxlZCwgaW50ZXJjZXB0b3IucmVqZWN0ZWQpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgcmVzcG9uc2VJbnRlcmNlcHRvckNoYWluID0gW107XG4gICAgdGhpcy5pbnRlcmNlcHRvcnMucmVzcG9uc2UuZm9yRWFjaChmdW5jdGlvbiBwdXNoUmVzcG9uc2VJbnRlcmNlcHRvcnMoaW50ZXJjZXB0b3IpIHtcbiAgICAgIHJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbi5wdXNoKGludGVyY2VwdG9yLmZ1bGZpbGxlZCwgaW50ZXJjZXB0b3IucmVqZWN0ZWQpO1xuICAgIH0pO1xuXG4gICAgbGV0IHByb21pc2U7XG4gICAgbGV0IGkgPSAwO1xuICAgIGxldCBsZW47XG5cbiAgICBpZiAoIXN5bmNocm9ub3VzUmVxdWVzdEludGVyY2VwdG9ycykge1xuICAgICAgY29uc3QgY2hhaW4gPSBbZGlzcGF0Y2hSZXF1ZXN0LmJpbmQodGhpcyksIHVuZGVmaW5lZF07XG4gICAgICBjaGFpbi51bnNoaWZ0LmFwcGx5KGNoYWluLCByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbik7XG4gICAgICBjaGFpbi5wdXNoLmFwcGx5KGNoYWluLCByZXNwb25zZUludGVyY2VwdG9yQ2hhaW4pO1xuICAgICAgbGVuID0gY2hhaW4ubGVuZ3RoO1xuXG4gICAgICBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKGNvbmZpZyk7XG5cbiAgICAgIHdoaWxlIChpIDwgbGVuKSB7XG4gICAgICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oY2hhaW5baSsrXSwgY2hhaW5baSsrXSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cblxuICAgIGxlbiA9IHJlcXVlc3RJbnRlcmNlcHRvckNoYWluLmxlbmd0aDtcblxuICAgIGxldCBuZXdDb25maWcgPSBjb25maWc7XG5cbiAgICBpID0gMDtcblxuICAgIHdoaWxlIChpIDwgbGVuKSB7XG4gICAgICBjb25zdCBvbkZ1bGZpbGxlZCA9IHJlcXVlc3RJbnRlcmNlcHRvckNoYWluW2krK107XG4gICAgICBjb25zdCBvblJlamVjdGVkID0gcmVxdWVzdEludGVyY2VwdG9yQ2hhaW5baSsrXTtcbiAgICAgIHRyeSB7XG4gICAgICAgIG5ld0NvbmZpZyA9IG9uRnVsZmlsbGVkKG5ld0NvbmZpZyk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBvblJlamVjdGVkLmNhbGwodGhpcywgZXJyb3IpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgcHJvbWlzZSA9IGRpc3BhdGNoUmVxdWVzdC5jYWxsKHRoaXMsIG5ld0NvbmZpZyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgfVxuXG4gICAgaSA9IDA7XG4gICAgbGVuID0gcmVzcG9uc2VJbnRlcmNlcHRvckNoYWluLmxlbmd0aDtcblxuICAgIHdoaWxlIChpIDwgbGVuKSB7XG4gICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKHJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbltpKytdLCByZXNwb25zZUludGVyY2VwdG9yQ2hhaW5baSsrXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBnZXRVcmkoY29uZmlnKSB7XG4gICAgY29uZmlnID0gbWVyZ2VDb25maWcodGhpcy5kZWZhdWx0cywgY29uZmlnKTtcbiAgICBjb25zdCBmdWxsUGF0aCA9IGJ1aWxkRnVsbFBhdGgoY29uZmlnLmJhc2VVUkwsIGNvbmZpZy51cmwpO1xuICAgIHJldHVybiBidWlsZFVSTChmdWxsUGF0aCwgY29uZmlnLnBhcmFtcywgY29uZmlnLnBhcmFtc1NlcmlhbGl6ZXIpO1xuICB9XG59XG5cbi8vIFByb3ZpZGUgYWxpYXNlcyBmb3Igc3VwcG9ydGVkIHJlcXVlc3QgbWV0aG9kc1xudXRpbHMuZm9yRWFjaChbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCcsICdvcHRpb25zJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2ROb0RhdGEobWV0aG9kKSB7XG4gIC8qZXNsaW50IGZ1bmMtbmFtZXM6MCovXG4gIEF4aW9zLnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24odXJsLCBjb25maWcpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KG1lcmdlQ29uZmlnKGNvbmZpZyB8fCB7fSwge1xuICAgICAgbWV0aG9kLFxuICAgICAgdXJsLFxuICAgICAgZGF0YTogKGNvbmZpZyB8fCB7fSkuZGF0YVxuICAgIH0pKTtcbiAgfTtcbn0pO1xuXG51dGlscy5mb3JFYWNoKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZFdpdGhEYXRhKG1ldGhvZCkge1xuICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuXG4gIGZ1bmN0aW9uIGdlbmVyYXRlSFRUUE1ldGhvZChpc0Zvcm0pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gaHR0cE1ldGhvZCh1cmwsIGRhdGEsIGNvbmZpZykge1xuICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdChtZXJnZUNvbmZpZyhjb25maWcgfHwge30sIHtcbiAgICAgICAgbWV0aG9kLFxuICAgICAgICBoZWFkZXJzOiBpc0Zvcm0gPyB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJ1xuICAgICAgICB9IDoge30sXG4gICAgICAgIHVybCxcbiAgICAgICAgZGF0YVxuICAgICAgfSkpO1xuICAgIH07XG4gIH1cblxuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSA9IGdlbmVyYXRlSFRUUE1ldGhvZCgpO1xuXG4gIEF4aW9zLnByb3RvdHlwZVttZXRob2QgKyAnRm9ybSddID0gZ2VuZXJhdGVIVFRQTWV0aG9kKHRydWUpO1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IEF4aW9zO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgQ2FuY2VsZWRFcnJvciBmcm9tICcuL0NhbmNlbGVkRXJyb3IuanMnO1xuXG4vKipcbiAqIEEgYENhbmNlbFRva2VuYCBpcyBhbiBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCB0byByZXF1ZXN0IGNhbmNlbGxhdGlvbiBvZiBhbiBvcGVyYXRpb24uXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXhlY3V0b3IgVGhlIGV4ZWN1dG9yIGZ1bmN0aW9uLlxuICpcbiAqIEByZXR1cm5zIHtDYW5jZWxUb2tlbn1cbiAqL1xuY2xhc3MgQ2FuY2VsVG9rZW4ge1xuICBjb25zdHJ1Y3RvcihleGVjdXRvcikge1xuICAgIGlmICh0eXBlb2YgZXhlY3V0b3IgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2V4ZWN1dG9yIG11c3QgYmUgYSBmdW5jdGlvbi4nKTtcbiAgICB9XG5cbiAgICBsZXQgcmVzb2x2ZVByb21pc2U7XG5cbiAgICB0aGlzLnByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiBwcm9taXNlRXhlY3V0b3IocmVzb2x2ZSkge1xuICAgICAgcmVzb2x2ZVByb21pc2UgPSByZXNvbHZlO1xuICAgIH0pO1xuXG4gICAgY29uc3QgdG9rZW4gPSB0aGlzO1xuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgICB0aGlzLnByb21pc2UudGhlbihjYW5jZWwgPT4ge1xuICAgICAgaWYgKCF0b2tlbi5fbGlzdGVuZXJzKSByZXR1cm47XG5cbiAgICAgIGxldCBpID0gdG9rZW4uX2xpc3RlbmVycy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlIChpLS0gPiAwKSB7XG4gICAgICAgIHRva2VuLl9saXN0ZW5lcnNbaV0oY2FuY2VsKTtcbiAgICAgIH1cbiAgICAgIHRva2VuLl9saXN0ZW5lcnMgPSBudWxsO1xuICAgIH0pO1xuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgICB0aGlzLnByb21pc2UudGhlbiA9IG9uZnVsZmlsbGVkID0+IHtcbiAgICAgIGxldCBfcmVzb2x2ZTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gICAgICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgIHRva2VuLnN1YnNjcmliZShyZXNvbHZlKTtcbiAgICAgICAgX3Jlc29sdmUgPSByZXNvbHZlO1xuICAgICAgfSkudGhlbihvbmZ1bGZpbGxlZCk7XG5cbiAgICAgIHByb21pc2UuY2FuY2VsID0gZnVuY3Rpb24gcmVqZWN0KCkge1xuICAgICAgICB0b2tlbi51bnN1YnNjcmliZShfcmVzb2x2ZSk7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9O1xuXG4gICAgZXhlY3V0b3IoZnVuY3Rpb24gY2FuY2VsKG1lc3NhZ2UsIGNvbmZpZywgcmVxdWVzdCkge1xuICAgICAgaWYgKHRva2VuLnJlYXNvbikge1xuICAgICAgICAvLyBDYW5jZWxsYXRpb24gaGFzIGFscmVhZHkgYmVlbiByZXF1ZXN0ZWRcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0b2tlbi5yZWFzb24gPSBuZXcgQ2FuY2VsZWRFcnJvcihtZXNzYWdlLCBjb25maWcsIHJlcXVlc3QpO1xuICAgICAgcmVzb2x2ZVByb21pc2UodG9rZW4ucmVhc29uKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaHJvd3MgYSBgQ2FuY2VsZWRFcnJvcmAgaWYgY2FuY2VsbGF0aW9uIGhhcyBiZWVuIHJlcXVlc3RlZC5cbiAgICovXG4gIHRocm93SWZSZXF1ZXN0ZWQoKSB7XG4gICAgaWYgKHRoaXMucmVhc29uKSB7XG4gICAgICB0aHJvdyB0aGlzLnJlYXNvbjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU3Vic2NyaWJlIHRvIHRoZSBjYW5jZWwgc2lnbmFsXG4gICAqL1xuXG4gIHN1YnNjcmliZShsaXN0ZW5lcikge1xuICAgIGlmICh0aGlzLnJlYXNvbikge1xuICAgICAgbGlzdGVuZXIodGhpcy5yZWFzb24pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9saXN0ZW5lcnMpIHtcbiAgICAgIHRoaXMuX2xpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbGlzdGVuZXJzID0gW2xpc3RlbmVyXTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVW5zdWJzY3JpYmUgZnJvbSB0aGUgY2FuY2VsIHNpZ25hbFxuICAgKi9cblxuICB1bnN1YnNjcmliZShsaXN0ZW5lcikge1xuICAgIGlmICghdGhpcy5fbGlzdGVuZXJzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fbGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpO1xuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHRoaXMuX2xpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGEgbmV3IGBDYW5jZWxUb2tlbmAgYW5kIGEgZnVuY3Rpb24gdGhhdCwgd2hlbiBjYWxsZWQsXG4gICAqIGNhbmNlbHMgdGhlIGBDYW5jZWxUb2tlbmAuXG4gICAqL1xuICBzdGF0aWMgc291cmNlKCkge1xuICAgIGxldCBjYW5jZWw7XG4gICAgY29uc3QgdG9rZW4gPSBuZXcgQ2FuY2VsVG9rZW4oZnVuY3Rpb24gZXhlY3V0b3IoYykge1xuICAgICAgY2FuY2VsID0gYztcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgdG9rZW4sXG4gICAgICBjYW5jZWxcbiAgICB9O1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhbmNlbFRva2VuO1xuIiwiY29uc3QgSHR0cFN0YXR1c0NvZGUgPSB7XG4gIENvbnRpbnVlOiAxMDAsXG4gIFN3aXRjaGluZ1Byb3RvY29sczogMTAxLFxuICBQcm9jZXNzaW5nOiAxMDIsXG4gIEVhcmx5SGludHM6IDEwMyxcbiAgT2s6IDIwMCxcbiAgQ3JlYXRlZDogMjAxLFxuICBBY2NlcHRlZDogMjAyLFxuICBOb25BdXRob3JpdGF0aXZlSW5mb3JtYXRpb246IDIwMyxcbiAgTm9Db250ZW50OiAyMDQsXG4gIFJlc2V0Q29udGVudDogMjA1LFxuICBQYXJ0aWFsQ29udGVudDogMjA2LFxuICBNdWx0aVN0YXR1czogMjA3LFxuICBBbHJlYWR5UmVwb3J0ZWQ6IDIwOCxcbiAgSW1Vc2VkOiAyMjYsXG4gIE11bHRpcGxlQ2hvaWNlczogMzAwLFxuICBNb3ZlZFBlcm1hbmVudGx5OiAzMDEsXG4gIEZvdW5kOiAzMDIsXG4gIFNlZU90aGVyOiAzMDMsXG4gIE5vdE1vZGlmaWVkOiAzMDQsXG4gIFVzZVByb3h5OiAzMDUsXG4gIFVudXNlZDogMzA2LFxuICBUZW1wb3JhcnlSZWRpcmVjdDogMzA3LFxuICBQZXJtYW5lbnRSZWRpcmVjdDogMzA4LFxuICBCYWRSZXF1ZXN0OiA0MDAsXG4gIFVuYXV0aG9yaXplZDogNDAxLFxuICBQYXltZW50UmVxdWlyZWQ6IDQwMixcbiAgRm9yYmlkZGVuOiA0MDMsXG4gIE5vdEZvdW5kOiA0MDQsXG4gIE1ldGhvZE5vdEFsbG93ZWQ6IDQwNSxcbiAgTm90QWNjZXB0YWJsZTogNDA2LFxuICBQcm94eUF1dGhlbnRpY2F0aW9uUmVxdWlyZWQ6IDQwNyxcbiAgUmVxdWVzdFRpbWVvdXQ6IDQwOCxcbiAgQ29uZmxpY3Q6IDQwOSxcbiAgR29uZTogNDEwLFxuICBMZW5ndGhSZXF1aXJlZDogNDExLFxuICBQcmVjb25kaXRpb25GYWlsZWQ6IDQxMixcbiAgUGF5bG9hZFRvb0xhcmdlOiA0MTMsXG4gIFVyaVRvb0xvbmc6IDQxNCxcbiAgVW5zdXBwb3J0ZWRNZWRpYVR5cGU6IDQxNSxcbiAgUmFuZ2VOb3RTYXRpc2ZpYWJsZTogNDE2LFxuICBFeHBlY3RhdGlvbkZhaWxlZDogNDE3LFxuICBJbUFUZWFwb3Q6IDQxOCxcbiAgTWlzZGlyZWN0ZWRSZXF1ZXN0OiA0MjEsXG4gIFVucHJvY2Vzc2FibGVFbnRpdHk6IDQyMixcbiAgTG9ja2VkOiA0MjMsXG4gIEZhaWxlZERlcGVuZGVuY3k6IDQyNCxcbiAgVG9vRWFybHk6IDQyNSxcbiAgVXBncmFkZVJlcXVpcmVkOiA0MjYsXG4gIFByZWNvbmRpdGlvblJlcXVpcmVkOiA0MjgsXG4gIFRvb01hbnlSZXF1ZXN0czogNDI5LFxuICBSZXF1ZXN0SGVhZGVyRmllbGRzVG9vTGFyZ2U6IDQzMSxcbiAgVW5hdmFpbGFibGVGb3JMZWdhbFJlYXNvbnM6IDQ1MSxcbiAgSW50ZXJuYWxTZXJ2ZXJFcnJvcjogNTAwLFxuICBOb3RJbXBsZW1lbnRlZDogNTAxLFxuICBCYWRHYXRld2F5OiA1MDIsXG4gIFNlcnZpY2VVbmF2YWlsYWJsZTogNTAzLFxuICBHYXRld2F5VGltZW91dDogNTA0LFxuICBIdHRwVmVyc2lvbk5vdFN1cHBvcnRlZDogNTA1LFxuICBWYXJpYW50QWxzb05lZ290aWF0ZXM6IDUwNixcbiAgSW5zdWZmaWNpZW50U3RvcmFnZTogNTA3LFxuICBMb29wRGV0ZWN0ZWQ6IDUwOCxcbiAgTm90RXh0ZW5kZWQ6IDUxMCxcbiAgTmV0d29ya0F1dGhlbnRpY2F0aW9uUmVxdWlyZWQ6IDUxMSxcbn07XG5cbk9iamVjdC5lbnRyaWVzKEh0dHBTdGF0dXNDb2RlKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgSHR0cFN0YXR1c0NvZGVbdmFsdWVdID0ga2V5O1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IEh0dHBTdGF0dXNDb2RlO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi91dGlscy5qcyc7XG5pbXBvcnQgYmluZCBmcm9tICcuL2hlbHBlcnMvYmluZC5qcyc7XG5pbXBvcnQgQXhpb3MgZnJvbSAnLi9jb3JlL0F4aW9zLmpzJztcbmltcG9ydCBtZXJnZUNvbmZpZyBmcm9tICcuL2NvcmUvbWVyZ2VDb25maWcuanMnO1xuaW1wb3J0IGRlZmF1bHRzIGZyb20gJy4vZGVmYXVsdHMvaW5kZXguanMnO1xuaW1wb3J0IGZvcm1EYXRhVG9KU09OIGZyb20gJy4vaGVscGVycy9mb3JtRGF0YVRvSlNPTi5qcyc7XG5pbXBvcnQgQ2FuY2VsZWRFcnJvciBmcm9tICcuL2NhbmNlbC9DYW5jZWxlZEVycm9yLmpzJztcbmltcG9ydCBDYW5jZWxUb2tlbiBmcm9tICcuL2NhbmNlbC9DYW5jZWxUb2tlbi5qcyc7XG5pbXBvcnQgaXNDYW5jZWwgZnJvbSAnLi9jYW5jZWwvaXNDYW5jZWwuanMnO1xuaW1wb3J0IHtWRVJTSU9OfSBmcm9tICcuL2Vudi9kYXRhLmpzJztcbmltcG9ydCB0b0Zvcm1EYXRhIGZyb20gJy4vaGVscGVycy90b0Zvcm1EYXRhLmpzJztcbmltcG9ydCBBeGlvc0Vycm9yIGZyb20gJy4vY29yZS9BeGlvc0Vycm9yLmpzJztcbmltcG9ydCBzcHJlYWQgZnJvbSAnLi9oZWxwZXJzL3NwcmVhZC5qcyc7XG5pbXBvcnQgaXNBeGlvc0Vycm9yIGZyb20gJy4vaGVscGVycy9pc0F4aW9zRXJyb3IuanMnO1xuaW1wb3J0IEF4aW9zSGVhZGVycyBmcm9tIFwiLi9jb3JlL0F4aW9zSGVhZGVycy5qc1wiO1xuaW1wb3J0IGFkYXB0ZXJzIGZyb20gJy4vYWRhcHRlcnMvYWRhcHRlcnMuanMnO1xuaW1wb3J0IEh0dHBTdGF0dXNDb2RlIGZyb20gJy4vaGVscGVycy9IdHRwU3RhdHVzQ29kZS5qcyc7XG5cbi8qKlxuICogQ3JlYXRlIGFuIGluc3RhbmNlIG9mIEF4aW9zXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGRlZmF1bHRDb25maWcgVGhlIGRlZmF1bHQgY29uZmlnIGZvciB0aGUgaW5zdGFuY2VcbiAqXG4gKiBAcmV0dXJucyB7QXhpb3N9IEEgbmV3IGluc3RhbmNlIG9mIEF4aW9zXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlKGRlZmF1bHRDb25maWcpIHtcbiAgY29uc3QgY29udGV4dCA9IG5ldyBBeGlvcyhkZWZhdWx0Q29uZmlnKTtcbiAgY29uc3QgaW5zdGFuY2UgPSBiaW5kKEF4aW9zLnByb3RvdHlwZS5yZXF1ZXN0LCBjb250ZXh0KTtcblxuICAvLyBDb3B5IGF4aW9zLnByb3RvdHlwZSB0byBpbnN0YW5jZVxuICB1dGlscy5leHRlbmQoaW5zdGFuY2UsIEF4aW9zLnByb3RvdHlwZSwgY29udGV4dCwge2FsbE93bktleXM6IHRydWV9KTtcblxuICAvLyBDb3B5IGNvbnRleHQgdG8gaW5zdGFuY2VcbiAgdXRpbHMuZXh0ZW5kKGluc3RhbmNlLCBjb250ZXh0LCBudWxsLCB7YWxsT3duS2V5czogdHJ1ZX0pO1xuXG4gIC8vIEZhY3RvcnkgZm9yIGNyZWF0aW5nIG5ldyBpbnN0YW5jZXNcbiAgaW5zdGFuY2UuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKGluc3RhbmNlQ29uZmlnKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUluc3RhbmNlKG1lcmdlQ29uZmlnKGRlZmF1bHRDb25maWcsIGluc3RhbmNlQ29uZmlnKSk7XG4gIH07XG5cbiAgcmV0dXJuIGluc3RhbmNlO1xufVxuXG4vLyBDcmVhdGUgdGhlIGRlZmF1bHQgaW5zdGFuY2UgdG8gYmUgZXhwb3J0ZWRcbmNvbnN0IGF4aW9zID0gY3JlYXRlSW5zdGFuY2UoZGVmYXVsdHMpO1xuXG4vLyBFeHBvc2UgQXhpb3MgY2xhc3MgdG8gYWxsb3cgY2xhc3MgaW5oZXJpdGFuY2VcbmF4aW9zLkF4aW9zID0gQXhpb3M7XG5cbi8vIEV4cG9zZSBDYW5jZWwgJiBDYW5jZWxUb2tlblxuYXhpb3MuQ2FuY2VsZWRFcnJvciA9IENhbmNlbGVkRXJyb3I7XG5heGlvcy5DYW5jZWxUb2tlbiA9IENhbmNlbFRva2VuO1xuYXhpb3MuaXNDYW5jZWwgPSBpc0NhbmNlbDtcbmF4aW9zLlZFUlNJT04gPSBWRVJTSU9OO1xuYXhpb3MudG9Gb3JtRGF0YSA9IHRvRm9ybURhdGE7XG5cbi8vIEV4cG9zZSBBeGlvc0Vycm9yIGNsYXNzXG5heGlvcy5BeGlvc0Vycm9yID0gQXhpb3NFcnJvcjtcblxuLy8gYWxpYXMgZm9yIENhbmNlbGVkRXJyb3IgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbmF4aW9zLkNhbmNlbCA9IGF4aW9zLkNhbmNlbGVkRXJyb3I7XG5cbi8vIEV4cG9zZSBhbGwvc3ByZWFkXG5heGlvcy5hbGwgPSBmdW5jdGlvbiBhbGwocHJvbWlzZXMpIHtcbiAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKTtcbn07XG5cbmF4aW9zLnNwcmVhZCA9IHNwcmVhZDtcblxuLy8gRXhwb3NlIGlzQXhpb3NFcnJvclxuYXhpb3MuaXNBeGlvc0Vycm9yID0gaXNBeGlvc0Vycm9yO1xuXG4vLyBFeHBvc2UgbWVyZ2VDb25maWdcbmF4aW9zLm1lcmdlQ29uZmlnID0gbWVyZ2VDb25maWc7XG5cbmF4aW9zLkF4aW9zSGVhZGVycyA9IEF4aW9zSGVhZGVycztcblxuYXhpb3MuZm9ybVRvSlNPTiA9IHRoaW5nID0+IGZvcm1EYXRhVG9KU09OKHV0aWxzLmlzSFRNTEZvcm0odGhpbmcpID8gbmV3IEZvcm1EYXRhKHRoaW5nKSA6IHRoaW5nKTtcblxuYXhpb3MuZ2V0QWRhcHRlciA9IGFkYXB0ZXJzLmdldEFkYXB0ZXI7XG5cbmF4aW9zLkh0dHBTdGF0dXNDb2RlID0gSHR0cFN0YXR1c0NvZGU7XG5cbmF4aW9zLmRlZmF1bHQgPSBheGlvcztcblxuLy8gdGhpcyBtb2R1bGUgc2hvdWxkIG9ubHkgaGF2ZSBhIGRlZmF1bHQgZXhwb3J0XG5leHBvcnQgZGVmYXVsdCBheGlvc1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFN5bnRhY3RpYyBzdWdhciBmb3IgaW52b2tpbmcgYSBmdW5jdGlvbiBhbmQgZXhwYW5kaW5nIGFuIGFycmF5IGZvciBhcmd1bWVudHMuXG4gKlxuICogQ29tbW9uIHVzZSBjYXNlIHdvdWxkIGJlIHRvIHVzZSBgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5YC5cbiAqXG4gKiAgYGBganNcbiAqICBmdW5jdGlvbiBmKHgsIHksIHopIHt9XG4gKiAgdmFyIGFyZ3MgPSBbMSwgMiwgM107XG4gKiAgZi5hcHBseShudWxsLCBhcmdzKTtcbiAqICBgYGBcbiAqXG4gKiBXaXRoIGBzcHJlYWRgIHRoaXMgZXhhbXBsZSBjYW4gYmUgcmUtd3JpdHRlbi5cbiAqXG4gKiAgYGBganNcbiAqICBzcHJlYWQoZnVuY3Rpb24oeCwgeSwgeikge30pKFsxLCAyLCAzXSk7XG4gKiAgYGBgXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNwcmVhZChjYWxsYmFjaykge1xuICByZXR1cm4gZnVuY3Rpb24gd3JhcChhcnIpIHtcbiAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkobnVsbCwgYXJyKTtcbiAgfTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4vLi4vdXRpbHMuanMnO1xuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB0aGUgcGF5bG9hZCBpcyBhbiBlcnJvciB0aHJvd24gYnkgQXhpb3NcbiAqXG4gKiBAcGFyYW0geyp9IHBheWxvYWQgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgcGF5bG9hZCBpcyBhbiBlcnJvciB0aHJvd24gYnkgQXhpb3MsIG90aGVyd2lzZSBmYWxzZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc0F4aW9zRXJyb3IocGF5bG9hZCkge1xuICByZXR1cm4gdXRpbHMuaXNPYmplY3QocGF5bG9hZCkgJiYgKHBheWxvYWQuaXNBeGlvc0Vycm9yID09PSB0cnVlKTtcbn1cbiIsImltcG9ydCBheGlvcyBmcm9tIFwiYXhpb3NcIjtcblxuY29uc3QgaHR0cENsaWVudDogeyBnZXQ6IGFueTsgcG9zdDogYW55IH0gPSB7XG4gIGdldDogKHVybDogc3RyaW5nLCB7IHBhcmFtcyB9OiB7IHBhcmFtczoge30gfSk6IFByb21pc2U8YW55PiA9PiB7XG4gICAgcmV0dXJuIGF4aW9zLmdldCh1cmwsIHsgcGFyYW1zIH0pO1xuICB9LFxuICBwb3N0OiAoXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgYm9keTogeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9IHt9LFxuICAgIG9wdGlvbnM6IHsgaGVhZGVycz86IGFueSB9ID0ge31cbiAgKTogUHJvbWlzZTxhbnk+ID0+IHtcbiAgICByZXR1cm4gYXhpb3MucG9zdCh1cmwsIGJvZHksIG9wdGlvbnMpO1xuICB9LFxufTtcbi8vIGNvbnN0IGh0dHBDbGllbnQgPSB7XG4vLyAgIGdldDogKFxuLy8gICAgIHVybDogc3RyaW5nLFxuLy8gICAgIHsgcGFyYW1zIH06IHsgcGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBhbnk+IH1cbi8vICAgKTogUHJvbWlzZTxhbnk+ID0+IHtcbi8vICAgICByZXR1cm4gZmV0Y2goYCR7dXJsfT8ke25ldyBVUkxTZWFyY2hQYXJhbXMocGFyYW1zKS50b1N0cmluZygpfWAsIHtcbi8vICAgICAgIG1ldGhvZDogXCJHRVRcIixcbi8vICAgICAgIGhlYWRlcnM6IHtcbi8vICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4vLyAgICAgICAgIFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luXCI6IFwiKlwiLFxuLy8gICAgICAgfSxcbi8vICAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuLy8gICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuLy8gICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhUVFAgZXJyb3IhIFN0YXR1czogJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4vLyAgICAgICB9XG4vLyAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuLy8gICAgIH0pO1xuLy8gICB9LFxuLy8gICBwb3N0OiAoXG4vLyAgICAgdXJsOiBzdHJpbmcsXG4vLyAgICAgYm9keTogeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9IHt9LFxuLy8gICAgIG9wdGlvbnM6IHsgaGVhZGVycz86IGFueSB9ID0ge31cbi8vICAgKTogUHJvbWlzZTxhbnk+ID0+IHtcbi8vICAgICByZXR1cm4gZmV0Y2goYCR7dXJsfWAsIHtcbi8vICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4vLyAgICAgICBoZWFkZXJzOiB7XG4vLyAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuLy8gICAgICAgfSxcbi8vICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuLy8gICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4vLyAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4vLyAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSFRUUCBlcnJvciEgU3RhdHVzOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbi8vICAgICAgIH1cbi8vICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4vLyAgICAgfSk7XG4vLyAgIH0sXG4vLyB9O1xuXG5leHBvcnQgZGVmYXVsdCBodHRwQ2xpZW50O1xuXG5cbiIsIi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG5pbXBvcnQgc3RvcmFnZVNlcnZpY2UgZnJvbSBcIi4uL3N0b3JhZ2Uuc2VydmljZVwiO1xuaW1wb3J0IHsgcGFyc2VSZXBvcnRBc0NoYXJ0RGF0YSwgc2VydmVyVXJsIH0gZnJvbSBcIi4uL2dhcGkudXRpbHNcIjtcbmltcG9ydCB7IEdhcGlJbml0aWFsaXphdGlvblBhcmFtcyB9IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IGF4aW9zIGZyb20gXCJheGlvc1wiO1xuaW1wb3J0IGh0dHBDbGllbnQgZnJvbSBcIkBzcmMvZGVwcy9odHRwLWNsaWVudFwiO1xuXG5leHBvcnQgY2xhc3MgR2FwaUFuYWx5dGljc1NlcnZpY2Uge1xuICBnYXBpO1xuICBhbmFseXRpY3M7XG4gIHJlYWx0aW1lQVBJO1xuICBhbmFseXRpY3NkYXRhO1xuICBhbmFseXRpY3NhZG1pbjtcbiAgbWFuYWdlbWVudDtcbiAgd2VicHJvcGVydGllcztcbiAgYWNjb3VudHM7XG4gIHByb2ZpbGVzO1xuICBpbml0aWFsaXphdGlvblBlbmRpbmcgPSB0cnVlO1xuXG4gIGluaXRpYWxpc2F0aW9uc1BhcmFtcyE6IEdhcGlJbml0aWFsaXphdGlvblBhcmFtcztcbiAgY29uc3RydWN0b3Iob3B0aW9uczogR2FwaUluaXRpYWxpemF0aW9uUGFyYW1zKSB7XG4gICAgY29uc3QgeyBjbGllbnRJZCwgYXV0aFNjb3Blcywgc2hvcGluemVuQW5hbHl0aWNzQWRtaW5FbWFpbCB9ID0gb3B0aW9ucztcbiAgICB0aGlzLmluaXRpYWxpc2F0aW9uc1BhcmFtcyA9IG9wdGlvbnM7XG5cbiAgICB0aGlzLmluaXQoKTtcbiAgfVxuXG4gIGFzeW5jIHJlZnJlc2hBY2Nlc3NUb2tlbihlbWFpbDogc3RyaW5nKSB7XG4gICAgY29uc3QgaGVhZGVycyA9IHsgQWNjZXB0OiBcImFwcGxpY2F0aW9uL2pzb25cIiB9O1xuXG4gICAgY29uc3Qgc2VydmVyUmVzcG9uc2UgPSBhd2FpdCBodHRwQ2xpZW50LnBvc3QoXG4gICAgICBzZXJ2ZXJVcmwgKyBcIi9nb29nbGUvYXV0aC9yZWZyZXNoLWFjY2Vzcy10b2tlblwiLFxuICAgICAgeyBlbWFpbCB9LFxuICAgICAgeyBoZWFkZXJzIH1cbiAgICApO1xuICAgIHJldHVybiBzZXJ2ZXJSZXNwb25zZTtcbiAgfVxuXG4gIGFzeW5jIGVycm9ySGFuZGxlcihlcnJvciwgY29udGV4dCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAvLyAgIGNvbnNvbGUubG9nKFwiZXJyb3IgOj4+IFwiLCBlcnJvciwgY29udGV4dCk7XG4gICAgICBjb25zdCB7IHN0YXR1cywgcmVzdWx0IH0gPSBlcnJvcjtcbiAgICAgIGlmIChzdGF0dXMgPT09IDQwMSkge1xuICAgICAgICBjb25zdCB7IHJlZnJlc2hfdG9rZW4gfSA9XG4gICAgICAgICAgc3RvcmFnZVNlcnZpY2UuZ2V0R29vZ2xlTG9naW5SZXNwb25zZSgpIHx8IHt9O1xuICAgICAgICBjb25zb2xlLmxvZyhcInJlZnJlc2hfdG9rZW5cIiwgcmVmcmVzaF90b2tlbik7XG4gICAgICAgIC8vIGlmICghcmVmcmVzaF90b2tlbikgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgY29uc3QgeyBkYXRhOiBjcmVkZW50aWFscyB9ID0gKGF3YWl0IHRoaXMucmVmcmVzaEFjY2Vzc1Rva2VuKFxuICAgICAgICAgIHRoaXMuaW5pdGlhbGlzYXRpb25zUGFyYW1zLnNob3BpbnplbkFuYWx5dGljc0FkbWluRW1haWxcbiAgICAgICAgKS5jYXRjaChyZWplY3QpKSBhcyB7IGRhdGE6IGFueSB9O1xuICAgICAgICBjb25zb2xlLmxvZyhcImNyZWRlbnRpYWxzIDo+PiBcIiwgY3JlZGVudGlhbHMpO1xuICAgICAgICBpZiAoIWNyZWRlbnRpYWxzKSByZWplY3QoZXJyb3IpO1xuXG4gICAgICAgIHN0b3JhZ2VTZXJ2aWNlLnNldEdvb2dsZUxvZ2luUmVzcG9uc2UoY3JlZGVudGlhbHMpO1xuICAgICAgICB0aGlzLnNldEFjY2Vzc1Rva2VuKCk7XG4gICAgICAgIGNvbnN0IHsgbWV0aG9kLCBhcmdzIH0gPSBjb250ZXh0O1xuICAgICAgICBjb25zb2xlLmxvZyhcIm1ldGhvZCwgYXJncyA6Pj4gXCIsIG1ldGhvZCwgYXJncyk7XG4gICAgICAgIHJlc29sdmUodGhpc1ttZXRob2RdKC4uLmFyZ3MpKTtcbiAgICAgIH1cblxuICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldCBnYXBpSXNTY3JpcHRBcmVBbGxEb3dubG9hZGVkKCkge1xuICAgIGNvbnN0IGdhcGkgPSB3aW5kb3c/LmdhcGk7XG4gICAgY29uc3QgYW5hbHl0aWNzID0gZ2FwaT8uY2xpZW50Py5hbmFseXRpY3M7XG4gICAgY29uc3QgYW5hbHl0aWNzZGF0YSA9IGdhcGk/LmNsaWVudD8uYW5hbHl0aWNzZGF0YTtcbiAgICBjb25zdCBhbmFseXRpY3NhZG1pbiA9IGdhcGk/LmNsaWVudD8uYW5hbHl0aWNzYWRtaW47XG4gICAgY29uc3QgYXJlTm90TG9hZGVkID0gIWdhcGkgfHwgIWFuYWx5dGljcyB8fCAhYW5hbHl0aWNzYWRtaW4gfHwgIWFuYWx5dGljc2RhdGFcbiAgICByZXR1cm4gIWFyZU5vdExvYWRlZFxuICB9XG4gIGFzeW5jIGluaXQoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGlmICghdGhpcy5nYXBpSXNTY3JpcHRBcmVBbGxEb3dubG9hZGVkKSB7XG4gICAgICAgIHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUoYXdhaXQgdGhpcy5pbml0KCkpO1xuICAgICAgICB9LCAxMDAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZ2FwaSA9IHdpbmRvdz8uZ2FwaTtcbiAgICAgICAgdGhpcy5hbmFseXRpY3MgPSB0aGlzLmdhcGkuY2xpZW50LmFuYWx5dGljcztcbiAgICAgICAgdGhpcy5yZWFsdGltZUFQSSA9IHRoaXMuZ2FwaS5jbGllbnQuYW5hbHl0aWNzLmRhdGEucmVhbHRpbWU7XG4gICAgICAgIHRoaXMuYW5hbHl0aWNzZGF0YSA9IHRoaXMuZ2FwaS5jbGllbnQuYW5hbHl0aWNzZGF0YTtcbiAgICAgICAgdGhpcy5hbmFseXRpY3NhZG1pbiA9IHRoaXMuZ2FwaS5jbGllbnQuYW5hbHl0aWNzYWRtaW47XG5cbiAgICAgICAgdGhpcy5tYW5hZ2VtZW50ID0gdGhpcy5nYXBpLmNsaWVudC5hbmFseXRpY3MubWFuYWdlbWVudDtcbiAgICAgICAgdGhpcy5hY2NvdW50cyA9IHRoaXMubWFuYWdlbWVudC5hY2NvdW50cztcbiAgICAgICAgdGhpcy53ZWJwcm9wZXJ0aWVzID0gdGhpcy5tYW5hZ2VtZW50LndlYnByb3BlcnRpZXM7XG4gICAgICAgIHRoaXMucHJvZmlsZXMgPSB0aGlzLm1hbmFnZW1lbnQucHJvZmlsZXM7XG5cbiAgICAgICAgdGhpcy5zZXRBY2Nlc3NUb2tlbigpO1xuXG4gICAgICAgIHRoaXMuaW5pdGlhbGl6YXRpb25QZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBxdWVyeVJlcG9ydChwcm9wZXJ0eSwgb3B0aW9ucykge1xuICAgIGNvbnNvbGUubG9nKFwicHJvcGVydHlcIiwgcHJvcGVydHkpO1xuICAgIGlmICghcHJvcGVydHkpIHRocm93IG5ldyBFcnJvcihcIkdvb2dsZSBwcm9wZXJ0eSBpc250IHNldFwiKTtcblxuICAgIHRyeSB7XG4gICAgICBsZXQgeyBkaW1lbnNpb25zLCBtZXRyaWNzLCBzdGFydERhdGUsIGVuZERhdGUgfSA9IG9wdGlvbnM7XG4gICAgICBtZXRyaWNzID0gKG1ldHJpY3MgfHwgW10pLm1hcCgoZSkgPT4ge1xuICAgICAgICAvLyByZXR1cm4geyBuYW1lOiBcImdhOlwiICsgZSB9O1xuICAgICAgICByZXR1cm4gdHlwZW9mIGUgPT09IFwic3RyaW5nXCIgPyB7IG5hbWU6IGUgfSA6IGU7XG4gICAgICB9KTtcbiAgICAgIGRpbWVuc2lvbnMgPSAoZGltZW5zaW9ucyB8fCBbXSkubWFwKChlKSA9PiB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgZSA9PT0gXCJzdHJpbmdcIiA/IHsgbmFtZTogZSB9IDogZTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXBvcnRzID0gYXdhaXQgdGhpcy5hbmFseXRpY3NkYXRhLnByb3BlcnRpZXNcbiAgICAgICAgLnJ1blJlcG9ydCh7XG4gICAgICAgICAgcHJvcGVydHksXG4gICAgICAgICAgZGF0ZVJhbmdlczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzdGFydERhdGU6IHN0YXJ0RGF0ZSxcbiAgICAgICAgICAgICAgZW5kRGF0ZTogZW5kRGF0ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgICBtZXRyaWNzOiBtZXRyaWNzLFxuICAgICAgICAgIGRpbWVuc2lvbnM6IGRpbWVuc2lvbnMsXG4gICAgICAgICAgbWV0cmljQWdncmVnYXRpb25zOiBbXCJUT1RBTFwiXSxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGUpID0+IHtcbiAgICAgICAgICByZXR1cm4gZTtcbiAgICAgICAgfSk7XG5cbiAgICAgIC8vIGlmIChvcHRpb25zLmZvcm1hdCA9PT0gXCJjaGFydF9kYXRhXCIpIHtcbiAgICAgIHJldHVybiBwYXJzZVJlcG9ydEFzQ2hhcnREYXRhKFtyZXBvcnRzXSk7XG4gICAgICAvLyB9XG5cbiAgICAgIC8vIHJldHVybiByZXBvcnRzO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5lcnJvckhhbmRsZXIoZXJyb3IsIHtcbiAgICAgICAgbWV0aG9kOiBcInF1ZXJ5UmVwb3J0XCIsXG4gICAgICAgIGFyZ3M6IFtwcm9wZXJ0eSwgb3B0aW9uc10sXG4gICAgICB9KTtcbiAgICAgIC8vICAgY29uc29sZS5sb2coXCJyZXNcIiwgcmVzKTtcbiAgICAgIC8vICAgdGhyb3cgcmVzO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGxpc3RBY2NvdW50cygpIHtcbiAgICBjb25zb2xlLmxvZyhcIiB0aGlzLmFuYWx5dGljc2FkbWluXCIsIHRoaXMuYW5hbHl0aWNzYWRtaW4pO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmFuYWx5dGljc2FkbWluLmFjY291bnRTdW1tYXJpZXNcbiAgICAgIC5saXN0KClcbiAgICAgIC50aGVuKChlKSA9PiBlLnJlc3VsdC5hY2NvdW50U3VtbWFyaWVzKVxuICAgICAgLmNhdGNoKGFzeW5jIChlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuZXJyb3JIYW5kbGVyKGUsIHtcbiAgICAgICAgICBtZXRob2Q6IFwibGlzdEFjY291bnRzXCIsXG4gICAgICAgICAgYXJnczogW10sXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZyhcInJlc1wiLCByZXMpO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgfSk7XG4gIH1cblxuICBzZXRBY2Nlc3NUb2tlbigpIHtcbiAgICBjb25zdCB7IGFjY2Vzc190b2tlbiB9ID0gc3RvcmFnZVNlcnZpY2UuZ2V0R29vZ2xlTG9naW5SZXNwb25zZSgpIHx8IHt9O1xuICAgIHRoaXMuZ2FwaS5jbGllbnQuc2V0VG9rZW4oe1xuICAgICAgYWNjZXNzX3Rva2VuOiBhY2Nlc3NfdG9rZW4sXG4gICAgfSk7XG4gICAgdGhpcy5nYXBpLmF1dGguc2V0VG9rZW4oe1xuICAgICAgYWNjZXNzX3Rva2VuOiBhY2Nlc3NfdG9rZW4sXG4gICAgfSk7XG4gIH1cbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG5pbXBvcnQgaHR0cENsaWVudCBmcm9tIFwiQHNyYy9kZXBzL2h0dHAtY2xpZW50XCI7XG5cbmV4cG9ydCBjb25zdCBzZXJ2ZXJVcmwgPVxuICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCJcbiAgICA/IFwiaHR0cDovL2xvY2FsaG9zdDo1MDAwXCJcbiAgICA6IFwiaHR0cHM6Ly9ib3Quc2hvcGluemVuLmNvbVwiO1xuXG5jb25zdCBoZWFkZXJzID0geyBBY2NlcHQ6IFwiYXBwbGljYXRpb24vanNvblwiIH07XG5cbi8vIGF1dGhcbmV4cG9ydCBjb25zdCBzaWduSW5XaXRoR29vZ2xlID0gKHtcbiAgcmVxdWVzdENvZGUgPSBmYWxzZSxcbiAgY2xpZW50SWQsXG4gIHNjb3BlLFxufToge1xuICBjbGllbnRJZDogc3RyaW5nO1xuICBzY29wZTogc3RyaW5nW107XG4gIHJlcXVlc3RDb2RlOiBib29sZWFuO1xufSkgPT4ge1xuICAvLyAgIGNvbnNvbGUubG9nKFwib2JqZWN0IDo+PiBcIiwgZ29vZ2xlQXV0aFNjb3Blcyk7XG4gIGlmICh3aW5kb3cgJiYgd2luZG93Lmdvb2dsZSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCBnb29nbGVBY2NvdW50cyA9IHdpbmRvdy5nb29nbGUuYWNjb3VudHM7XG4gICAgICBjb25zdCBjbGllbnQgPSBnb29nbGVBY2NvdW50cy5vYXV0aDIuaW5pdENvZGVDbGllbnQoe1xuICAgICAgICBjbGllbnRfaWQ6IGNsaWVudElkLFxuICAgICAgICBzY29wZTogc2NvcGUsXG4gICAgICAgIHV4X21vZGU6IFwicG9wdXBcIixcbiAgICAgICAgaW5jbHVkZV9ncmFudGVkX3Njb3BlczogdHJ1ZSxcbiAgICAgICAgYWNjZXNzX3R5cGU6IFwib2ZmbGluZVwiLFxuICAgICAgICBjYWxsYmFjazogYXN5bmMgKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJyZXNwb25zZVwiLCByZXNwb25zZSk7XG4gICAgICAgICAgYXdhaXQgZ2V0QWNjZXNzVG9rZW5Gcm9tU2VydmVyKHJlc3BvbnNlKVxuICAgICAgICAgICAgLnRoZW4oKGUpID0+IHJlc29sdmUoZS5kYXRhKSlcbiAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gcmVqZWN0KGUpKTtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgaWYgKHJlcXVlc3RDb2RlKSBjbGllbnQucmVxdWVzdENvZGUoKTtcbiAgICB9KTtcbiAgfVxufTtcblxuYXN5bmMgZnVuY3Rpb24gZ2V0QWNjZXNzVG9rZW5Gcm9tU2VydmVyKHsgY29kZSB9KSB7XG4gIGNvbnN0IHNlcnZlclJlc3BvbnNlID0gYXdhaXQgaHR0cENsaWVudC5wb3N0KFxuICAgIHNlcnZlclVybCArIFwiL2dvb2dsZS9hdXRoL2dldC10b2tlbnMtZnJvbS1jb2RlXCIsXG4gICAge1xuICAgICAgY29kZSxcbiAgICAgIHJlZGlyZWN0VXJpOiB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgKyBcIi8vXCIgKyB3aW5kb3cubG9jYXRpb24uaG9zdCxcbiAgICB9LFxuICAgIHsgaGVhZGVycyB9XG4gICk7XG5cbiAgcmV0dXJuIHNlcnZlclJlc3BvbnNlIGFzIHsgZGF0YTogYW55IH07XG59XG5cbi8vIHJlcG9ydHNcbmZ1bmN0aW9uIHByZVBhcnNlUmVwb3J0UmVxdWVzdFJlc3VsdChyZXN1bHQpIHtcbiAgbGV0IHtcbiAgICByZXN1bHQ6IHsgbWV0cmljSGVhZGVycyA9IFtdLCBkaW1lbnNpb25IZWFkZXJzID0gW10sIHJvd3MgPSBbXSwgdG90YWxzIH0sXG4gIH0gPSByZXN1bHRbMF07XG4gIC8vICAgZGltZW5zaW9uSGVhZGVycyA9IGRpbWVuc2lvbkhlYWRlcnMubWFwKChlKSA9PiByZXBsYWNlSW5TdHJpbmcoZSwgXCJnYTpcIiwgXCJcIikpO1xuICAvLyAgIG1ldHJpY0hlYWRlcnMgPSBtZXRyaWNIZWFkZXJzLm1hcCgoZSkgPT4ge1xuICAvLyAgICAgcmV0dXJuIHtcbiAgLy8gICAgICAgLi4uZSxcbiAgLy8gICAgICAgbmFtZTogcmVwbGFjZUluU3RyaW5nKGUubmFtZSwgXCJnYTpcIiwgXCJcIiksXG4gIC8vICAgICB9O1xuICAvLyAgIH0pO1xuXG4gIGNvbnN0IHByZUNsZWFuZWRSb3dzID0gcm93cy5tYXAoKHJvdykgPT4ge1xuICAgIGxldCB7IGRpbWVuc2lvblZhbHVlcyA9IFtdLCBtZXRyaWNWYWx1ZXMgPSBbXSB9ID0gcm93O1xuICAgIGRpbWVuc2lvblZhbHVlcyA9IGRpbWVuc2lvblZhbHVlcy5tYXAoKGUsIGkpID0+ICh7XG4gICAgICAuLi5kaW1lbnNpb25IZWFkZXJzW2ldLFxuICAgICAgLi4uZSxcbiAgICB9KSk7XG4gICAgbWV0cmljVmFsdWVzID0gbWV0cmljVmFsdWVzLm1hcCgoZSwgaSkgPT4gKHtcbiAgICAgIC4uLm1ldHJpY0hlYWRlcnNbaV0sXG4gICAgICAuLi5lLFxuICAgIH0pKTtcbiAgICByZXR1cm4geyBkaW1lbnNpb25WYWx1ZXMsIG1ldHJpY1ZhbHVlcyB9O1xuICAgIC8vIHJldHVybiB7IFtkaW1lbnNpb25zW11dOiBkaW1lbnNpb25zWzBdLCB2YWx1ZTogbWV0cmljc1swXS52YWx1ZXNbMF0gfTtcbiAgfSk7XG5cbiAgY29uc3QgbWV0cmljc1RvdGFscyA9IG1ldHJpY0hlYWRlcnMucmVkdWNlKChhY2MsIGN1cnIsIGN1cnJlbnRJbmRleCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5hY2MsXG4gICAgICBbY3Vyci5uYW1lXTogdG90YWxzWzBdPy5tZXRyaWNWYWx1ZXNbY3VycmVudEluZGV4XT8udmFsdWUgfHwgMCxcbiAgICB9O1xuICB9LCB7fSk7XG4gIHJldHVybiB7XG4gICAgbWV0cmljczogbWV0cmljSGVhZGVycyxcbiAgICBkaW1lbnNpb25zOiBkaW1lbnNpb25IZWFkZXJzLFxuICAgIHJvd3M6IHByZUNsZWFuZWRSb3dzLFxuICAgIG1ldHJpY3NUb3RhbHM6IG1ldHJpY3NUb3RhbHMsXG4gIH07XG4gIC8vICAgY29uc29sZS5sb2coXCJkaW1lbnNpb25zXCIsIHByZUNsZWFuZWRSb3dzKTtcbn1cblxuZnVuY3Rpb24gZ2V0Q2hhcnREYXRhUGVyRGltZW5zaW9ucyhvcHRpb25zKSB7XG4gIGNvbnN0IHsgZGF0YTogcHJvdmlkZWREYXRhLCBkaW1lbnNpb24gfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHsgcm93cywgZGltZW5zaW9ucywgbWV0cmljcywgbWV0cmljc1RvdGFscyB9ID0gcHJvdmlkZWREYXRhO1xuICBpZiAoIWRpbWVuc2lvbnMuaW5jbHVkZXMoZGltZW5zaW9uKSkgcmV0dXJuIHByb3ZpZGVkRGF0YTtcbiAgY29uc3QgZGltZW5zaW9uSW5kZXggPSBkaW1lbnNpb25zLmluZGV4T2YoZGltZW5zaW9uKTtcblxuICBjb25zdCBkYXRhID0gcm93cy5tYXAoKHJvdykgPT4ge1xuICAgIGNvbnN0IHsgZGltZW5zaW9uVmFsdWVzLCBtZXRyaWNWYWx1ZXMgfSA9IHJvdztcbiAgICBjb25zdCB2YWx1ZXMgPSBtZXRyaWNWYWx1ZXMucmVkdWNlKChyZXN1bHQsIGN1cnJlbnQpID0+IHtcbiAgICAgIHJldHVybiB7IC4uLnJlc3VsdCwgW2N1cnJlbnQubmFtZV06IGN1cnJlbnQudmFsdWUgfTtcbiAgICB9LCB7fSk7XG4gICAgcmV0dXJuIHsgbmFtZTogZGltZW5zaW9uVmFsdWVzW2RpbWVuc2lvbkluZGV4XS52YWx1ZSwgLi4udmFsdWVzIH07XG4gIH0pO1xuXG4gIC8vICAgY29uc29sZS5sb2coJ21ldHJpY3NUb3RhbHMgOj4+ICcsIG1ldHJpY3NUb3RhbHMpO1xuICBsZXQgdG90YWxzID0ge307XG4gIG1ldHJpY3MuZm9yRWFjaCgoeyBuYW1lIH0sIGkpID0+IHtcbiAgICAvLyB0b3RhbHNbbmFtZV0gPSBtZXRyaWNzVG90YWxzW2ldPy52YWx1ZVxuICAgIHRvdGFsc1tuYW1lXSA9IGRhdGEucmVkdWNlKChhY2MsIGN1cnIpID0+IHtcbiAgICAgIGxldCBvdXRwdXQgPSBhY2M7XG4gICAgICAvLyAgICBjb25zb2xlLmxvZygnY3VycltrZXldJywgbmFtZSxjdXJyW25hbWVdKVxuICAgICAgaWYgKGN1cnJbbmFtZV0pIG91dHB1dCArPSBwYXJzZUludChjdXJyW25hbWVdKTtcbiAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfSwgMCk7XG4gIH0pO1xuICByZXR1cm4geyBkYXRhLCB0b3RhbHMgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlUmVwb3J0QXNDaGFydERhdGEocmVwb3J0cykge1xuICBjb25zdCBwcmVQYXJzZWREYXRhID0gcHJlUGFyc2VSZXBvcnRSZXF1ZXN0UmVzdWx0KHJlcG9ydHMpO1xuICAvLyAgIGNvbnNvbGUubG9nKCdwcmVQYXJzZWREYXRhJywgcHJlUGFyc2VkRGF0YSlcbiAgbGV0IHsgcm93cywgZGltZW5zaW9ucywgbWV0cmljc1RvdGFscyB9ID0gcHJlUGFyc2VkRGF0YTtcblxuICBkaW1lbnNpb25zID0gZGltZW5zaW9ucy5yZWR1Y2UoKGFjYywgaXRlbSkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5hY2MsXG4gICAgICBbaXRlbS5uYW1lXTogZ2V0Q2hhcnREYXRhUGVyRGltZW5zaW9ucyh7XG4gICAgICAgIGRhdGE6IHByZVBhcnNlZERhdGEsXG4gICAgICAgIGRpbWVuc2lvbjogaXRlbSxcbiAgICAgIH0pLFxuICAgIH07XG4gIH0sIHt9KTtcblxuICByZXR1cm4geyBkaW1lbnNpb25zLCBtZXRyaWNzVG90YWxzIH07XG59XG5cbi8vIG90aGVyc1xuZnVuY3Rpb24gcmVwbGFjZUluU3RyaW5nKHN0ciwgcmVwbGFjZSwgYnkpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKHJlcGxhY2UsIGJ5KTtcbn1cbmZ1bmN0aW9uIHJlbW92ZVBhcnRPZlN0cmluZyhzdHIsIHRvQmVSZW1vdmVkKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSh0b0JlUmVtb3ZlZCwgXCJcIik7XG59XG5cbi8vIGRhdGVcbmV4cG9ydCBmdW5jdGlvbiBnYURhdGVUb0pTRGF0ZShkYXRlLCBjb25maWdzID0geyB0b0xvY2FsZURhdGVTdHJpbmc6IG51bGwgfSkge1xuICBjb25zdCB7IHRvTG9jYWxlRGF0ZVN0cmluZyB9ID0gY29uZmlncztcbiAgaWYgKCFkYXRlIHx8IGRhdGUubGVuZ3RoIDwgOCkgcmV0dXJuIGRhdGU7XG5cbiAgY29uc3QgeWVhciA9IGRhdGUuc2xpY2UoMCwgNCk7XG4gIGNvbnN0IG1vbnRoID0gZGF0ZS5zbGljZSg0LCA2KTtcbiAgY29uc3QgZGF5ID0gZGF0ZS5zbGljZSg2LCA4KTtcblxuICBjb25zdCBqc0RhdGUgPSBuZXcgRGF0ZShgJHt5ZWFyfS8ke21vbnRofS8ke2RheX1gKTtcblxuICBpZiAodG9Mb2NhbGVEYXRlU3RyaW5nKSB7XG4gICAgY29uc3QgeyBsb2NhbGUsIG9wdGlvbnMgfSA9IHRvTG9jYWxlRGF0ZVN0cmluZztcbiAgICByZXR1cm4ganNEYXRlLnRvTG9jYWxlRGF0ZVN0cmluZyhsb2NhbGUsIG9wdGlvbnMpO1xuICB9XG5cbiAgcmV0dXJuIGpzRGF0ZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBzZXJ2ZXJVcmwsXG4gIHNpZ25JbldpdGhHb29nbGUsXG4gIGdldEFjY2Vzc1Rva2VuRnJvbVNlcnZlcixcbiAgcGFyc2VSZXBvcnRBc0NoYXJ0RGF0YSxcbiAgZ2FEYXRlVG9KU0RhdGUsXG59O1xuIiwiaW1wb3J0IHtcbiAgU2hvcGluemVuQW5hbHl0aWNzQ2xpZW50LFxuICBUR2V0RXZlbnRDb3VudFBhcmFtcyxcbiAgVEdldFZpc2l0c1BhcmFtcyxcbiAgVFBlcmlvZCxcbn0gZnJvbSBcIkBzcmMvdHlwZXNcIjtcbmltcG9ydCB7IEdhcGlBbmFseXRpY3NTZXJ2aWNlIH0gZnJvbSBcIi4vYW5hbHl0aWNzL2dhcGkuYW5hbHl0aWNzLnNlcnZpY2VcIjtcbmltcG9ydCB7IEdhcGlJbml0aWFsaXphdGlvblBhcmFtcyB9IGZyb20gXCIuL3R5cGVzXCI7XG5pbXBvcnQgeyBjaGVja1BlcmlvZCB9IGZyb20gXCJAc3JjL3V0aWxzXCI7XG5cbmZ1bmN0aW9uIGNvbnZlcnRFdmVudFRvR0E0RXZlbnQoZXZlbnRzOiBUR2V0RXZlbnRDb3VudFBhcmFtc1tcImV2ZW50c1wiXSkge1xuICBjb25zdCBnYTRFdmVudCA9IGV2ZW50cy5tYXAoKGV2KSA9PiB7XG4gICAgY29uc3QgeyBuYW1lLCBtZXRhOiB7IGdhNCB9ID0ge30gfSA9IGV2O1xuICAgIGlmIChnYTQpIHtcbiAgICAgIGlmIChnYTQuY29udmVyc2lvbikgcmV0dXJuIGBjb252ZXJzaW9uczoke25hbWV9YDtcbiAgICB9XG4gICAgcmV0dXJuIG5hbWU7XG4gIH0pO1xuXG4gIHJldHVybiBnYTRFdmVudDtcbn1cblxuZnVuY3Rpb24gZ2V0R0E0RGF0ZUZyb21QZXJpb2QocGVyaW9kOiBUUGVyaW9kKSB7XG4gIGNoZWNrUGVyaW9kKHBlcmlvZCk7XG4gIGNvbnN0IHsgZm9ybWF0LCBtYWdpY1ZhbHVlLCB2YWx1ZSB9ID0gcGVyaW9kO1xuICBpZiAoZm9ybWF0ID09PSBcIm1hZ2ljXCIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3RhcnREYXRlOiBtYWdpY1ZhbHVlICsgXCJkYXlzQWdvXCIsXG4gICAgICBlbmREYXRlOiBcInRvZGF5XCIsXG4gICAgfTtcbiAgfVxuICBpZiAoZm9ybWF0ID09PSBcImRhdGVcIikge1xuICAgIHJldHVybiB7XG4gICAgICBzdGFydERhdGU6IHZhbHVlLnN0YXJ0LFxuICAgICAgZW5kRGF0ZTogdmFsdWUuZW5kIHx8IFwidG9kYXlcIixcbiAgICB9O1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBHQTRDbGllbnRGYWNhZGUgZXh0ZW5kcyBTaG9waW56ZW5BbmFseXRpY3NDbGllbnQge1xuICBwdWJsaWMgcmVhZG9ubHkgZ2FwaVNlcnZpY2U6IEdhcGlBbmFseXRpY3NTZXJ2aWNlO1xuICBjb25zdHJ1Y3RvcihvcHRpb25zOiBHYXBpSW5pdGlhbGl6YXRpb25QYXJhbXMpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuZ2FwaVNlcnZpY2UgPSBuZXcgR2FwaUFuYWx5dGljc1NlcnZpY2Uob3B0aW9ucyk7XG4gIH1cblxuICBhc3luYyBsaXN0QWNjb3VudHMoKSB7XG4gICAgaWYgKCF0aGlzLmdhcGlTZXJ2aWNlLmFuYWx5dGljc2FkbWluKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiR0E0IGNsaWVudCBpc24ndCBpbml0aWFsaXplZCBjb3JyZWN0bHkuIFBsZWFzZSBtYWtlIHN1cmUgdGhlIGFjdGl2ZSBjbGllbnQgaXMgR0E0XCJcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBhd2FpdCB0aGlzLmdhcGlTZXJ2aWNlLmxpc3RBY2NvdW50cygpO1xuICB9XG5cbiAgYXN5bmMgZ2V0VmlzaXRzUGVyUGVyaW9kKGRhdGE6IFRHZXRWaXNpdHNQYXJhbXMpOiBQcm9taXNlPGFueT4ge1xuICAgIGNvbnN0IHsgcGVyaW9kLCBnYTQ6IHsgcHJvcGVydHksIGZvcm1hdCB9ID0ge30gfSA9IGRhdGE7XG4gICAgdGhpcy5jaGVja1Byb3BlcnR5KHByb3BlcnR5KTtcbiAgICBsZXQgb3B0aW9ucyA9IHtcbiAgICAgIGRpbWVuc2lvbnM6IFtcImRhdGVcIl0sXG4gICAgICBtZXRyaWNzOiBbXG4gICAgICAgIFwic2Vzc2lvbnNcIixcbiAgICAgICAgXCJuZXdVc2Vyc1wiLFxuICAgICAgICBcInNjcmVlblBhZ2VWaWV3c1wiLFxuICAgICAgICBcImF2ZXJhZ2VTZXNzaW9uRHVyYXRpb25cIixcbiAgICAgIF0sXG4gICAgICAuLi5nZXRHQTREYXRlRnJvbVBlcmlvZChwZXJpb2QpLFxuICAgICAgZm9ybWF0LFxuICAgIH07XG5cbiAgICByZXR1cm4gYXdhaXQgdGhpcy5nYXBpU2VydmljZS5xdWVyeVJlcG9ydChwcm9wZXJ0eSwgb3B0aW9ucyk7XG4gIH1cblxuICBhc3luYyBnZXRFdmVudENvdW50KGRhdGE6IFRHZXRFdmVudENvdW50UGFyYW1zKTogUHJvbWlzZTxhbnk+IHtcbiAgICBjb25zdCB7IGV2ZW50cywgcGVyaW9kLCBnYTQ6IHsgcHJvcGVydHksIGZvcm1hdCB9ID0ge30gfSA9IGRhdGE7XG4gICAgdGhpcy5jaGVja1Byb3BlcnR5KHByb3BlcnR5KTtcblxuICAgIGNvbnN0IG1ldHJpY3MgPSBjb252ZXJ0RXZlbnRUb0dBNEV2ZW50KGV2ZW50cyk7XG4gICAgbGV0IG9wdGlvbnMgPSB7XG4gICAgICBkaW1lbnNpb25zOiBbXSxcbiAgICAgIG1ldHJpY3MsXG4gICAgICAuLi5nZXRHQTREYXRlRnJvbVBlcmlvZChwZXJpb2QpLFxuICAgICAgZm9ybWF0LFxuICAgIH07XG5cbiAgICByZXR1cm4gYXdhaXQgdGhpcy5nYXBpU2VydmljZVxuICAgICAgLnF1ZXJ5UmVwb3J0KHByb3BlcnR5LCBvcHRpb25zKVxuICAgICAgLnRoZW4oKGU6IGFueSkgPT4ge1xuICAgICAgICBjb25zdCB0b3RhbHMgPSBlPy5tZXRyaWNzVG90YWxzIHx8IHt9O1xuICAgICAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IG1ldHJpY3MubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgY29uc3QgZWwgPSBtZXRyaWNzW2luZGV4XTtcbiAgICAgICAgICByZXN1bHRbZWxdID0gdG90YWxzW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGNoZWNrUHJvcGVydHkocHJvcGVydHk6IHN0cmluZyB8IHVuZGVmaW5lZCkge1xuICAgIGlmICghcHJvcGVydHkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImdhNFByb3BwZXJ0eUlEIGlzIHJlcXVpcmVkXCIpO1xuICAgIH1cbiAgfVxufVxuIiwiLyohIGpzLWNvb2tpZSB2My4wLjUgfCBNSVQgKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXZhciAqL1xuZnVuY3Rpb24gYXNzaWduICh0YXJnZXQpIHtcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgfVxuICB9XG4gIHJldHVybiB0YXJnZXRcbn1cbi8qIGVzbGludC1lbmFibGUgbm8tdmFyICovXG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXZhciAqL1xudmFyIGRlZmF1bHRDb252ZXJ0ZXIgPSB7XG4gIHJlYWQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZVswXSA9PT0gJ1wiJykge1xuICAgICAgdmFsdWUgPSB2YWx1ZS5zbGljZSgxLCAtMSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZS5yZXBsYWNlKC8oJVtcXGRBLUZdezJ9KSsvZ2ksIGRlY29kZVVSSUNvbXBvbmVudClcbiAgfSxcbiAgd3JpdGU6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpLnJlcGxhY2UoXG4gICAgICAvJSgyWzM0NkJGXXwzW0FDLUZdfDQwfDVbQkRFXXw2MHw3W0JDRF0pL2csXG4gICAgICBkZWNvZGVVUklDb21wb25lbnRcbiAgICApXG4gIH1cbn07XG4vKiBlc2xpbnQtZW5hYmxlIG5vLXZhciAqL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby12YXIgKi9cblxuZnVuY3Rpb24gaW5pdCAoY29udmVydGVyLCBkZWZhdWx0QXR0cmlidXRlcykge1xuICBmdW5jdGlvbiBzZXQgKG5hbWUsIHZhbHVlLCBhdHRyaWJ1dGVzKSB7XG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGF0dHJpYnV0ZXMgPSBhc3NpZ24oe30sIGRlZmF1bHRBdHRyaWJ1dGVzLCBhdHRyaWJ1dGVzKTtcblxuICAgIGlmICh0eXBlb2YgYXR0cmlidXRlcy5leHBpcmVzID09PSAnbnVtYmVyJykge1xuICAgICAgYXR0cmlidXRlcy5leHBpcmVzID0gbmV3IERhdGUoRGF0ZS5ub3coKSArIGF0dHJpYnV0ZXMuZXhwaXJlcyAqIDg2NGU1KTtcbiAgICB9XG4gICAgaWYgKGF0dHJpYnV0ZXMuZXhwaXJlcykge1xuICAgICAgYXR0cmlidXRlcy5leHBpcmVzID0gYXR0cmlidXRlcy5leHBpcmVzLnRvVVRDU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgbmFtZSA9IGVuY29kZVVSSUNvbXBvbmVudChuYW1lKVxuICAgICAgLnJlcGxhY2UoLyUoMlszNDZCXXw1RXw2MHw3QykvZywgZGVjb2RlVVJJQ29tcG9uZW50KVxuICAgICAgLnJlcGxhY2UoL1soKV0vZywgZXNjYXBlKTtcblxuICAgIHZhciBzdHJpbmdpZmllZEF0dHJpYnV0ZXMgPSAnJztcbiAgICBmb3IgKHZhciBhdHRyaWJ1dGVOYW1lIGluIGF0dHJpYnV0ZXMpIHtcbiAgICAgIGlmICghYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXSkge1xuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICBzdHJpbmdpZmllZEF0dHJpYnV0ZXMgKz0gJzsgJyArIGF0dHJpYnV0ZU5hbWU7XG5cbiAgICAgIGlmIChhdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdID09PSB0cnVlKSB7XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIC8vIENvbnNpZGVycyBSRkMgNjI2NSBzZWN0aW9uIDUuMjpcbiAgICAgIC8vIC4uLlxuICAgICAgLy8gMy4gIElmIHRoZSByZW1haW5pbmcgdW5wYXJzZWQtYXR0cmlidXRlcyBjb250YWlucyBhICV4M0IgKFwiO1wiKVxuICAgICAgLy8gICAgIGNoYXJhY3RlcjpcbiAgICAgIC8vIENvbnN1bWUgdGhlIGNoYXJhY3RlcnMgb2YgdGhlIHVucGFyc2VkLWF0dHJpYnV0ZXMgdXAgdG8sXG4gICAgICAvLyBub3QgaW5jbHVkaW5nLCB0aGUgZmlyc3QgJXgzQiAoXCI7XCIpIGNoYXJhY3Rlci5cbiAgICAgIC8vIC4uLlxuICAgICAgc3RyaW5naWZpZWRBdHRyaWJ1dGVzICs9ICc9JyArIGF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV0uc3BsaXQoJzsnKVswXTtcbiAgICB9XG5cbiAgICByZXR1cm4gKGRvY3VtZW50LmNvb2tpZSA9XG4gICAgICBuYW1lICsgJz0nICsgY29udmVydGVyLndyaXRlKHZhbHVlLCBuYW1lKSArIHN0cmluZ2lmaWVkQXR0cmlidXRlcylcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldCAobmFtZSkge1xuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnIHx8IChhcmd1bWVudHMubGVuZ3RoICYmICFuYW1lKSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gVG8gcHJldmVudCB0aGUgZm9yIGxvb3AgaW4gdGhlIGZpcnN0IHBsYWNlIGFzc2lnbiBhbiBlbXB0eSBhcnJheVxuICAgIC8vIGluIGNhc2UgdGhlcmUgYXJlIG5vIGNvb2tpZXMgYXQgYWxsLlxuICAgIHZhciBjb29raWVzID0gZG9jdW1lbnQuY29va2llID8gZG9jdW1lbnQuY29va2llLnNwbGl0KCc7ICcpIDogW107XG4gICAgdmFyIGphciA9IHt9O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29va2llcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHBhcnRzID0gY29va2llc1tpXS5zcGxpdCgnPScpO1xuICAgICAgdmFyIHZhbHVlID0gcGFydHMuc2xpY2UoMSkuam9pbignPScpO1xuXG4gICAgICB0cnkge1xuICAgICAgICB2YXIgZm91bmQgPSBkZWNvZGVVUklDb21wb25lbnQocGFydHNbMF0pO1xuICAgICAgICBqYXJbZm91bmRdID0gY29udmVydGVyLnJlYWQodmFsdWUsIGZvdW5kKTtcblxuICAgICAgICBpZiAobmFtZSA9PT0gZm91bmQpIHtcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cblxuICAgIHJldHVybiBuYW1lID8gamFyW25hbWVdIDogamFyXG4gIH1cblxuICByZXR1cm4gT2JqZWN0LmNyZWF0ZShcbiAgICB7XG4gICAgICBzZXQsXG4gICAgICBnZXQsXG4gICAgICByZW1vdmU6IGZ1bmN0aW9uIChuYW1lLCBhdHRyaWJ1dGVzKSB7XG4gICAgICAgIHNldChcbiAgICAgICAgICBuYW1lLFxuICAgICAgICAgICcnLFxuICAgICAgICAgIGFzc2lnbih7fSwgYXR0cmlidXRlcywge1xuICAgICAgICAgICAgZXhwaXJlczogLTFcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgIHdpdGhBdHRyaWJ1dGVzOiBmdW5jdGlvbiAoYXR0cmlidXRlcykge1xuICAgICAgICByZXR1cm4gaW5pdCh0aGlzLmNvbnZlcnRlciwgYXNzaWduKHt9LCB0aGlzLmF0dHJpYnV0ZXMsIGF0dHJpYnV0ZXMpKVxuICAgICAgfSxcbiAgICAgIHdpdGhDb252ZXJ0ZXI6IGZ1bmN0aW9uIChjb252ZXJ0ZXIpIHtcbiAgICAgICAgcmV0dXJuIGluaXQoYXNzaWduKHt9LCB0aGlzLmNvbnZlcnRlciwgY29udmVydGVyKSwgdGhpcy5hdHRyaWJ1dGVzKVxuICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgYXR0cmlidXRlczogeyB2YWx1ZTogT2JqZWN0LmZyZWV6ZShkZWZhdWx0QXR0cmlidXRlcykgfSxcbiAgICAgIGNvbnZlcnRlcjogeyB2YWx1ZTogT2JqZWN0LmZyZWV6ZShjb252ZXJ0ZXIpIH1cbiAgICB9XG4gIClcbn1cblxudmFyIGFwaSA9IGluaXQoZGVmYXVsdENvbnZlcnRlciwgeyBwYXRoOiAnLycgfSk7XG4vKiBlc2xpbnQtZW5hYmxlIG5vLXZhciAqL1xuXG5leHBvcnQgeyBhcGkgYXMgZGVmYXVsdCB9O1xuIiwiaW1wb3J0IGNvb2tpZXMgZnJvbSBcImpzLWNvb2tpZVwiO1xuY2xhc3MgTG9jYWxTdG9yYWdlIHtcbiAgc3RvcmFnZTogYW55ID0gd2luZG93LmxvY2FsU3RvcmFnZTtcblxuICBzZXQoa2V5OiBzdHJpbmcsIHZhbHVlOiBhbnksIG9wdGlvbnM/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9KSB7XG4gICAgdmFsdWUgPSBvcHRpb25zICYmIG9wdGlvbnMuaXNPYmplY3QgPyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkgOiB2YWx1ZTtcbiAgICByZXR1cm4gdGhpcy5zdG9yYWdlLnNldEl0ZW0oa2V5LCB2YWx1ZSk7XG4gIH1cbiAgZ2V0KGtleTogc3RyaW5nKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBKU09OLnBhcnNlKHRoaXMuc3RvcmFnZS5nZXRJdGVtKGtleSkpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICB9XG4gIH1cbn1cbmNsYXNzIENvb2tpZXNTdG9yYWdlIHtcbiAgc3RvcmFnZSA9IGNvb2tpZXM7XG5cbiAgc2V0KGtleTogc3RyaW5nLCB2YWx1ZTogYW55LCBvcHRpb25zPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfSkge1xuICAgIHZhbHVlID0gb3B0aW9ucyAmJiBvcHRpb25zLmlzT2JqZWN0ID8gSlNPTi5zdHJpbmdpZnkodmFsdWUpIDogdmFsdWU7XG4gICAgcmV0dXJuIHRoaXMuc3RvcmFnZS5zZXQoa2V5LCB2YWx1ZSk7XG4gIH1cbiAgZ2V0KGtleSkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gSlNPTi5wYXJzZSh0aGlzLnN0b3JhZ2UuZ2V0KGtleSkpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdG9yYWdlLmdldChrZXkpO1xuICAgIH1cbiAgfVxufVxuY2xhc3MgTG9jYWxTdG9yYWdlU2VydmljZSB7XG4gIC8vIHN0b3JhZ2UgPSBuZXcgTG9jYWxTdG9yYWdlKCk7XG4gIHN0b3JhZ2UgPSBuZXcgQ29va2llc1N0b3JhZ2UoKTtcbiAgbG9jYWxzdG9yYWdlID0gd2luZG93LmxvY2FsU3RvcmFnZTtcblxuICAvLyBrZXlzXG4gIGtleV9Hb29nbGVMb2dpblJlc3BvbnNlOiBzdHJpbmcgPSBcImtleV9Hb29nbGVMb2dpblJlc3BvbnNlXCI7XG5cbiAgc2V0R29vZ2xlTG9naW5SZXNwb25zZShkYXRhKSB7XG4gICAgdGhpcy5zdG9yYWdlLnNldCh0aGlzLmtleV9Hb29nbGVMb2dpblJlc3BvbnNlLCBKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gIH1cblxuICBnZXRHb29nbGVMb2dpblJlc3BvbnNlKCkge1xuICAgIHJldHVybiB0aGlzLnN0b3JhZ2UuZ2V0KHRoaXMua2V5X0dvb2dsZUxvZ2luUmVzcG9uc2UpO1xuICB9XG4gIGNsZWFyR29vZ2xlTG9naW5SZXNwb25zZSgpIHtcbiAgICByZXR1cm4gdGhpcy5sb2NhbHN0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLmtleV9Hb29nbGVMb2dpblJlc3BvbnNlKTtcbiAgfVxufVxuXG5jb25zdCBsb2NhbFN0b3JhZ2VTZXJ2aWNlID0gbmV3IExvY2FsU3RvcmFnZVNlcnZpY2UoKTtcblxuZXhwb3J0IGRlZmF1bHQgbG9jYWxTdG9yYWdlU2VydmljZTtcbiIsImltcG9ydCB7XG4gIEV2ZW50Q2F0ZWdvcnksXG4gIE1hdG9tb0FQSVJlc3BvbnNlLFxuICBNYXRvbW9NZXRob2QsXG4gIE1hdG9tb01ldGhvZFBhcmFtcyxcbiAgVE1hdG9tb0NvbmZpZyxcbn0gZnJvbSBcIi4uL3R5cGVzXCI7XG5pbXBvcnQgeyBFdmVudHNNZXRob2RzIH0gZnJvbSBcIi4vZXZlbnRzL2V2ZW50XCI7XG5pbXBvcnQgeyBtZXJnZUV2ZW50c1BlckNhdGVnb3JpZXMgfSBmcm9tIFwiLi9ldmVudHMvaGVscGVyc1wiO1xuaW1wb3J0IGh0dHBDbGllbnQgZnJvbSBcIkBzcmMvZGVwcy9odHRwLWNsaWVudFwiO1xuXG5leHBvcnQgY29uc3QgbWF0bW9TZWdtZW50T3BlcmF0b3JzID0ge1xuICBPUjogXCIsXCIsXG4gIEFORDogXCI7XCIsXG59O1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWF0b21vQ2xpZW50Q29yZSB7XG4gIG1hdG9tb0NvbmZpZ3MhOiBUTWF0b21vQ29uZmlnO1xuICBjb25zdHJ1Y3RvcihkYXRhOiBUTWF0b21vQ29uZmlnKSB7XG4gICAgdGhpcy5pbml0Q29uZmlnKGRhdGEpO1xuICB9XG5cbiAgcHJpdmF0ZSBpbml0Q29uZmlnKGRhdGE6IFRNYXRvbW9Db25maWcpIHtcbiAgICBjb25zb2xlLmxvZyhcImRhdGFcIiwgZGF0YSk7XG4gICAgdGhpcy5tYXRvbW9Db25maWdzID0gZGF0YTtcbiAgfVxuXG4gIGNyZWF0ZU1hdG9tb0FQSVJlcXVlc3QobWV0aG9kOiBzdHJpbmcpOiBNYXRvbW9NZXRob2Qge1xuICAgIHJldHVybiBhc3luYyAocGFyYW1zOiBNYXRvbW9NZXRob2RQYXJhbXMpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghdGhpcy5tYXRvbW9Db25maWdzKVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlBsZWFzZSBzZXQgbWF0b21vIGNvbmZpZ3MgYW5kIHJldHJ5XCIpO1xuICAgICAgICBjb25zdCBiYXNlVXJsID0gdGhpcy5tYXRvbW9Db25maWdzLmJhc2VVcmw7XG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgIG1vZHVsZTogXCJBUElcIixcbiAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgaWRTaXRlOiB0aGlzLm1hdG9tb0NvbmZpZ3MuaWRTaXRlLFxuICAgICAgICAgIHRva2VuX2F1dGg6IHRoaXMubWF0b21vQ29uZmlncy50b2tlbkF1dGgsXG4gICAgICAgICAgZm9ybWF0OiBcImpzb25cIixcbiAgICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBodHRwQ2xpZW50LmdldChiYXNlVXJsLCB7IHBhcmFtczogcXVlcnlQYXJhbXMgfSk7XG4gICAgICAgIGlmIChyZXNwb25zZT8uZGF0YT8ucmVzdWx0ID09PSBcImVycm9yXCIpIHRocm93IHsgLi4ucmVzcG9uc2U/LmRhdGEgfTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgbWFraW5nIE1hdG9tbyBBUEkgcmVxdWVzdDpcIiwgZXJyb3IpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgYXN5bmMgZ2V0RXZlbnRzQ2F0ZWdvcnkoXG4gICAgcGFyYW1zOiBNYXRvbW9NZXRob2RQYXJhbXNcbiAgKTogUHJvbWlzZTxSZWNvcmQ8c3RyaW5nLCBFdmVudENhdGVnb3J5Pj4ge1xuICAgIGNvbnN0IHJlcXVlc3QgPSB0aGlzLmNyZWF0ZU1hdG9tb0FQSVJlcXVlc3QoRXZlbnRzTWV0aG9kcy5nZXRDYXRlZ29yeSk7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVxdWVzdChwYXJhbXMpO1xuICAgIHJldHVybiBtZXJnZUV2ZW50c1BlckNhdGVnb3JpZXMocmVzdWx0KTtcbiAgfVxuICBhc3luYyBnZXRFdmVudHNBY3Rpb24oXG4gICAgcGFyYW1zOiBNYXRvbW9NZXRob2RQYXJhbXNcbiAgKTogUHJvbWlzZTxNYXRvbW9BUElSZXNwb25zZT4ge1xuICAgIGNvbnN0IHJlcXVlc3QgPSB0aGlzLmNyZWF0ZU1hdG9tb0FQSVJlcXVlc3QoRXZlbnRzTWV0aG9kcy5nZXRBY3Rpb24pO1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcXVlc3QocGFyYW1zKTtcbiAgICByZXR1cm4gbWVyZ2VFdmVudHNQZXJDYXRlZ29yaWVzKHJlc3VsdCk7XG4gIH1cbiAgYXN5bmMgZ2V0RXZlbnRzTmFtZShwYXJhbXM6IE1hdG9tb01ldGhvZFBhcmFtcyk6IFByb21pc2U8TWF0b21vQVBJUmVzcG9uc2U+IHtcbiAgICBjb25zdCByZXF1ZXN0ID0gdGhpcy5jcmVhdGVNYXRvbW9BUElSZXF1ZXN0KEV2ZW50c01ldGhvZHMuZ2V0TmFtZSk7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVxdWVzdChwYXJhbXMpO1xuICAgIHJldHVybiBtZXJnZUV2ZW50c1BlckNhdGVnb3JpZXMocmVzdWx0KTtcbiAgfVxuXG59XG4iLCJpbXBvcnQgeyBNYXRvbW9NZXRob2QgfSBmcm9tIFwiLi4vLi4vdHlwZXNcIjtcbmltcG9ydCBtYXRvbW9DbGllbnRDb3JlIGZyb20gXCIuLi9jb3JlXCI7XG5cbmV4cG9ydCBjb25zdCBFdmVudHNNZXRob2RzID0ge1xuICBnZXRDYXRlZ29yeTogXCJFdmVudHMuZ2V0Q2F0ZWdvcnlcIixcbiAgZ2V0QWN0aW9uOiBcIkV2ZW50cy5nZXRBY3Rpb25cIixcbiAgZ2V0TmFtZTogXCJFdmVudHMuZ2V0TmFtZVwiLFxufTtcbmV4cG9ydCBjb25zdCBFdmVudHNTZWdtZW50cyA9IHtcbiAgZXZlbnRDYXRlZ29yeTogXCJldmVudENhdGVnb3J5XCIsXG59O1xuXG4vLyBleHBvcnQgY29uc3QgZ2V0RXZlbnRzQ2F0ZWdvcnk6IE1hdG9tb01ldGhvZCA9XG4vLyAgIG1hdG9tb0NsaWVudENvcmUuY3JlYXRlTWF0b21vQVBJUmVxdWVzdChldmVudHNOYW1lcy5nZXRDYXRlZ29yeSk7XG4vLyBleHBvcnQgY29uc3QgZ2V0RXZlbnRzQWN0aW9uOiBNYXRvbW9NZXRob2QgPVxuLy8gICBtYXRvbW9DbGllbnRDb3JlLmNyZWF0ZU1hdG9tb0FQSVJlcXVlc3QoZXZlbnRzTmFtZXMuZ2V0QWN0aW9uKTtcbi8vIGV4cG9ydCBjb25zdCBnZXRFdmVudHNOYW1lOiBNYXRvbW9NZXRob2QgPVxuLy8gICBtYXRvbW9DbGllbnRDb3JlLmNyZWF0ZU1hdG9tb0FQSVJlcXVlc3QoZXZlbnRzTmFtZXMuZ2V0TmFtZSk7XG4iLCJpbXBvcnQgeyBFdmVudENhdGVnb3J5IH0gZnJvbSBcIkBzcmMvbGliL21hdG9tby90eXBlc1wiO1xuXG5leHBvcnQgY29uc3QgbWVyZ2VFdmVudHNQZXJDYXRlZ29yaWVzID0gKFxuICAgIGNhdGVnb3JpZXM6IFJlY29yZDxzdHJpbmcsIEV2ZW50Q2F0ZWdvcnlbXT5cbiAgKTogUmVjb3JkPHN0cmluZywgRXZlbnRDYXRlZ29yeT4gPT4ge1xuICAgIGNvbnN0IG1lcmdlZDogUmVjb3JkPHN0cmluZywgRXZlbnRDYXRlZ29yeT4gPSB7fTtcblxuICAgIGZvciAoY29uc3QgZGF0ZSBpbiBjYXRlZ29yaWVzKSB7XG4gICAgICBjb25zdCBldmVudHMgPSBjYXRlZ29yaWVzW2RhdGVdO1xuICAgICAgZm9yIChjb25zdCBldmVudCBvZiBldmVudHMpIHtcbiAgICAgICAgY29uc3QgeyBsYWJlbCwgLi4ucmVzdCB9ID0gZXZlbnQ7XG4gICAgICAgIGlmIChtZXJnZWRbbGFiZWxdKSB7XG4gICAgICAgICAgbWVyZ2VkW2xhYmVsXSA9IHtcbiAgICAgICAgICAgIC4uLm1lcmdlZFtsYWJlbF0sXG4gICAgICAgICAgICAuLi5yZXN0LFxuICAgICAgICAgICAgbmJfdmlzaXRzOiBtZXJnZWRbbGFiZWxdLm5iX3Zpc2l0cyArIGV2ZW50Lm5iX3Zpc2l0cyxcbiAgICAgICAgICAgIG5iX2V2ZW50czogbWVyZ2VkW2xhYmVsXS5uYl9ldmVudHMgKyBldmVudC5uYl9ldmVudHMsXG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtZXJnZWRbbGFiZWxdID0geyAuLi5yZXN0IH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbWVyZ2VkO1xuICB9OyIsImltcG9ydCB7XG4gIFNob3BpbnplbkFuYWx5dGljc0NsaWVudCxcbiAgVEdldEV2ZW50Q291bnRQYXJhbXMsXG4gIFRQZXJpb2QsXG59IGZyb20gXCJAc3JjL3R5cGVzXCI7XG5pbXBvcnQgeyBNYXRvbW9NZXRob2RQYXJhbXMsIFRNYXRvbW9Db25maWcgfSBmcm9tIFwiLi90eXBlc1wiO1xuaW1wb3J0IE1hdG9tb0NsaWVudENvcmUsIHsgbWF0bW9TZWdtZW50T3BlcmF0b3JzIH0gZnJvbSBcIi4vYXBpL2NvcmVcIjtcbmltcG9ydCB7IGNoZWNrUGVyaW9kIH0gZnJvbSBcIkBzcmMvdXRpbHNcIjtcbmltcG9ydCB7IEV2ZW50c1NlZ21lbnRzIH0gZnJvbSBcIi4vYXBpL2V2ZW50cy9ldmVudFwiO1xuZXhwb3J0ICogZnJvbSBcIkBzcmMvdHlwZXNcIjtcbmZ1bmN0aW9uIGdldE1hb3RvbW9EYXRlRnJvbVBlcmlvZChwZXJpb2Q6IFRQZXJpb2QpIHtcbiAgY2hlY2tQZXJpb2QocGVyaW9kKTtcbiAgY29uc3QgeyBmb3JtYXQsIG1hZ2ljVmFsdWUsIHZhbHVlIH0gPSBwZXJpb2Q7XG4gIGlmIChmb3JtYXQgPT09IFwibWFnaWNcIikge1xuICAgIHJldHVybiBcImxhc3RcIiArIG1hZ2ljVmFsdWU7XG4gIH1cbiAgcmV0dXJuIGAke3ZhbHVlLnN0YXJ0fSR7dmFsdWUuZW5kID8gXCIsXCIgOiBcIlwifSR7dmFsdWUuZW5kfWA7XG59XG5leHBvcnQgY2xhc3MgTWF0b21vQ2xpZW50RmFjYWRlIGV4dGVuZHMgU2hvcGluemVuQW5hbHl0aWNzQ2xpZW50IHtcbiAgbWF0b21vQ2xpZW50Q29yZSE6IE1hdG9tb0NsaWVudENvcmU7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IFRNYXRvbW9Db25maWcpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMubWF0b21vQ2xpZW50Q29yZSA9IG5ldyBNYXRvbW9DbGllbnRDb3JlKG9wdGlvbnMpO1xuICB9XG5cbiAgYXN5bmMgZ2V0RXZlbnRDb3VudChkYXRhOiBUR2V0RXZlbnRDb3VudFBhcmFtcyk6IFByb21pc2U8YW55PiB7XG4gICAgY29uc3QgeyBldmVudHMsIHBlcmlvZCwgbWF0b21vOiB7fSA9IHt9IH0gPSBkYXRhO1xuICAgIGNoZWNrUGVyaW9kKHBlcmlvZCk7XG4gICAgY29uc3QgeyBPUiB9ID0gbWF0bW9TZWdtZW50T3BlcmF0b3JzO1xuICAgIGNvbnN0IHsgZXZlbnRDYXRlZ29yeSB9ID0gRXZlbnRzU2VnbWVudHM7XG4gICAgbGV0IHNlZ21lbnQgPSBcInNlZ21lbnQ9XCI7XG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGV2ZW50cy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBldmVudHNbaW5kZXhdO1xuICAgICAgc2VnbWVudCArPSBgJHtldmVudENhdGVnb3J5fT09JHtlbGVtZW50Lm5hbWV9JHtpbmRleCA8IGV2ZW50cy5sZW5ndGggPyBPUiA6IFwiXCJ9YDtcbiAgICB9XG4gICAgY29uc3QgcGFyYW1zOiBNYXRvbW9NZXRob2RQYXJhbXMgPSB7XG4gICAgICBwZXJpb2Q6IFwiZGF5XCIsXG4gICAgICBkYXRlOiBnZXRNYW90b21vRGF0ZUZyb21QZXJpb2QocGVyaW9kKSxcbiAgICAgIC8vIHNlZ21lbnRcbiAgICB9O1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyhyZXNvbHZlLCByZWplY3QpPT57XG4gICAgICBhd2FpdCB0aGlzLm1hdG9tb0NsaWVudENvcmUuZ2V0RXZlbnRzQ2F0ZWdvcnkocGFyYW1zKS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGV2ZW50cy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgIGNvbnN0IGtleT0gZXZlbnRzW2luZGV4XS5uYW1lXG4gICAgICAgICAgcmVzdWx0W2tleV0gPSByZXNwb25zZVtrZXldPy5uYl9ldmVudHMgfHwgMDtcbiAgICAgICAgfVxuICAgICAgICByZXNvbHZlKHJlc3VsdClcbiAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgcmVqZWN0KGVycilcbiAgICAgIH0pO1xuICAgIH0pXG4gIH1cbn1cbiIsImltcG9ydCB7IFBlcmlvZCB9IGZyb20gXCJAc3JjL2xpYi9tYXRvbW8vdHlwZXNcIjtcblxuZXhwb3J0IGNsYXNzIFNob3BpbnplbkFuYWx5dGljc0NsaWVudCB7XG4gIGFzeW5jIGdldFZpc2l0c1BlclBlcmlvZChkYXRhOiBUR2V0VmlzaXRzUGFyYW1zKSB7fVxuXG4gIGFzeW5jIGdldEV2ZW50Q291bnQoZGF0YTogVEdldEV2ZW50Q291bnRQYXJhbXMpIHt9XG59XG5cbmV4cG9ydCB0eXBlIFRHZXRWaXNpdHNQYXJhbXMgPSB7XG4gIHBlcmlvZDogVFBlcmlvZDtcbiAgZ2E0PzogeyBwcm9wZXJ0eTogc3RyaW5nOyBmb3JtYXQ/OiBzdHJpbmcgfTtcbn07XG5leHBvcnQgdHlwZSBUR2V0RXZlbnRDb3VudFBhcmFtcyA9IHtcbiAgZXZlbnRzOiBBbmFseXRpY3NFdmVudHNbXTtcbiAgcGVyaW9kOiBUUGVyaW9kO1xuICBnYTQ/OiB7IHByb3BlcnR5OiBzdHJpbmc7IGZvcm1hdD86IHN0cmluZyB9O1xuICBtYXRvbW8/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xufTtcblxuZXhwb3J0IHR5cGUgQW5hbHl0aWNzRXZlbnRzID0ge1xuICBuYW1lOiBzdHJpbmc7XG4gIG1ldGE/OiB7XG4gICAgZ2E0Pzoge1xuICAgICAgY29udmVyc2lvbj86IGJvb2xlYW47XG4gICAgICBba2V5OiBzdHJpbmddOiBhbnk7XG4gICAgfTtcbiAgICBtYXRvbW8/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICB9O1xufTtcblxuZXhwb3J0IHR5cGUgRGF0ZUludGVydmFsID0ge1xuICBmcm9tOiBzdHJpbmcgfCBudWxsO1xuICB0bzogc3RyaW5nO1xufTtcblxuZXhwb3J0IHR5cGUgVFBlcmlvZCA9IHtcbiAgZm9ybWF0OiBcIm1hZ2ljXCIgfCBcImRhdGVcIjtcbiAgbWFnaWNWYWx1ZTogc3RyaW5nIHwgbnVtYmVyO1xuICB2YWx1ZToge1xuICAgIHN0YXJ0Pzogc3RyaW5nO1xuICAgIGVuZD86IHN0cmluZztcbiAgfTtcbn07XG4iLCJpbXBvcnQgeyBUUGVyaW9kIH0gZnJvbSBcIkBzcmMvdHlwZXNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrUGVyaW9kKHBlcmlvZDogVFBlcmlvZCkge1xuICBjb25zdCB7IGZvcm1hdCwgdmFsdWUsIG1hZ2ljVmFsdWUgfSA9IHBlcmlvZDtcbiAgaWYgKCFmb3JtYXQpIHRocm93IG5ldyBFcnJvcihcInBlcmlvZCBmb3JtYXQgaXMgcmVxdWlyZWRcIik7XG4gIGlmIChmb3JtYXQgPT09IFwibWFnaWNcIikge1xuICAgIC8vIGlmICh0eXBlICE9PSBcImRheVwiKSB7XG4gICAgLy8gICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgLy8gICAgIFwiVW5leHBlY3RlZCBQZXJpb2QgdHlwZSBmb3IgZm9ybWF0IG1hZ2ljLiBvbmx5ICdkYXknIGlzIHN1cG9ydGVkXCJcbiAgICAvLyAgICk7XG4gICAgLy8gfVxuICAgIGlmICh0eXBlb2YgbWFnaWNWYWx1ZSAhPT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgbWFnaWNWYWx1ZSAhPT0gXCJudW1iZXJcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIiB1bmV4cGVjdGVkIG1hZ2ljVmFsdWUgXCIrbWFnaWNWYWx1ZStcIiBmb3IgZm9ybWF0IG1hZ2ljLiBNdXN0IGJlIHN0cmluZ3xudW1iZXJcIlxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgaWYgKGZvcm1hdCA9PT0gXCJkYXRlXCIpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiIHx8ICF2YWx1ZS5zdGFydClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCIgdW5leHBlY3RlZCBwZXJpb2QgdmFsdWUgZm9yIGZvcm1hdCBkYXRlLiBtdXN0IGJlIG9mIHR5cGUge3N0YXJ0OnN0cmluZywgZW5kOnN0cmluZ31cIlxuICAgICAgKTtcbiAgfVxuXG4gIC8vIFRPRE86OiBjaGVjayBpZiBpcyB2YWxpZCBkYXRlXG59XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgZGVmaW5pdGlvbikge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmosIHByb3ApIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApOyB9IiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJpbXBvcnQgeyBHQTRDbGllbnRGYWNhZGUgfSBmcm9tIFwiLi9saWIvZ2FwaVwiO1xuaW1wb3J0IHsgR2FwaUluaXRpYWxpemF0aW9uUGFyYW1zIH0gZnJvbSBcIi4vbGliL2dhcGkvdHlwZXNcIjtcbmltcG9ydCB7IE1hdG9tb0NsaWVudEZhY2FkZSB9IGZyb20gXCIuL2xpYi9tYXRvbW9cIjtcbmltcG9ydCB7IFRNYXRvbW9Db25maWcgfSBmcm9tIFwiLi9saWIvbWF0b21vL3R5cGVzXCI7XG5pbXBvcnQge1xuICBEYXRlSW50ZXJ2YWwsXG4gIEFuYWx5dGljc0V2ZW50cyxcbiAgVEdldEV2ZW50Q291bnRQYXJhbXMsXG4gIFRHZXRWaXNpdHNQYXJhbXMsXG59IGZyb20gXCIuL3R5cGVzXCI7XG5cbmNvbnN0IGNsaWVudHMgPSB7XG4gIG1hdG9tbzogTWF0b21vQ2xpZW50RmFjYWRlLFxuICBnYTQ6IEdBNENsaWVudEZhY2FkZSxcbn07XG50eXBlIENsaWVudFR5cGUgPSBrZXlvZiB0eXBlb2YgY2xpZW50cztcblxuZXhwb3J0IGNsYXNzIFNob3BpbnplbkFuYWx5dGljcyB7XG4gIGNsaWVudFR5cGUhOiBDbGllbnRUeXBlO1xuICBwcml2YXRlIGFjdGl2ZUNsaWVudCE6IEdBNENsaWVudEZhY2FkZSB8IE1hdG9tb0NsaWVudEZhY2FkZTtcblxuICBjb25zdHJ1Y3RvcigpIHsgfVxuXG4gIC8vIGdhNFxuICBpbml0R0E0KHBhcmFtczogR2FwaUluaXRpYWxpemF0aW9uUGFyYW1zKSB7XG4gICAgdGhpcy5jbGllbnRUeXBlID0gXCJnYTRcIjtcbiAgICB0aGlzLmFjdGl2ZUNsaWVudCA9IG5ldyBHQTRDbGllbnRGYWNhZGUocGFyYW1zKTtcbiAgfVxuICBnZXQgZ2E0VXRpbHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxpc3RBY2NvdW50czogKHRoaXMuYWN0aXZlQ2xpZW50IGFzIEdBNENsaWVudEZhY2FkZSkubGlzdEFjY291bnRzLFxuICAgICAgaXNJbml0aWFsaXppbmc6ICh0aGlzLmFjdGl2ZUNsaWVudCBhcyBHQTRDbGllbnRGYWNhZGUpLmdhcGlTZXJ2aWNlLmluaXRpYWxpemF0aW9uUGVuZGluZyxcbiAgICAgIHNlcnZpY2U6ICh0aGlzLmFjdGl2ZUNsaWVudCBhcyBHQTRDbGllbnRGYWNhZGUpLmdhcGlTZXJ2aWNlXG4gICAgfTtcbiAgfVxuXG4gIC8vIE1hdG9tb1xuICBpbml0TWF0b21vKHBhcmFtczogVE1hdG9tb0NvbmZpZykge1xuICAgIHRoaXMuY2xpZW50VHlwZSA9IFwibWF0b21vXCI7XG4gICAgdGhpcy5hY3RpdmVDbGllbnQgPSBuZXcgTWF0b21vQ2xpZW50RmFjYWRlKHBhcmFtcyk7XG4gIH1cblxuICAvLyBjb21tb25cbiAgYXN5bmMgZ2V0VmlzaXRzUGVyUGVyaW9kKHBhcmFtczogVEdldFZpc2l0c1BhcmFtcykge1xuICAgIHRoaXMuY2hlY2tJZlJlYWR5KCk7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuYWN0aXZlQ2xpZW50LmdldFZpc2l0c1BlclBlcmlvZChwYXJhbXMpO1xuICB9XG5cbiAgYXN5bmMgZ2V0RXZlbnRDb3VudChwYXJhbXM6IFRHZXRFdmVudENvdW50UGFyYW1zKSB7XG4gICAgdGhpcy5jaGVja0lmUmVhZHkoKTtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5hY3RpdmVDbGllbnQuZ2V0RXZlbnRDb3VudChwYXJhbXMpO1xuICB9XG5cbiAgY2hlY2tJZlJlYWR5KCkge1xuICAgIGlmICghdGhpcy5hY3RpdmVDbGllbnQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNsaWVudCBpc250IHNldC5cIik7XG4gICAgfVxuICB9XG5cblxuXG4gIHB1YmxpYyBjbG9uZSgpOiBTaG9waW56ZW5BbmFseXRpY3Mge1xuICAgIGNvbnN0IGluc3RhbmNlID0gbmV3IFNob3BpbnplbkFuYWx5dGljcygpO1xuICAgIGNvbnN0IGFjdHVhbFRoaXMgPSB0aGlzXG4gICAgT2JqZWN0LmtleXMoYWN0dWFsVGhpcykubWFwKGUgPT4ge1xuICAgICAgaW5zdGFuY2VbZV0gPSBhY3R1YWxUaGlzW2VdXG4gICAgfSlcbiAgICByZXR1cm4gaW5zdGFuY2VcbiAgfVxufVxuIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsImEiLCJpIiwic2VsZiIsImJpbmQiLCJmbiIsInRoaXNBcmciLCJhcHBseSIsImFyZ3VtZW50cyIsInRvU3RyaW5nIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiZ2V0UHJvdG90eXBlT2YiLCJraW5kT2YiLCJjYWNoZSIsImNyZWF0ZSIsInRoaW5nIiwic3RyIiwiY2FsbCIsInNsaWNlIiwidG9Mb3dlckNhc2UiLCJraW5kT2ZUZXN0IiwidHlwZSIsInR5cGVPZlRlc3QiLCJpc0FycmF5IiwiQXJyYXkiLCJpc1VuZGVmaW5lZCIsImlzQXJyYXlCdWZmZXIiLCJpc1N0cmluZyIsImlzRnVuY3Rpb24iLCJpc051bWJlciIsImlzT2JqZWN0IiwiaXNQbGFpbk9iamVjdCIsInZhbCIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwiaXRlcmF0b3IiLCJpc0RhdGUiLCJpc0ZpbGUiLCJpc0Jsb2IiLCJpc0ZpbGVMaXN0IiwiaXNVUkxTZWFyY2hQYXJhbXMiLCJmb3JFYWNoIiwib2JqIiwiYWxsT3duS2V5cyIsImwiLCJsZW5ndGgiLCJrZXlzIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImxlbiIsImtleSIsImZpbmRLZXkiLCJfa2V5IiwiX2dsb2JhbCIsImdsb2JhbFRoaXMiLCJ3aW5kb3ciLCJnbG9iYWwiLCJpc0NvbnRleHREZWZpbmVkIiwiY29udGV4dCIsImlzVHlwZWRBcnJheSIsIlR5cGVkQXJyYXkiLCJVaW50OEFycmF5IiwiaXNIVE1MRm9ybSIsImhhc093blByb3BlcnR5IiwicHJvcCIsImlzUmVnRXhwIiwicmVkdWNlRGVzY3JpcHRvcnMiLCJyZWR1Y2VyIiwiZGVzY3JpcHRvcnMiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwicmVkdWNlZERlc2NyaXB0b3JzIiwiZGVzY3JpcHRvciIsIm5hbWUiLCJyZXQiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiQUxQSEEiLCJESUdJVCIsIkFMUEhBQkVUIiwiQUxQSEFfRElHSVQiLCJ0b1VwcGVyQ2FzZSIsImlzQXN5bmNGbiIsImlzQnVmZmVyIiwiY29uc3RydWN0b3IiLCJpc0Zvcm1EYXRhIiwia2luZCIsIkZvcm1EYXRhIiwiYXBwZW5kIiwiaXNBcnJheUJ1ZmZlclZpZXciLCJyZXN1bHQiLCJBcnJheUJ1ZmZlciIsImlzVmlldyIsImJ1ZmZlciIsImlzQm9vbGVhbiIsImlzU3RyZWFtIiwicGlwZSIsIm1lcmdlIiwiY2FzZWxlc3MiLCJ0aGlzIiwiYXNzaWduVmFsdWUiLCJ0YXJnZXRLZXkiLCJleHRlbmQiLCJiIiwidHJpbSIsInJlcGxhY2UiLCJzdHJpcEJPTSIsImNvbnRlbnQiLCJjaGFyQ29kZUF0IiwiaW5oZXJpdHMiLCJzdXBlckNvbnN0cnVjdG9yIiwicHJvcHMiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiYXNzaWduIiwidG9GbGF0T2JqZWN0Iiwic291cmNlT2JqIiwiZGVzdE9iaiIsImZpbHRlciIsInByb3BGaWx0ZXIiLCJtZXJnZWQiLCJlbmRzV2l0aCIsInNlYXJjaFN0cmluZyIsInBvc2l0aW9uIiwiU3RyaW5nIiwidW5kZWZpbmVkIiwibGFzdEluZGV4IiwiaW5kZXhPZiIsInRvQXJyYXkiLCJhcnIiLCJmb3JFYWNoRW50cnkiLCJuZXh0IiwiZG9uZSIsInBhaXIiLCJtYXRjaEFsbCIsInJlZ0V4cCIsIm1hdGNoZXMiLCJleGVjIiwicHVzaCIsImhhc093blByb3AiLCJmcmVlemVNZXRob2RzIiwiZW51bWVyYWJsZSIsIndyaXRhYmxlIiwic2V0IiwiRXJyb3IiLCJ0b09iamVjdFNldCIsImFycmF5T3JTdHJpbmciLCJkZWxpbWl0ZXIiLCJzcGxpdCIsInRvQ2FtZWxDYXNlIiwibSIsInAxIiwicDIiLCJub29wIiwidG9GaW5pdGVOdW1iZXIiLCJkZWZhdWx0VmFsdWUiLCJOdW1iZXIiLCJpc0Zpbml0ZSIsImdlbmVyYXRlU3RyaW5nIiwic2l6ZSIsImFscGhhYmV0IiwiTWF0aCIsInJhbmRvbSIsImlzU3BlY0NvbXBsaWFudEZvcm0iLCJ0b0pTT05PYmplY3QiLCJzdGFjayIsInZpc2l0Iiwic291cmNlIiwidGFyZ2V0IiwicmVkdWNlZFZhbHVlIiwiaXNUaGVuYWJsZSIsInRoZW4iLCJjYXRjaCIsIkF4aW9zRXJyb3IiLCJtZXNzYWdlIiwiY29kZSIsImNvbmZpZyIsInJlcXVlc3QiLCJyZXNwb25zZSIsImNhcHR1cmVTdGFja1RyYWNlIiwidXRpbHMiLCJ0b0pTT04iLCJkZXNjcmlwdGlvbiIsIm51bWJlciIsImZpbGVOYW1lIiwibGluZU51bWJlciIsImNvbHVtbk51bWJlciIsInN0YXR1cyIsImZyb20iLCJlcnJvciIsImN1c3RvbVByb3BzIiwiYXhpb3NFcnJvciIsImNhdXNlIiwiaXNWaXNpdGFibGUiLCJyZW1vdmVCcmFja2V0cyIsInJlbmRlcktleSIsInBhdGgiLCJkb3RzIiwiY29uY2F0IiwibWFwIiwidG9rZW4iLCJqb2luIiwicHJlZGljYXRlcyIsInRlc3QiLCJmb3JtRGF0YSIsIm9wdGlvbnMiLCJUeXBlRXJyb3IiLCJtZXRhVG9rZW5zIiwiaW5kZXhlcyIsIm9wdGlvbiIsInZpc2l0b3IiLCJkZWZhdWx0VmlzaXRvciIsInVzZUJsb2IiLCJCbG9iIiwiY29udmVydFZhbHVlIiwidG9JU09TdHJpbmciLCJCdWZmZXIiLCJKU09OIiwic3RyaW5naWZ5Iiwic29tZSIsImlzRmxhdEFycmF5IiwiZWwiLCJpbmRleCIsImV4cG9zZWRIZWxwZXJzIiwiYnVpbGQiLCJwb3AiLCJlbmNvZGUiLCJjaGFyTWFwIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwibWF0Y2giLCJBeGlvc1VSTFNlYXJjaFBhcmFtcyIsInBhcmFtcyIsIl9wYWlycyIsImVuY29kZXIiLCJfZW5jb2RlIiwiYnVpbGRVUkwiLCJ1cmwiLCJzZXJpYWxpemVGbiIsInNlcmlhbGl6ZSIsInNlcmlhbGl6ZWRQYXJhbXMiLCJoYXNobWFya0luZGV4IiwiaGFuZGxlcnMiLCJ1c2UiLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsInN5bmNocm9ub3VzIiwicnVuV2hlbiIsImVqZWN0IiwiaWQiLCJjbGVhciIsImgiLCJzaWxlbnRKU09OUGFyc2luZyIsImZvcmNlZEpTT05QYXJzaW5nIiwiY2xhcmlmeVRpbWVvdXRFcnJvciIsImlzQnJvd3NlciIsImNsYXNzZXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJwcm90b2NvbHMiLCJoYXNCcm93c2VyRW52IiwiZG9jdW1lbnQiLCJoYXNTdGFuZGFyZEJyb3dzZXJFbnYiLCJwcm9kdWN0IiwibmF2aWdhdG9yIiwiaGFzU3RhbmRhcmRCcm93c2VyV2ViV29ya2VyRW52IiwiV29ya2VyR2xvYmFsU2NvcGUiLCJpbXBvcnRTY3JpcHRzIiwiYnVpbGRQYXRoIiwiaXNOdW1lcmljS2V5IiwiaXNMYXN0IiwiYXJyYXlUb09iamVjdCIsImVudHJpZXMiLCJwYXJzZVByb3BQYXRoIiwiZGVmYXVsdHMiLCJ0cmFuc2l0aW9uYWwiLCJhZGFwdGVyIiwidHJhbnNmb3JtUmVxdWVzdCIsImRhdGEiLCJoZWFkZXJzIiwiY29udGVudFR5cGUiLCJnZXRDb250ZW50VHlwZSIsImhhc0pTT05Db250ZW50VHlwZSIsImlzT2JqZWN0UGF5bG9hZCIsInNldENvbnRlbnRUeXBlIiwicGxhdGZvcm0iLCJoZWxwZXJzIiwiaXNOb2RlIiwidG9VUkxFbmNvZGVkRm9ybSIsImZvcm1TZXJpYWxpemVyIiwiX0Zvcm1EYXRhIiwiZW52IiwicmF3VmFsdWUiLCJwYXJzZXIiLCJwYXJzZSIsImUiLCJzdHJpbmdpZnlTYWZlbHkiLCJ0cmFuc2Zvcm1SZXNwb25zZSIsIkpTT05SZXF1ZXN0ZWQiLCJyZXNwb25zZVR5cGUiLCJzdHJpY3RKU09OUGFyc2luZyIsIkVSUl9CQURfUkVTUE9OU0UiLCJ0aW1lb3V0IiwieHNyZkNvb2tpZU5hbWUiLCJ4c3JmSGVhZGVyTmFtZSIsIm1heENvbnRlbnRMZW5ndGgiLCJtYXhCb2R5TGVuZ3RoIiwidmFsaWRhdGVTdGF0dXMiLCJjb21tb24iLCJtZXRob2QiLCJpZ25vcmVEdXBsaWNhdGVPZiIsIiRpbnRlcm5hbHMiLCJub3JtYWxpemVIZWFkZXIiLCJoZWFkZXIiLCJub3JtYWxpemVWYWx1ZSIsIm1hdGNoSGVhZGVyVmFsdWUiLCJpc0hlYWRlck5hbWVGaWx0ZXIiLCJBeGlvc0hlYWRlcnMiLCJ2YWx1ZU9yUmV3cml0ZSIsInJld3JpdGUiLCJzZXRIZWFkZXIiLCJfdmFsdWUiLCJfaGVhZGVyIiwiX3Jld3JpdGUiLCJsSGVhZGVyIiwic2V0SGVhZGVycyIsInJhd0hlYWRlcnMiLCJwYXJzZWQiLCJsaW5lIiwic3Vic3RyaW5nIiwicGFyc2VIZWFkZXJzIiwiZ2V0IiwidG9rZW5zIiwidG9rZW5zUkUiLCJwYXJzZVRva2VucyIsImhhcyIsIm1hdGNoZXIiLCJkZWxldGVkIiwiZGVsZXRlSGVhZGVyIiwibm9ybWFsaXplIiwiZm9ybWF0Iiwibm9ybWFsaXplZCIsInciLCJjaGFyIiwiZm9ybWF0SGVhZGVyIiwidGFyZ2V0cyIsImFzU3RyaW5ncyIsImZpcnN0IiwiY29tcHV0ZWQiLCJhY2Nlc3NvciIsImFjY2Vzc29ycyIsImRlZmluZUFjY2Vzc29yIiwiYWNjZXNzb3JOYW1lIiwibWV0aG9kTmFtZSIsImFyZzEiLCJhcmcyIiwiYXJnMyIsImNvbmZpZ3VyYWJsZSIsImJ1aWxkQWNjZXNzb3JzIiwibWFwcGVkIiwiaGVhZGVyVmFsdWUiLCJ0cmFuc2Zvcm1EYXRhIiwiZm5zIiwiaXNDYW5jZWwiLCJfX0NBTkNFTF9fIiwiQ2FuY2VsZWRFcnJvciIsIkVSUl9DQU5DRUxFRCIsIndyaXRlIiwiZXhwaXJlcyIsImRvbWFpbiIsInNlY3VyZSIsImNvb2tpZSIsIkRhdGUiLCJ0b0dNVFN0cmluZyIsInJlYWQiLCJSZWdFeHAiLCJkZWNvZGVVUklDb21wb25lbnQiLCJyZW1vdmUiLCJub3ciLCJidWlsZEZ1bGxQYXRoIiwiYmFzZVVSTCIsInJlcXVlc3RlZFVSTCIsInJlbGF0aXZlVVJMIiwiY29tYmluZVVSTHMiLCJtc2llIiwidXNlckFnZW50IiwidXJsUGFyc2luZ05vZGUiLCJjcmVhdGVFbGVtZW50Iiwib3JpZ2luVVJMIiwicmVzb2x2ZVVSTCIsImhyZWYiLCJzZXRBdHRyaWJ1dGUiLCJwcm90b2NvbCIsImhvc3QiLCJzZWFyY2giLCJoYXNoIiwiaG9zdG5hbWUiLCJwb3J0IiwicGF0aG5hbWUiLCJjaGFyQXQiLCJsb2NhdGlvbiIsInJlcXVlc3RVUkwiLCJwcm9ncmVzc0V2ZW50UmVkdWNlciIsImxpc3RlbmVyIiwiaXNEb3dubG9hZFN0cmVhbSIsImJ5dGVzTm90aWZpZWQiLCJfc3BlZWRvbWV0ZXIiLCJzYW1wbGVzQ291bnQiLCJtaW4iLCJieXRlcyIsInRpbWVzdGFtcHMiLCJmaXJzdFNhbXBsZVRTIiwiaGVhZCIsInRhaWwiLCJjaHVua0xlbmd0aCIsInN0YXJ0ZWRBdCIsImJ5dGVzQ291bnQiLCJwYXNzZWQiLCJyb3VuZCIsImxvYWRlZCIsInRvdGFsIiwibGVuZ3RoQ29tcHV0YWJsZSIsInByb2dyZXNzQnl0ZXMiLCJyYXRlIiwicHJvZ3Jlc3MiLCJlc3RpbWF0ZWQiLCJldmVudCIsImtub3duQWRhcHRlcnMiLCJodHRwIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInJlcXVlc3REYXRhIiwicmVxdWVzdEhlYWRlcnMiLCJvbkNhbmNlbGVkIiwid2l0aFhTUkZUb2tlbiIsImNhbmNlbFRva2VuIiwidW5zdWJzY3JpYmUiLCJzaWduYWwiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiQm9vbGVhbiIsImF1dGgiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwidW5lc2NhcGUiLCJidG9hIiwiZnVsbFBhdGgiLCJvbmxvYWRlbmQiLCJyZXNwb25zZUhlYWRlcnMiLCJnZXRBbGxSZXNwb25zZUhlYWRlcnMiLCJFUlJfQkFEX1JFUVVFU1QiLCJmbG9vciIsInNldHRsZSIsImVyciIsInJlc3BvbnNlVGV4dCIsInN0YXR1c1RleHQiLCJvcGVuIiwicGFyYW1zU2VyaWFsaXplciIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJyZXNwb25zZVVSTCIsInNldFRpbWVvdXQiLCJvbmFib3J0IiwiRUNPTk5BQk9SVEVEIiwib25lcnJvciIsIkVSUl9ORVRXT1JLIiwib250aW1lb3V0IiwidGltZW91dEVycm9yTWVzc2FnZSIsIkVUSU1FRE9VVCIsImlzVVJMU2FtZU9yaWdpbiIsInhzcmZWYWx1ZSIsImNvb2tpZXMiLCJzZXRSZXF1ZXN0SGVhZGVyIiwid2l0aENyZWRlbnRpYWxzIiwib25Eb3dubG9hZFByb2dyZXNzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uVXBsb2FkUHJvZ3Jlc3MiLCJ1cGxvYWQiLCJjYW5jZWwiLCJhYm9ydCIsInN1YnNjcmliZSIsImFib3J0ZWQiLCJwYXJzZVByb3RvY29sIiwic2VuZCIsInJlbmRlclJlYXNvbiIsInJlYXNvbiIsImlzUmVzb2x2ZWRIYW5kbGUiLCJhZGFwdGVycyIsIm5hbWVPckFkYXB0ZXIiLCJyZWplY3RlZFJlYXNvbnMiLCJyZWFzb25zIiwic3RhdGUiLCJzIiwidGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZCIsInRocm93SWZSZXF1ZXN0ZWQiLCJkaXNwYXRjaFJlcXVlc3QiLCJoZWFkZXJzVG9PYmplY3QiLCJtZXJnZUNvbmZpZyIsImNvbmZpZzEiLCJjb25maWcyIiwiZ2V0TWVyZ2VkVmFsdWUiLCJtZXJnZURlZXBQcm9wZXJ0aWVzIiwidmFsdWVGcm9tQ29uZmlnMiIsImRlZmF1bHRUb0NvbmZpZzIiLCJtZXJnZURpcmVjdEtleXMiLCJtZXJnZU1hcCIsInRpbWVvdXRNZXNzYWdlIiwiZGVjb21wcmVzcyIsImJlZm9yZVJlZGlyZWN0IiwidHJhbnNwb3J0IiwiaHR0cEFnZW50IiwiaHR0cHNBZ2VudCIsInNvY2tldFBhdGgiLCJyZXNwb25zZUVuY29kaW5nIiwiY29uZmlnVmFsdWUiLCJ2YWxpZGF0b3JzIiwiZGVwcmVjYXRlZFdhcm5pbmdzIiwidmFsaWRhdG9yIiwidmVyc2lvbiIsImZvcm1hdE1lc3NhZ2UiLCJvcHQiLCJkZXNjIiwib3B0cyIsIkVSUl9ERVBSRUNBVEVEIiwiY29uc29sZSIsIndhcm4iLCJhc3NlcnRPcHRpb25zIiwic2NoZW1hIiwiYWxsb3dVbmtub3duIiwiRVJSX0JBRF9PUFRJT05fVkFMVUUiLCJFUlJfQkFEX09QVElPTiIsIkF4aW9zIiwiaW5zdGFuY2VDb25maWciLCJpbnRlcmNlcHRvcnMiLCJjb25maWdPclVybCIsImJvb2xlYW4iLCJmdW5jdGlvbiIsImNvbnRleHRIZWFkZXJzIiwicmVxdWVzdEludGVyY2VwdG9yQ2hhaW4iLCJzeW5jaHJvbm91c1JlcXVlc3RJbnRlcmNlcHRvcnMiLCJpbnRlcmNlcHRvciIsInVuc2hpZnQiLCJyZXNwb25zZUludGVyY2VwdG9yQ2hhaW4iLCJwcm9taXNlIiwiY2hhaW4iLCJuZXdDb25maWciLCJvbkZ1bGZpbGxlZCIsIm9uUmVqZWN0ZWQiLCJnZXRVcmkiLCJnZW5lcmF0ZUhUVFBNZXRob2QiLCJpc0Zvcm0iLCJDYW5jZWxUb2tlbiIsImV4ZWN1dG9yIiwicmVzb2x2ZVByb21pc2UiLCJfbGlzdGVuZXJzIiwib25mdWxmaWxsZWQiLCJfcmVzb2x2ZSIsInNwbGljZSIsImMiLCJIdHRwU3RhdHVzQ29kZSIsIkNvbnRpbnVlIiwiU3dpdGNoaW5nUHJvdG9jb2xzIiwiUHJvY2Vzc2luZyIsIkVhcmx5SGludHMiLCJPayIsIkNyZWF0ZWQiLCJBY2NlcHRlZCIsIk5vbkF1dGhvcml0YXRpdmVJbmZvcm1hdGlvbiIsIk5vQ29udGVudCIsIlJlc2V0Q29udGVudCIsIlBhcnRpYWxDb250ZW50IiwiTXVsdGlTdGF0dXMiLCJBbHJlYWR5UmVwb3J0ZWQiLCJJbVVzZWQiLCJNdWx0aXBsZUNob2ljZXMiLCJNb3ZlZFBlcm1hbmVudGx5IiwiRm91bmQiLCJTZWVPdGhlciIsIk5vdE1vZGlmaWVkIiwiVXNlUHJveHkiLCJVbnVzZWQiLCJUZW1wb3JhcnlSZWRpcmVjdCIsIlBlcm1hbmVudFJlZGlyZWN0IiwiQmFkUmVxdWVzdCIsIlVuYXV0aG9yaXplZCIsIlBheW1lbnRSZXF1aXJlZCIsIkZvcmJpZGRlbiIsIk5vdEZvdW5kIiwiTWV0aG9kTm90QWxsb3dlZCIsIk5vdEFjY2VwdGFibGUiLCJQcm94eUF1dGhlbnRpY2F0aW9uUmVxdWlyZWQiLCJSZXF1ZXN0VGltZW91dCIsIkNvbmZsaWN0IiwiR29uZSIsIkxlbmd0aFJlcXVpcmVkIiwiUHJlY29uZGl0aW9uRmFpbGVkIiwiUGF5bG9hZFRvb0xhcmdlIiwiVXJpVG9vTG9uZyIsIlVuc3VwcG9ydGVkTWVkaWFUeXBlIiwiUmFuZ2VOb3RTYXRpc2ZpYWJsZSIsIkV4cGVjdGF0aW9uRmFpbGVkIiwiSW1BVGVhcG90IiwiTWlzZGlyZWN0ZWRSZXF1ZXN0IiwiVW5wcm9jZXNzYWJsZUVudGl0eSIsIkxvY2tlZCIsIkZhaWxlZERlcGVuZGVuY3kiLCJUb29FYXJseSIsIlVwZ3JhZGVSZXF1aXJlZCIsIlByZWNvbmRpdGlvblJlcXVpcmVkIiwiVG9vTWFueVJlcXVlc3RzIiwiUmVxdWVzdEhlYWRlckZpZWxkc1Rvb0xhcmdlIiwiVW5hdmFpbGFibGVGb3JMZWdhbFJlYXNvbnMiLCJJbnRlcm5hbFNlcnZlckVycm9yIiwiTm90SW1wbGVtZW50ZWQiLCJCYWRHYXRld2F5IiwiU2VydmljZVVuYXZhaWxhYmxlIiwiR2F0ZXdheVRpbWVvdXQiLCJIdHRwVmVyc2lvbk5vdFN1cHBvcnRlZCIsIlZhcmlhbnRBbHNvTmVnb3RpYXRlcyIsIkluc3VmZmljaWVudFN0b3JhZ2UiLCJMb29wRGV0ZWN0ZWQiLCJOb3RFeHRlbmRlZCIsIk5ldHdvcmtBdXRoZW50aWNhdGlvblJlcXVpcmVkIiwiYXhpb3MiLCJjcmVhdGVJbnN0YW5jZSIsImRlZmF1bHRDb25maWciLCJpbnN0YW5jZSIsIlZFUlNJT04iLCJ0b0Zvcm1EYXRhIiwiQ2FuY2VsIiwiYWxsIiwicHJvbWlzZXMiLCJzcHJlYWQiLCJjYWxsYmFjayIsImlzQXhpb3NFcnJvciIsInBheWxvYWQiLCJmb3JtVG9KU09OIiwiZ2V0QWRhcHRlciIsImRlZmF1bHQiLCJwb3N0IiwiYm9keSIsIkdhcGlBbmFseXRpY3NTZXJ2aWNlIiwiZ2FwaSIsImFuYWx5dGljcyIsInJlYWx0aW1lQVBJIiwiYW5hbHl0aWNzZGF0YSIsImFuYWx5dGljc2FkbWluIiwibWFuYWdlbWVudCIsIndlYnByb3BlcnRpZXMiLCJhY2NvdW50cyIsInByb2ZpbGVzIiwiaW5pdGlhbGl6YXRpb25QZW5kaW5nIiwiaW5pdGlhbGlzYXRpb25zUGFyYW1zIiwiY2xpZW50SWQiLCJhdXRoU2NvcGVzIiwic2hvcGluemVuQW5hbHl0aWNzQWRtaW5FbWFpbCIsImluaXQiLCJyZWZyZXNoQWNjZXNzVG9rZW4iLCJlbWFpbCIsInNlcnZlclVybCIsIkFjY2VwdCIsImVycm9ySGFuZGxlciIsImFzeW5jIiwicmVmcmVzaF90b2tlbiIsImdldEdvb2dsZUxvZ2luUmVzcG9uc2UiLCJsb2ciLCJjcmVkZW50aWFscyIsInNldEdvb2dsZUxvZ2luUmVzcG9uc2UiLCJzZXRBY2Nlc3NUb2tlbiIsImFyZ3MiLCJnYXBpSXNTY3JpcHRBcmVBbGxEb3dubG9hZGVkIiwiY2xpZW50IiwicmVhbHRpbWUiLCJxdWVyeVJlcG9ydCIsInByb3BlcnR5IiwiZGltZW5zaW9ucyIsIm1ldHJpY3MiLCJzdGFydERhdGUiLCJlbmREYXRlIiwicmVwb3J0cyIsInByb3BlcnRpZXMiLCJydW5SZXBvcnQiLCJkYXRlUmFuZ2VzIiwibWV0cmljQWdncmVnYXRpb25zIiwicGFyc2VSZXBvcnRBc0NoYXJ0RGF0YSIsImxpc3RBY2NvdW50cyIsImFjY291bnRTdW1tYXJpZXMiLCJsaXN0IiwicmVzIiwiYWNjZXNzX3Rva2VuIiwic2V0VG9rZW4iLCJnZXRDaGFydERhdGFQZXJEaW1lbnNpb25zIiwicHJvdmlkZWREYXRhIiwiZGltZW5zaW9uIiwicm93cyIsIm1ldHJpY3NUb3RhbHMiLCJpbmNsdWRlcyIsImRpbWVuc2lvbkluZGV4Iiwicm93IiwiZGltZW5zaW9uVmFsdWVzIiwibWV0cmljVmFsdWVzIiwidmFsdWVzIiwicmVkdWNlIiwiY3VycmVudCIsInRvdGFscyIsImFjYyIsImN1cnIiLCJvdXRwdXQiLCJwYXJzZUludCIsInByZVBhcnNlZERhdGEiLCJtZXRyaWNIZWFkZXJzIiwiZGltZW5zaW9uSGVhZGVycyIsInByZUNsZWFuZWRSb3dzIiwiY3VycmVudEluZGV4IiwicHJlUGFyc2VSZXBvcnRSZXF1ZXN0UmVzdWx0IiwiaXRlbSIsImdldEdBNERhdGVGcm9tUGVyaW9kIiwicGVyaW9kIiwiY2hlY2tQZXJpb2QiLCJtYWdpY1ZhbHVlIiwic3RhcnQiLCJlbmQiLCJHQTRDbGllbnRGYWNhZGUiLCJTaG9waW56ZW5BbmFseXRpY3NDbGllbnQiLCJnYXBpU2VydmljZSIsInN1cGVyIiwiZ2V0VmlzaXRzUGVyUGVyaW9kIiwiZ2E0IiwiY2hlY2tQcm9wZXJ0eSIsImdldEV2ZW50Q291bnQiLCJldmVudHMiLCJldiIsIm1ldGEiLCJjb252ZXJzaW9uIiwiY29udmVydEV2ZW50VG9HQTRFdmVudCIsImFwaSIsImNvbnZlcnRlciIsImRlZmF1bHRBdHRyaWJ1dGVzIiwiYXR0cmlidXRlcyIsInRvVVRDU3RyaW5nIiwiZXNjYXBlIiwic3RyaW5naWZpZWRBdHRyaWJ1dGVzIiwiYXR0cmlidXRlTmFtZSIsImphciIsInBhcnRzIiwiZm91bmQiLCJ3aXRoQXR0cmlidXRlcyIsIndpdGhDb252ZXJ0ZXIiLCJmcmVlemUiLCJDb29raWVzU3RvcmFnZSIsInN0b3JhZ2UiLCJsb2NhbHN0b3JhZ2UiLCJsb2NhbFN0b3JhZ2UiLCJrZXlfR29vZ2xlTG9naW5SZXNwb25zZSIsImNsZWFyR29vZ2xlTG9naW5SZXNwb25zZSIsInJlbW92ZUl0ZW0iLCJtYXRtb1NlZ21lbnRPcGVyYXRvcnMiLCJPUiIsIkFORCIsIk1hdG9tb0NsaWVudENvcmUiLCJtYXRvbW9Db25maWdzIiwiaW5pdENvbmZpZyIsImNyZWF0ZU1hdG9tb0FQSVJlcXVlc3QiLCJiYXNlVXJsIiwicXVlcnlQYXJhbXMiLCJpZFNpdGUiLCJ0b2tlbl9hdXRoIiwidG9rZW5BdXRoIiwiZ2V0RXZlbnRzQ2F0ZWdvcnkiLCJFdmVudHNNZXRob2RzIiwiZ2V0Q2F0ZWdvcnkiLCJtZXJnZUV2ZW50c1BlckNhdGVnb3JpZXMiLCJnZXRFdmVudHNBY3Rpb24iLCJnZXRBY3Rpb24iLCJnZXRFdmVudHNOYW1lIiwiZ2V0TmFtZSIsIkV2ZW50c1NlZ21lbnRzIiwiZXZlbnRDYXRlZ29yeSIsImNhdGVnb3JpZXMiLCJkYXRlIiwibGFiZWwiLCJyZXN0IiwibmJfdmlzaXRzIiwibmJfZXZlbnRzIiwiZ2V0TWFvdG9tb0RhdGVGcm9tUGVyaW9kIiwiTWF0b21vQ2xpZW50RmFjYWRlIiwibWF0b21vQ2xpZW50Q29yZSIsIm1hdG9tbyIsInNlZ21lbnQiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZCIsImRlZmluaXRpb24iLCJvIiwiciIsIlNob3BpbnplbkFuYWx5dGljcyIsImNsaWVudFR5cGUiLCJhY3RpdmVDbGllbnQiLCJpbml0R0E0IiwiZ2E0VXRpbHMiLCJpc0luaXRpYWxpemluZyIsInNlcnZpY2UiLCJpbml0TWF0b21vIiwiY2hlY2tJZlJlYWR5IiwiY2xvbmUiLCJhY3R1YWxUaGlzIl0sInNvdXJjZVJvb3QiOiIifQ==
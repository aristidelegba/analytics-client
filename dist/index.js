/*! For license information please see index.js.LICENSE.txt */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(this,(function(){return function(){"use strict";var e={145:function(e,t,n){n.d(t,{default:function(){return Je}});var r={};function o(e,t){return function(){return e.apply(t,arguments)}}n.r(r),n.d(r,{hasBrowserEnv:function(){return re},hasStandardBrowserEnv:function(){return oe},hasStandardBrowserWebWorkerEnv:function(){return se}});const{toString:i}=Object.prototype,{getPrototypeOf:s}=Object,a=(c=Object.create(null),e=>{const t=i.call(e);return c[t]||(c[t]=t.slice(8,-1).toLowerCase())});var c;const l=e=>(e=e.toLowerCase(),t=>a(t)===e),u=e=>t=>typeof t===e,{isArray:f}=Array,d=u("undefined"),p=l("ArrayBuffer"),h=u("string"),m=u("function"),g=u("number"),y=e=>null!==e&&"object"==typeof e,w=e=>{if("object"!==a(e))return!1;const t=s(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},b=l("Date"),v=l("File"),E=l("Blob"),A=l("FileList"),O=l("URLSearchParams");function S(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,o;if("object"!=typeof e&&(e=[e]),f(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let s;for(r=0;r<i;r++)s=o[r],t.call(null,e[s],s,e)}}function R(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,o=n.length;for(;o-- >0;)if(r=n[o],t===r.toLowerCase())return r;return null}const C="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,P=e=>!d(e)&&e!==C,T=(j="undefined"!=typeof Uint8Array&&s(Uint8Array),e=>j&&e instanceof j);var j;const x=l("HTMLFormElement"),N=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),_=l("RegExp"),k=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};S(n,((n,o)=>{let i;!1!==(i=t(n,o,e))&&(r[o]=i||n)})),Object.defineProperties(e,r)},U="abcdefghijklmnopqrstuvwxyz",D="0123456789",F={DIGIT:D,ALPHA:U,ALPHA_DIGIT:U+U.toUpperCase()+D},L=l("AsyncFunction");var B={isArray:f,isArrayBuffer:p,isBuffer:function(e){return null!==e&&!d(e)&&null!==e.constructor&&!d(e.constructor)&&m(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||m(e.append)&&("formdata"===(t=a(e))||"object"===t&&m(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&p(e.buffer),t},isString:h,isNumber:g,isBoolean:e=>!0===e||!1===e,isObject:y,isPlainObject:w,isUndefined:d,isDate:b,isFile:v,isBlob:E,isRegExp:_,isFunction:m,isStream:e=>y(e)&&m(e.pipe),isURLSearchParams:O,isTypedArray:T,isFileList:A,forEach:S,merge:function e(){const{caseless:t}=P(this)&&this||{},n={},r=(r,o)=>{const i=t&&R(n,o)||o;w(n[i])&&w(r)?n[i]=e(n[i],r):w(r)?n[i]=e({},r):f(r)?n[i]=r.slice():n[i]=r};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&S(arguments[e],r);return n},extend:(e,t,n,{allOwnKeys:r}={})=>(S(t,((t,r)=>{n&&m(t)?e[r]=o(t,n):e[r]=t}),{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let o,i,a;const c={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)a=o[i],r&&!r(a,e,t)||c[a]||(t[a]=e[a],c[a]=!0);e=!1!==n&&s(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:a,kindOfTest:l,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(f(e))return e;let t=e.length;if(!g(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:x,hasOwnProperty:N,hasOwnProp:N,reduceDescriptors:k,freezeMethods:e=>{k(e,((t,n)=>{if(m(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];m(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return f(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:R,global:C,isContextDefined:P,ALPHABET:F,generateString:(e=16,t=F.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&m(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(y(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const o=f(e)?[]:{};return S(e,((e,t)=>{const i=n(e,r+1);!d(i)&&(o[t]=i)})),t[r]=void 0,o}}return e};return n(e,0)},isAsyncFn:L,isThenable:e=>e&&(y(e)||m(e))&&m(e.then)&&m(e.catch)};function I(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}B.inherits(I,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:B.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const q=I.prototype,M={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{M[e]={value:e}})),Object.defineProperties(I,M),Object.defineProperty(q,"isAxiosError",{value:!0}),I.from=(e,t,n,r,o,i)=>{const s=Object.create(q);return B.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),I.call(s,e.message,t,n,r,o),s.cause=e,s.name=e.name,i&&Object.assign(s,i),s};var G=I;function z(e){return B.isPlainObject(e)||B.isArray(e)}function V(e){return B.endsWith(e,"[]")?e.slice(0,-2):e}function H(e,t,n){return e?e.concat(t).map((function(e,t){return e=V(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const J=B.toFlatObject(B,{},null,(function(e){return/^is[A-Z]/.test(e)}));var W=function(e,t,n){if(!B.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=B.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!B.isUndefined(t[e])}))).metaTokens,o=n.visitor||l,i=n.dots,s=n.indexes,a=(n.Blob||"undefined"!=typeof Blob&&Blob)&&B.isSpecCompliantForm(t);if(!B.isFunction(o))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(B.isDate(e))return e.toISOString();if(!a&&B.isBlob(e))throw new G("Blob is not supported. Use a Buffer instead.");return B.isArrayBuffer(e)||B.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,n,o){let a=e;if(e&&!o&&"object"==typeof e)if(B.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(B.isArray(e)&&function(e){return B.isArray(e)&&!e.some(z)}(e)||(B.isFileList(e)||B.endsWith(n,"[]"))&&(a=B.toArray(e)))return n=V(n),a.forEach((function(e,r){!B.isUndefined(e)&&null!==e&&t.append(!0===s?H([n],r,i):null===s?n:n+"[]",c(e))})),!1;return!!z(e)||(t.append(H(o,n,i),c(e)),!1)}const u=[],f=Object.assign(J,{defaultVisitor:l,convertValue:c,isVisitable:z});if(!B.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!B.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),B.forEach(n,(function(n,i){!0===(!(B.isUndefined(n)||null===n)&&o.call(t,n,B.isString(i)?i.trim():i,r,f))&&e(n,r?r.concat(i):[i])})),u.pop()}}(e),t};function $(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function K(e,t){this._pairs=[],e&&W(e,this,t)}const X=K.prototype;X.append=function(e,t){this._pairs.push([e,t])},X.toString=function(e){const t=e?function(t){return e.call(this,t,$)}:$;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var Q=K;function Z(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Y(e,t,n){if(!t)return e;const r=n&&n.encode||Z,o=n&&n.serialize;let i;if(i=o?o(t,n):B.isURLSearchParams(t)?t.toString():new Q(t,n).toString(r),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}var ee=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){B.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},te={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ne={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:Q,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]};const re="undefined"!=typeof window&&"undefined"!=typeof document,oe=(ie="undefined"!=typeof navigator&&navigator.product,re&&["ReactNative","NativeScript","NS"].indexOf(ie)<0);var ie;const se="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts;var ae={...r,...ne},ce=function(e){function t(e,n,r,o){let i=e[o++];const s=Number.isFinite(+i),a=o>=e.length;return i=!i&&B.isArray(r)?r.length:i,a?(B.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!s):(r[i]&&B.isObject(r[i])||(r[i]=[]),t(e,n,r[i],o)&&B.isArray(r[i])&&(r[i]=function(e){const t={},n=Object.keys(e);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],t[i]=e[i];return t}(r[i])),!s)}if(B.isFormData(e)&&B.isFunction(e.entries)){const n={};return B.forEachEntry(e,((e,r)=>{t(function(e){return B.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const le={transitional:te,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,o=B.isObject(e);if(o&&B.isHTMLForm(e)&&(e=new FormData(e)),B.isFormData(e))return r&&r?JSON.stringify(ce(e)):e;if(B.isArrayBuffer(e)||B.isBuffer(e)||B.isStream(e)||B.isFile(e)||B.isBlob(e))return e;if(B.isArrayBufferView(e))return e.buffer;if(B.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return W(e,new ae.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return ae.isNode&&B.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=B.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return W(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),function(e,t,n){if(B.isString(e))try{return(0,JSON.parse)(e),B.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||le.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&B.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw G.from(e,G.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ae.classes.FormData,Blob:ae.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};B.forEach(["delete","get","head","post","put","patch"],(e=>{le.headers[e]={}}));var ue=le;const fe=B.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),de=Symbol("internals");function pe(e){return e&&String(e).trim().toLowerCase()}function he(e){return!1===e||null==e?e:B.isArray(e)?e.map(he):String(e)}function me(e,t,n,r,o){return B.isFunction(r)?r.call(this,t,n):(o&&(t=n),B.isString(t)?B.isString(r)?-1!==t.indexOf(r):B.isRegExp(r)?r.test(t):void 0:void 0)}class ge{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function o(e,t,n){const o=pe(t);if(!o)throw new Error("header name must be a non-empty string");const i=B.findKey(r,o);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||t]=he(e))}const i=(e,t)=>B.forEach(e,((e,n)=>o(e,n,t)));return B.isPlainObject(e)||e instanceof this.constructor?i(e,t):B.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?i((e=>{const t={};let n,r,o;return e&&e.split("\n").forEach((function(e){o=e.indexOf(":"),n=e.substring(0,o).trim().toLowerCase(),r=e.substring(o+1).trim(),!n||t[n]&&fe[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t):null!=e&&o(t,e,n),this}get(e,t){if(e=pe(e)){const n=B.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(B.isFunction(t))return t.call(this,e,n);if(B.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=pe(e)){const n=B.findKey(this,e);return!(!n||void 0===this[n]||t&&!me(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function o(e){if(e=pe(e)){const o=B.findKey(n,e);!o||t&&!me(0,n[o],o,t)||(delete n[o],r=!0)}}return B.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const o=t[n];e&&!me(0,this[o],o,e,!0)||(delete this[o],r=!0)}return r}normalize(e){const t=this,n={};return B.forEach(this,((r,o)=>{const i=B.findKey(n,o);if(i)return t[i]=he(r),void delete t[o];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(o):String(o).trim();s!==o&&delete t[o],t[s]=he(r),n[s]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return B.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&B.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[de]=this[de]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=pe(e);t[r]||(function(e,t){const n=B.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,o){return this[r].call(this,t,e,n,o)},configurable:!0})}))}(n,e),t[r]=!0)}return B.isArray(e)?e.forEach(r):r(e),this}}ge.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),B.reduceDescriptors(ge.prototype,(({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}})),B.freezeMethods(ge);var ye=ge;function we(e,t){const n=this||ue,r=t||n,o=ye.from(r.headers);let i=r.data;return B.forEach(e,(function(e){i=e.call(n,i,o.normalize(),t?t.status:void 0)})),o.normalize(),i}function be(e){return!(!e||!e.__CANCEL__)}function ve(e,t,n){G.call(this,null==e?"canceled":e,G.ERR_CANCELED,t,n),this.name="CanceledError"}B.inherits(ve,G,{__CANCEL__:!0});var Ee=ve,Ae=ae.hasStandardBrowserEnv?{write(e,t,n,r,o,i){const s=[e+"="+encodeURIComponent(t)];B.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),B.isString(r)&&s.push("path="+r),B.isString(o)&&s.push("domain="+o),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Oe(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var Se=ae.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=B.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};function Re(e,t){let n=0;const r=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o,i=0,s=0;return t=void 0!==t?t:1e3,function(a){const c=Date.now(),l=r[s];o||(o=c),n[i]=a,r[i]=c;let u=s,f=0;for(;u!==i;)f+=n[u++],u%=e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),c-o<t)return;const d=l&&c-l;return d?Math.round(1e3*f/d):void 0}}(50,250);return o=>{const i=o.loaded,s=o.lengthComputable?o.total:void 0,a=i-n,c=r(a);n=i;const l={loaded:i,total:s,progress:s?i/s:void 0,bytes:a,rate:c||void 0,estimated:c&&s&&i<=s?(s-i)/c:void 0,event:o};l[t?"download":"upload"]=!0,e(l)}}const Ce={http:null,xhr:"undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){let r=e.data;const o=ye.from(e.headers).normalize();let i,s,{responseType:a,withXSRFToken:c}=e;function l(){e.cancelToken&&e.cancelToken.unsubscribe(i),e.signal&&e.signal.removeEventListener("abort",i)}if(B.isFormData(r))if(ae.hasStandardBrowserEnv||ae.hasStandardBrowserWebWorkerEnv)o.setContentType(!1);else if(!1!==(s=o.getContentType())){const[e,...t]=s?s.split(";").map((e=>e.trim())).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}let u=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(t+":"+n))}const f=Oe(e.baseURL,e.url);function d(){if(!u)return;const r=ye.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new G("Request failed with status code "+n.status,[G.ERR_BAD_REQUEST,G.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),l()}),(function(e){n(e),l()}),{data:a&&"text"!==a&&"json"!==a?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:e,request:u}),u=null}if(u.open(e.method.toUpperCase(),Y(f,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=d:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(d)},u.onabort=function(){u&&(n(new G("Request aborted",G.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new G("Network Error",G.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||te;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new G(t,r.clarifyTimeoutError?G.ETIMEDOUT:G.ECONNABORTED,e,u)),u=null},ae.hasStandardBrowserEnv&&(c&&B.isFunction(c)&&(c=c(e)),c||!1!==c&&Se(f))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&Ae.read(e.xsrfCookieName);t&&o.set(e.xsrfHeaderName,t)}void 0===r&&o.setContentType(null),"setRequestHeader"in u&&B.forEach(o.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),B.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),a&&"json"!==a&&(u.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&u.addEventListener("progress",Re(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",Re(e.onUploadProgress)),(e.cancelToken||e.signal)&&(i=t=>{u&&(n(!t||t.type?new Ee(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(i),e.signal&&(e.signal.aborted?i():e.signal.addEventListener("abort",i)));const p=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(f);p&&-1===ae.protocols.indexOf(p)?n(new G("Unsupported protocol "+p+":",G.ERR_BAD_REQUEST,e)):u.send(r||null)}))}};B.forEach(Ce,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const Pe=e=>`- ${e}`,Te=e=>B.isFunction(e)||null===e||!1===e;var je=e=>{e=B.isArray(e)?e:[e];const{length:t}=e;let n,r;const o={};for(let i=0;i<t;i++){let t;if(n=e[i],r=n,!Te(n)&&(r=Ce[(t=String(n)).toLowerCase()],void 0===r))throw new G(`Unknown adapter '${t}'`);if(r)break;o[t||"#"+i]=r}if(!r){const e=Object.entries(o).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));let n=t?e.length>1?"since :\n"+e.map(Pe).join("\n"):" "+Pe(e[0]):"as no adapter specified";throw new G("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function xe(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ee(null,e)}function Ne(e){return xe(e),e.headers=ye.from(e.headers),e.data=we.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),je(e.adapter||ue.adapter)(e).then((function(t){return xe(e),t.data=we.call(e,e.transformResponse,t),t.headers=ye.from(t.headers),t}),(function(t){return be(t)||(xe(e),t&&t.response&&(t.response.data=we.call(e,e.transformResponse,t.response),t.response.headers=ye.from(t.response.headers))),Promise.reject(t)}))}const _e=e=>e instanceof ye?e.toJSON():e;function ke(e,t){t=t||{};const n={};function r(e,t,n){return B.isPlainObject(e)&&B.isPlainObject(t)?B.merge.call({caseless:n},e,t):B.isPlainObject(t)?B.merge({},t):B.isArray(t)?t.slice():t}function o(e,t,n){return B.isUndefined(t)?B.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function i(e,t){if(!B.isUndefined(t))return r(void 0,t)}function s(e,t){return B.isUndefined(t)?B.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,o,i){return i in t?r(n,o):i in e?r(void 0,n):void 0}const c={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t)=>o(_e(e),_e(t),!0)};return B.forEach(Object.keys(Object.assign({},e,t)),(function(r){const i=c[r]||o,s=i(e[r],t[r],r);B.isUndefined(s)&&i!==a||(n[r]=s)})),n}const Ue={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Ue[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const De={};Ue.transitional=function(e,t,n){function r(e,t){return"[Axios v1.6.2] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,o,i)=>{if(!1===e)throw new G(r(o," has been removed"+(t?" in "+t:"")),G.ERR_DEPRECATED);return t&&!De[o]&&(De[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,i)}};var Fe={assertOptions:function(e,t,n){if("object"!=typeof e)throw new G("options must be an object",G.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const i=r[o],s=t[i];if(s){const t=e[i],n=void 0===t||s(t,i,e);if(!0!==n)throw new G("option "+i+" must be "+n,G.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new G("Unknown option "+i,G.ERR_BAD_OPTION)}},validators:Ue};const Le=Fe.validators;class Be{constructor(e){this.defaults=e,this.interceptors={request:new ee,response:new ee}}request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=ke(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:o}=t;void 0!==n&&Fe.assertOptions(n,{silentJSONParsing:Le.transitional(Le.boolean),forcedJSONParsing:Le.transitional(Le.boolean),clarifyTimeoutError:Le.transitional(Le.boolean)},!1),null!=r&&(B.isFunction(r)?t.paramsSerializer={serialize:r}:Fe.assertOptions(r,{encode:Le.function,serialize:Le.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=o&&B.merge(o.common,o[t.method]);o&&B.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete o[e]})),t.headers=ye.concat(i,o);const s=[];let a=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const c=[];let l;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let u,f=0;if(!a){const e=[Ne.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,c),u=e.length,l=Promise.resolve(t);f<u;)l=l.then(e[f++],e[f++]);return l}u=s.length;let d=t;for(f=0;f<u;){const e=s[f++],t=s[f++];try{d=e(d)}catch(e){t.call(this,e);break}}try{l=Ne.call(this,d)}catch(e){return Promise.reject(e)}for(f=0,u=c.length;f<u;)l=l.then(c[f++],c[f++]);return l}getUri(e){return Y(Oe((e=ke(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}B.forEach(["delete","get","head","options"],(function(e){Be.prototype[e]=function(t,n){return this.request(ke(n||{},{method:e,url:t,data:(n||{}).data}))}})),B.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,o){return this.request(ke(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Be.prototype[e]=t(),Be.prototype[e+"Form"]=t(!0)}));var Ie=Be;class qe{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,o){n.reason||(n.reason=new Ee(e,r,o),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new qe((function(t){e=t})),cancel:e}}}var Me=qe;const Ge={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ge).forEach((([e,t])=>{Ge[t]=e}));var ze=Ge;const Ve=function e(t){const n=new Ie(t),r=o(Ie.prototype.request,n);return B.extend(r,Ie.prototype,n,{allOwnKeys:!0}),B.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(ke(t,n))},r}(ue);Ve.Axios=Ie,Ve.CanceledError=Ee,Ve.CancelToken=Me,Ve.isCancel=be,Ve.VERSION="1.6.2",Ve.toFormData=W,Ve.AxiosError=G,Ve.Cancel=Ve.CanceledError,Ve.all=function(e){return Promise.all(e)},Ve.spread=function(e){return function(t){return e.apply(null,t)}},Ve.isAxiosError=function(e){return B.isObject(e)&&!0===e.isAxiosError},Ve.mergeConfig=ke,Ve.AxiosHeaders=ye,Ve.formToJSON=e=>ce(B.isHTMLForm(e)?new FormData(e):e),Ve.getAdapter=je,Ve.HttpStatusCode=ze,Ve.default=Ve;var He=Ve,Je={get:(e,{params:t})=>He.get(e,{params:t}),post:(e,t={},n={})=>He.post(e,t,n)}},201:function(e,t,n){n.d(t,{GapiAnalyticsService:function(){return s}});var r=n(659),o=n(353),i=n(145);class s{gapi;analytics;realtimeAPI;analyticsdata;analyticsadmin;management;webproperties;accounts;profiles;initializationPending=!0;initialisationsParams;constructor(e){const{clientId:t,authScopes:n,GA4AdminEmail:r}=e;this.initialisationsParams=e}async refreshAccessToken(e){return await i.default.post(this.initialisationsParams.serverUrls.refreshToken,{email:e},{headers:{Accept:"application/json"}})}async errorHandler(e,t){return new Promise((async(n,o)=>{const{status:i,result:s}=e;if(401===i){const{refresh_token:i}=r.default.getGoogleLoginResponse()||{};console.log("refresh_token",i);const{data:s}=await this.refreshAccessToken(this.initialisationsParams.GA4AdminEmail).catch(o);console.log("credentials :>> ",s),s||o(e),r.default.setGoogleLoginResponse(s),this.setAccessToken();const{method:a,args:c}=t;console.log("method, args :>> ",a,c),n(this[a](...c))}o(e)}))}get gapiIsScriptAreAllDownloaded(){const e=window?.gapi,t=e?.client?.analytics,n=e?.client?.analyticsdata,r=e?.client?.analyticsadmin;return!!(e&&t&&r&&n)}async init(){return new Promise((async(e,t)=>{this.gapiIsScriptAreAllDownloaded?(this.gapi=window?.gapi,this.analytics=this.gapi.client.analytics,this.realtimeAPI=this.gapi.client.analytics.data.realtime,this.analyticsdata=this.gapi.client.analyticsdata,this.analyticsadmin=this.gapi.client.analyticsadmin,this.management=this.gapi.client.analytics.management,this.accounts=this.management.accounts,this.webproperties=this.management.webproperties,this.profiles=this.management.profiles,this.setAccessToken(),this.initializationPending=!1,e(!0)):setTimeout((async()=>{e(await this.init())}),1e3)}))}async queryReport(e,t){if(console.log("property",e),!e)throw new Error("Google property isnt set");try{let{dimensions:n,metrics:r,startDate:i,endDate:s}=t;r=(r||[]).map((e=>"string"==typeof e?{name:e}:e)),n=(n||[]).map((e=>"string"==typeof e?{name:e}:e));const a=await this.analyticsdata.properties.runReport({property:e,dateRanges:[{startDate:i,endDate:s}],metrics:r,dimensions:n,metricAggregations:["TOTAL"]}).then((e=>e));return(0,o.parseReportAsChartData)([a])}catch(n){return await this.errorHandler(n,{method:"queryReport",args:[e,t]})}}async listAccounts(){return console.log(" this.analyticsadmin",this.analyticsadmin),await this.analyticsadmin.accountSummaries.list().then((e=>e.result.accountSummaries)).catch((async e=>{const t=await this.errorHandler(e,{method:"listAccounts",args:[]});return console.log("res",t),t}))}setAccessToken(){const{access_token:e}=r.default.getGoogleLoginResponse()||{};this.gapi.client.setToken({access_token:e}),this.gapi.auth.setToken({access_token:e})}}},353:function(e,t,n){n.d(t,{parseReportAsChartData:function(){return c},signInWithGoogle:function(){return s}});var r=n(145),o=n(659);const i={Accept:"application/json"},s=({requestCode:e=!1,clientId:t,scope:n,accessTokenServerUrl:s})=>{if(null!=typeof window&&window?.google)return new Promise(((a,c)=>{const l=window.google.accounts.oauth2.initCodeClient({client_id:t,scope:n,ux_mode:"popup",include_granted_scopes:!0,access_type:"offline",callback:async e=>{await async function({code:e,serverUrl:t}){return await r.default.post(t,{code:e,redirectUri:window.location.protocol+"//"+window.location.host},{headers:i})}({...e,serverUrl:s}).then((e=>{o.default.setGoogleLoginResponse(e.data),a(e.data)})).catch((e=>c(e)))}});e&&l.requestCode()}))};function a(e){const{data:t,dimension:n}=e,{rows:r,dimensions:o,metrics:i,metricsTotals:s}=t;if(!o.includes(n))return t;const a=o.indexOf(n),c=r.map((e=>{const{dimensionValues:t,metricValues:n}=e,r=n.reduce(((e,t)=>({...e,[t.name]:t.value})),{});return{name:t[a].value,...r}}));let l={};return i.forEach((({name:e},t)=>{l[e]=c.reduce(((t,n)=>{let r=t;return n[e]&&(r+=parseInt(n[e])),r}),0)})),{data:c,totals:l}}function c(e){const t=function(e){let{result:{metricHeaders:t=[],dimensionHeaders:n=[],rows:r=[],totals:o}}=e[0];const i=r.map((e=>{let{dimensionValues:r=[],metricValues:o=[]}=e;return r=r.map(((e,t)=>({...n[t],...e}))),o=o.map(((e,n)=>({...t[n],...e}))),{dimensionValues:r,metricValues:o}})),s=t.reduce(((e,t,n)=>({...e,[t.name]:o[0]?.metricValues[n]?.value||0})),{});return{metrics:t,dimensions:n,rows:i,metricsTotals:s}}(e);let{rows:n,dimensions:r,metricsTotals:o}=t;return r=r.reduce(((e,n)=>({...e,[n.name]:a({data:t,dimension:n})})),{}),{dimensions:r,metricsTotals:o}}},418:function(e,t,n){n.d(t,{GA4ClientFacade:function(){return a}});var r=n(333),o=n(201),i=n(135);function s(e){(0,i.checkPeriod)(e);const{format:t,magicValue:n,value:r}=e;return"magic"===t?{startDate:n+"daysAgo",endDate:"today"}:"date"===t?{startDate:r.start,endDate:r.end||"today"}:void 0}class a extends r.AnalyticsClientBaseClass{gapiService;initialisationsParams;constructor(e){super(),this.initialisationsParams=e,this.gapiService=new o.GapiAnalyticsService(e)}async listAccounts(){if(!this.gapiService)throw new Error("GA4 client isn't initialized correctly. Please make sure the active client is GA4");if(!this.gapiService.gapiIsScriptAreAllDownloaded)throw new Error("Gapi script are still loading. PLease retry.");return await this.gapiService.listAccounts()}async getVisitsPerPeriod(e){const{period:t,ga4:{property:n,format:r}={}}=e;this.checkProperty(n);let o={dimensions:["date"],metrics:["sessions","newUsers","screenPageViews","averageSessionDuration"],...s(t),format:r};return await this.gapiService.queryReport(n,o)}async getEventCount(e){const{events:t,period:n,ga4:{property:r,format:o}={}}=e;this.checkProperty(r);const i=function(e){return e.map((e=>{const{name:t,meta:{ga4:n}={}}=e;return n&&n.conversion?`conversions:${t}`:t}))}(t);let a={dimensions:[],metrics:i,...s(n),format:o};return await this.gapiService.queryReport(r,a).then((e=>{const n=e?.metricsTotals||{};console.log("totals",n,i);const r={};for(let e=0;e<i.length;e++){const o=t.map((e=>e.name))[e];r[o]=n[i[e]]}return r}))}checkProperty(e){if(!e)throw new Error("ga4ProppertyID is required")}}},659:function(e,t,n){function r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}n.r(t),n.d(t,{default:function(){return s}});var o=function e(t,n){function o(e,o,i){if("undefined"!=typeof document){"number"==typeof(i=r({},n,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var a in i)i[a]&&(s+="; "+a,!0!==i[a]&&(s+="="+i[a].split(";")[0]));return document.cookie=e+"="+t.write(o,e)+s}}return Object.create({set:o,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},o=0;o<n.length;o++){var i=n[o].split("="),s=i.slice(1).join("=");try{var a=decodeURIComponent(i[0]);if(r[a]=t.read(s,a),e===a)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){o(e,"",r({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,r({},this.attributes,t))},withConverter:function(t){return e(r({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});class i{storage=o;set(e,t,n){return t=n&&n.isObject?JSON.stringify(t):t,this.storage.set(e,t)}get(e){try{return JSON.parse(this.storage.get(e))}catch(t){return this.storage.get(e)}}remove(e){this.storage.remove(e)}}var s=new class{storage=new i;key_GoogleLoginResponse="key_GoogleLoginResponse";setGoogleLoginResponse(e){this.storage.set(this.key_GoogleLoginResponse,JSON.stringify(e))}getGoogleLoginResponse(){return this.storage.get(this.key_GoogleLoginResponse)}clearGoogleLoginResponse(){return this.storage.remove(this.key_GoogleLoginResponse)}}},589:function(e,t,n){n.d(t,{default:function(){return a},matmoSegmentOperators:function(){return s}});var r=n(484),o=n(630),i=n(145);const s={OR:",",AND:";"};class a{matomoConfigs;constructor(e){this.initConfig(e)}initConfig(e){console.log("data",e),this.matomoConfigs=e}createMatomoAPIRequest(e){return async t=>{try{if(!this.matomoConfigs)throw new Error("Please set matomo configs and retry");const n=this.matomoConfigs.baseUrl,r={module:"API",method:e,idSite:this.matomoConfigs.idSite,token_auth:this.matomoConfigs.tokenAuth,format:"json",...t},o=await i.default.get(n,{params:r});if("error"===o?.data?.result)throw{...o?.data};return o.data}catch(e){throw console.error("Error making Matomo API request:",e),e}}}async getEventsCategory(e){const t=this.createMatomoAPIRequest(r.EventsMethods.getCategory),n=await t(e);return(0,o.mergeEventsPerCategories)(n)}async getEventsAction(e){const t=this.createMatomoAPIRequest(r.EventsMethods.getAction),n=await t(e);return(0,o.mergeEventsPerCategories)(n)}async getEventsName(e){const t=this.createMatomoAPIRequest(r.EventsMethods.getName),n=await t(e);return(0,o.mergeEventsPerCategories)(n)}}},484:function(e,t,n){n.d(t,{EventsMethods:function(){return r},EventsSegments:function(){return o}});const r={getCategory:"Events.getCategory",getAction:"Events.getAction",getName:"Events.getName"},o={eventCategory:"eventCategory"}},630:function(e,t,n){n.d(t,{mergeEventsPerCategories:function(){return r}});const r=e=>{const t={};for(const n in e){const r=e[n];for(const e of r){const{label:n,...r}=e;t[n]?t[n]={...t[n],...r,nb_visits:t[n].nb_visits+e.nb_visits,nb_events:t[n].nb_events+e.nb_events}:t[n]={...r}}}return t}},803:function(e,t,n){n.d(t,{MatomoClientFacade:function(){return c}});var r=n(333),o=n(589),i=n(135),s=n(484);function a(e){(0,i.checkPeriod)(e);const{format:t,magicValue:n,value:r}=e;return"magic"===t?"last"+n:`${r.start}${r.end?",":""}${r.end}`}class c extends r.AnalyticsClientBaseClass{matomoClientCore;constructor(e){super(),this.matomoClientCore=new o.default(e)}async getEventCount(e){const{events:t,period:n,matomo:{}={}}=e;(0,i.checkPeriod)(n);const{OR:r}=o.matmoSegmentOperators,{eventCategory:c}=s.EventsSegments;let l="segment=";for(let e=0;e<t.length;e++)l+=`${c}==${t[e].name}${e<t.length?r:""}`;const u={period:"day",date:a(n)};return new Promise((async(e,n)=>{await this.matomoClientCore.getEventsCategory(u).then((n=>{const r={};for(let e=0;e<t.length;e++){const o=t[e].name;r[o]=n[o]?.nb_events||0}e(r)})).catch((e=>{n(e)}))}))}}},333:function(e,t,n){n.d(t,{AnalyticsClientBaseClass:function(){return r}});class r{async getVisitsPerPeriod(e){}async getEventCount(e){}}},135:function(e,t,n){function r(e){const{format:t,value:n,magicValue:r}=e;if(!t)throw new Error("period format is required");if("magic"===t&&"string"!=typeof r&&"number"!=typeof r)throw new Error(" unexpected magicValue "+r+" for format magic. Must be string|number");if("date"===t&&("object"!=typeof n||!n.start))throw new Error(" unexpected period value for format date. must be of type {start:string, end:string}")}n.d(t,{checkPeriod:function(){return r}})}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return function(){n.r(r),n.d(r,{AnalyticsClient:function(){return s},localStorageService:function(){return o},signInWithGoogle:function(){return i.signInWithGoogle}});var e=n(418),t=n(803),o=n(659),i=n(353);t.MatomoClientFacade,e.GA4ClientFacade;class s{clientType;activeClient;constructor(){}async initGA4(t){return this.clientType="ga4",this.activeClient=new e.GA4ClientFacade(t),await this.activeClient.gapiService.init()}get ga4Utils(){if("ga4"!==this.clientType)throw new Error("ga4Utils isnt available as ga4 isnt the active client. Please make sure the active client is GA4");if(!this.activeClient)throw new Error("The active client is undefined, please run initGA4");return{listAccounts:this.activeClient.listAccounts.bind(this.activeClient),isInitializing:this.activeClient.gapiService.initializationPending,service:this.activeClient.gapiService}}initMatomo(e){this.clientType="matomo",this.activeClient=new t.MatomoClientFacade(e)}async getVisitsPerPeriod(e){return this.checkIfReady(),await this.activeClient.getVisitsPerPeriod(e)}async getEventCount(e){return this.checkIfReady(),await this.activeClient.getEventCount(e)}checkIfReady(){if(!this.activeClient)throw new Error("Client isnt set.")}clone(){const e=new s,t=this;return Object.keys(t).map((n=>{e[n]=t[n]})),e}}}(),r}()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bHl0aWNzLWNsaWVudC93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vYW5hbHl0aWNzLWNsaWVudC8uL25vZGVfbW9kdWxlcy8ucG5wbS9heGlvc0AxLjYuMi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvYmluZC5qcyIsIndlYnBhY2s6Ly9hbmFseXRpY3MtY2xpZW50Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL2F4aW9zQDEuNi4yL25vZGVfbW9kdWxlcy9heGlvcy9saWIvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vYW5hbHl0aWNzLWNsaWVudC8uL25vZGVfbW9kdWxlcy8ucG5wbS9heGlvc0AxLjYuMi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvQXhpb3NFcnJvci5qcyIsIndlYnBhY2s6Ly9hbmFseXRpY3MtY2xpZW50Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL2F4aW9zQDEuNi4yL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy90b0Zvcm1EYXRhLmpzIiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL0F4aW9zVVJMU2VhcmNoUGFyYW1zLmpzIiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2J1aWxkVVJMLmpzIiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL0ludGVyY2VwdG9yTWFuYWdlci5qcyIsIndlYnBhY2s6Ly9hbmFseXRpY3MtY2xpZW50Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL2F4aW9zQDEuNi4yL25vZGVfbW9kdWxlcy9heGlvcy9saWIvZGVmYXVsdHMvdHJhbnNpdGlvbmFsLmpzIiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9wbGF0Zm9ybS9icm93c2VyL2luZGV4LmpzIiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9wbGF0Zm9ybS9icm93c2VyL2NsYXNzZXMvVVJMU2VhcmNoUGFyYW1zLmpzIiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9wbGF0Zm9ybS9icm93c2VyL2NsYXNzZXMvRm9ybURhdGEuanMiLCJ3ZWJwYWNrOi8vYW5hbHl0aWNzLWNsaWVudC8uL25vZGVfbW9kdWxlcy8ucG5wbS9heGlvc0AxLjYuMi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL3BsYXRmb3JtL2Jyb3dzZXIvY2xhc3Nlcy9CbG9iLmpzIiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9wbGF0Zm9ybS9jb21tb24vdXRpbHMuanMiLCJ3ZWJwYWNrOi8vYW5hbHl0aWNzLWNsaWVudC8uL25vZGVfbW9kdWxlcy8ucG5wbS9heGlvc0AxLjYuMi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL3BsYXRmb3JtL2luZGV4LmpzIiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2Zvcm1EYXRhVG9KU09OLmpzIiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9kZWZhdWx0cy9pbmRleC5qcyIsIndlYnBhY2s6Ly9hbmFseXRpY3MtY2xpZW50Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL2F4aW9zQDEuNi4yL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy90b1VSTEVuY29kZWRGb3JtLmpzIiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3BhcnNlSGVhZGVycy5qcyIsIndlYnBhY2s6Ly9hbmFseXRpY3MtY2xpZW50Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL2F4aW9zQDEuNi4yL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9BeGlvc0hlYWRlcnMuanMiLCJ3ZWJwYWNrOi8vYW5hbHl0aWNzLWNsaWVudC8uL25vZGVfbW9kdWxlcy8ucG5wbS9heGlvc0AxLjYuMi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvdHJhbnNmb3JtRGF0YS5qcyIsIndlYnBhY2s6Ly9hbmFseXRpY3MtY2xpZW50Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL2F4aW9zQDEuNi4yL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY2FuY2VsL2lzQ2FuY2VsLmpzIiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvQ2FuY2VsZWRFcnJvci5qcyIsIndlYnBhY2s6Ly9hbmFseXRpY3MtY2xpZW50Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL2F4aW9zQDEuNi4yL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9jb29raWVzLmpzIiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2J1aWxkRnVsbFBhdGguanMiLCJ3ZWJwYWNrOi8vYW5hbHl0aWNzLWNsaWVudC8uL25vZGVfbW9kdWxlcy8ucG5wbS9heGlvc0AxLjYuMi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvaXNBYnNvbHV0ZVVSTC5qcyIsIndlYnBhY2s6Ly9hbmFseXRpY3MtY2xpZW50Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL2F4aW9zQDEuNi4yL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9jb21iaW5lVVJMcy5qcyIsIndlYnBhY2s6Ly9hbmFseXRpY3MtY2xpZW50Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL2F4aW9zQDEuNi4yL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9pc1VSTFNhbWVPcmlnaW4uanMiLCJ3ZWJwYWNrOi8vYW5hbHl0aWNzLWNsaWVudC8uL25vZGVfbW9kdWxlcy8ucG5wbS9heGlvc0AxLjYuMi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2FkYXB0ZXJzL3hoci5qcyIsIndlYnBhY2s6Ly9hbmFseXRpY3MtY2xpZW50Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL2F4aW9zQDEuNi4yL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9zcGVlZG9tZXRlci5qcyIsIndlYnBhY2s6Ly9hbmFseXRpY3MtY2xpZW50Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL2F4aW9zQDEuNi4yL25vZGVfbW9kdWxlcy9heGlvcy9saWIvYWRhcHRlcnMvYWRhcHRlcnMuanMiLCJ3ZWJwYWNrOi8vYW5hbHl0aWNzLWNsaWVudC8uL25vZGVfbW9kdWxlcy8ucG5wbS9heGlvc0AxLjYuMi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvbnVsbC5qcyIsIndlYnBhY2s6Ly9hbmFseXRpY3MtY2xpZW50Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL2F4aW9zQDEuNi4yL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9zZXR0bGUuanMiLCJ3ZWJwYWNrOi8vYW5hbHl0aWNzLWNsaWVudC8uL25vZGVfbW9kdWxlcy8ucG5wbS9heGlvc0AxLjYuMi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvcGFyc2VQcm90b2NvbC5qcyIsIndlYnBhY2s6Ly9hbmFseXRpY3MtY2xpZW50Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL2F4aW9zQDEuNi4yL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9kaXNwYXRjaFJlcXVlc3QuanMiLCJ3ZWJwYWNrOi8vYW5hbHl0aWNzLWNsaWVudC8uL25vZGVfbW9kdWxlcy8ucG5wbS9heGlvc0AxLjYuMi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvbWVyZ2VDb25maWcuanMiLCJ3ZWJwYWNrOi8vYW5hbHl0aWNzLWNsaWVudC8uL25vZGVfbW9kdWxlcy8ucG5wbS9heGlvc0AxLjYuMi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2Vudi9kYXRhLmpzIiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3ZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9hbmFseXRpY3MtY2xpZW50Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL2F4aW9zQDEuNi4yL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9BeGlvcy5qcyIsIndlYnBhY2s6Ly9hbmFseXRpY3MtY2xpZW50Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL2F4aW9zQDEuNi4yL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY2FuY2VsL0NhbmNlbFRva2VuLmpzIiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL0h0dHBTdGF0dXNDb2RlLmpzIiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvLi9ub2RlX21vZHVsZXMvLnBucG0vYXhpb3NAMS42LjIvbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9heGlvcy5qcyIsIndlYnBhY2s6Ly9hbmFseXRpY3MtY2xpZW50Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL2F4aW9zQDEuNi4yL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9zcHJlYWQuanMiLCJ3ZWJwYWNrOi8vYW5hbHl0aWNzLWNsaWVudC8uL25vZGVfbW9kdWxlcy8ucG5wbS9heGlvc0AxLjYuMi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvaXNBeGlvc0Vycm9yLmpzIiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvLi9zcmMvZGVwcy9odHRwLWNsaWVudC50cyIsIndlYnBhY2s6Ly9hbmFseXRpY3MtY2xpZW50Ly4vc3JjL2xpYi9nYXBpL2FuYWx5dGljcy9nYXBpLmFuYWx5dGljcy5zZXJ2aWNlLnRzIiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvLi9zcmMvbGliL2dhcGkvZ2FwaS51dGlscy50cyIsIndlYnBhY2s6Ly9hbmFseXRpY3MtY2xpZW50Ly4vc3JjL2xpYi9nYXBpL2luZGV4LnRzIiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvLi9ub2RlX21vZHVsZXMvLnBucG0vanMtY29va2llQDMuMC41L25vZGVfbW9kdWxlcy9qcy1jb29raWUvZGlzdC9qcy5jb29raWUubWpzIiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvLi9zcmMvbGliL2dhcGkvc3RvcmFnZS5zZXJ2aWNlLnRzIiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvLi9zcmMvbGliL21hdG9tby9hcGkvY29yZS50cyIsIndlYnBhY2s6Ly9hbmFseXRpY3MtY2xpZW50Ly4vc3JjL2xpYi9tYXRvbW8vYXBpL2V2ZW50cy9ldmVudC50cyIsIndlYnBhY2s6Ly9hbmFseXRpY3MtY2xpZW50Ly4vc3JjL2xpYi9tYXRvbW8vYXBpL2V2ZW50cy9oZWxwZXJzL2luZGV4LnRzIiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvLi9zcmMvbGliL21hdG9tby9pbmRleC50cyIsIndlYnBhY2s6Ly9hbmFseXRpY3MtY2xpZW50Ly4vc3JjL3R5cGVzL2luZGV4LnRzIiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvLi9zcmMvdXRpbHMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vYW5hbHl0aWNzLWNsaWVudC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9hbmFseXRpY3MtY2xpZW50L3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9hbmFseXRpY3MtY2xpZW50L3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vYW5hbHl0aWNzLWNsaWVudC93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL2FuYWx5dGljcy1jbGllbnQvLi9zcmMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIHtcblx0XHR2YXIgYSA9IGZhY3RvcnkoKTtcblx0XHRmb3IodmFyIGkgaW4gYSkgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyA/IGV4cG9ydHMgOiByb290KVtpXSA9IGFbaV07XG5cdH1cbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYmluZChmbiwgdGhpc0FyZykge1xuICByZXR1cm4gZnVuY3Rpb24gd3JhcCgpIHtcbiAgICByZXR1cm4gZm4uYXBwbHkodGhpc0FyZywgYXJndW1lbnRzKTtcbiAgfTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IGJpbmQgZnJvbSAnLi9oZWxwZXJzL2JpbmQuanMnO1xuXG4vLyB1dGlscyBpcyBhIGxpYnJhcnkgb2YgZ2VuZXJpYyBoZWxwZXIgZnVuY3Rpb25zIG5vbi1zcGVjaWZpYyB0byBheGlvc1xuXG5jb25zdCB7dG9TdHJpbmd9ID0gT2JqZWN0LnByb3RvdHlwZTtcbmNvbnN0IHtnZXRQcm90b3R5cGVPZn0gPSBPYmplY3Q7XG5cbmNvbnN0IGtpbmRPZiA9IChjYWNoZSA9PiB0aGluZyA9PiB7XG4gICAgY29uc3Qgc3RyID0gdG9TdHJpbmcuY2FsbCh0aGluZyk7XG4gICAgcmV0dXJuIGNhY2hlW3N0cl0gfHwgKGNhY2hlW3N0cl0gPSBzdHIuc2xpY2UoOCwgLTEpLnRvTG93ZXJDYXNlKCkpO1xufSkoT2JqZWN0LmNyZWF0ZShudWxsKSk7XG5cbmNvbnN0IGtpbmRPZlRlc3QgPSAodHlwZSkgPT4ge1xuICB0eXBlID0gdHlwZS50b0xvd2VyQ2FzZSgpO1xuICByZXR1cm4gKHRoaW5nKSA9PiBraW5kT2YodGhpbmcpID09PSB0eXBlXG59XG5cbmNvbnN0IHR5cGVPZlRlc3QgPSB0eXBlID0+IHRoaW5nID0+IHR5cGVvZiB0aGluZyA9PT0gdHlwZTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBBcnJheVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBBcnJheSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IHtpc0FycmF5fSA9IEFycmF5O1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIHVuZGVmaW5lZFxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHZhbHVlIGlzIHVuZGVmaW5lZCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzVW5kZWZpbmVkID0gdHlwZU9mVGVzdCgndW5kZWZpbmVkJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBCdWZmZXJcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgQnVmZmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNCdWZmZXIodmFsKSB7XG4gIHJldHVybiB2YWwgIT09IG51bGwgJiYgIWlzVW5kZWZpbmVkKHZhbCkgJiYgdmFsLmNvbnN0cnVjdG9yICE9PSBudWxsICYmICFpc1VuZGVmaW5lZCh2YWwuY29uc3RydWN0b3IpXG4gICAgJiYgaXNGdW5jdGlvbih2YWwuY29uc3RydWN0b3IuaXNCdWZmZXIpICYmIHZhbC5jb25zdHJ1Y3Rvci5pc0J1ZmZlcih2YWwpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIEFycmF5QnVmZmVyXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBBcnJheUJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzQXJyYXlCdWZmZXIgPSBraW5kT2ZUZXN0KCdBcnJheUJ1ZmZlcicpO1xuXG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSB2aWV3IG9uIGFuIEFycmF5QnVmZmVyXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIHZpZXcgb24gYW4gQXJyYXlCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5QnVmZmVyVmlldyh2YWwpIHtcbiAgbGV0IHJlc3VsdDtcbiAgaWYgKCh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnKSAmJiAoQXJyYXlCdWZmZXIuaXNWaWV3KSkge1xuICAgIHJlc3VsdCA9IEFycmF5QnVmZmVyLmlzVmlldyh2YWwpO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdCA9ICh2YWwpICYmICh2YWwuYnVmZmVyKSAmJiAoaXNBcnJheUJ1ZmZlcih2YWwuYnVmZmVyKSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFN0cmluZ1xuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBTdHJpbmcsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc1N0cmluZyA9IHR5cGVPZlRlc3QoJ3N0cmluZycpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRnVuY3Rpb25cbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBGdW5jdGlvbiwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzRnVuY3Rpb24gPSB0eXBlT2ZUZXN0KCdmdW5jdGlvbicpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgTnVtYmVyXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIE51bWJlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzTnVtYmVyID0gdHlwZU9mVGVzdCgnbnVtYmVyJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gT2JqZWN0XG4gKlxuICogQHBhcmFtIHsqfSB0aGluZyBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIE9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzT2JqZWN0ID0gKHRoaW5nKSA9PiB0aGluZyAhPT0gbnVsbCAmJiB0eXBlb2YgdGhpbmcgPT09ICdvYmplY3QnO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgQm9vbGVhblxuICpcbiAqIEBwYXJhbSB7Kn0gdGhpbmcgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgQm9vbGVhbiwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzQm9vbGVhbiA9IHRoaW5nID0+IHRoaW5nID09PSB0cnVlIHx8IHRoaW5nID09PSBmYWxzZTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIHBsYWluIE9iamVjdFxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBwbGFpbiBPYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc1BsYWluT2JqZWN0ID0gKHZhbCkgPT4ge1xuICBpZiAoa2luZE9mKHZhbCkgIT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgY29uc3QgcHJvdG90eXBlID0gZ2V0UHJvdG90eXBlT2YodmFsKTtcbiAgcmV0dXJuIChwcm90b3R5cGUgPT09IG51bGwgfHwgcHJvdG90eXBlID09PSBPYmplY3QucHJvdG90eXBlIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90b3R5cGUpID09PSBudWxsKSAmJiAhKFN5bWJvbC50b1N0cmluZ1RhZyBpbiB2YWwpICYmICEoU3ltYm9sLml0ZXJhdG9yIGluIHZhbCk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBEYXRlXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIERhdGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc0RhdGUgPSBraW5kT2ZUZXN0KCdEYXRlJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGaWxlXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEZpbGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc0ZpbGUgPSBraW5kT2ZUZXN0KCdGaWxlJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBCbG9iXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEJsb2IsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc0Jsb2IgPSBraW5kT2ZUZXN0KCdCbG9iJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGaWxlTGlzdFxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBGaWxlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNGaWxlTGlzdCA9IGtpbmRPZlRlc3QoJ0ZpbGVMaXN0Jyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBTdHJlYW1cbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgU3RyZWFtLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNTdHJlYW0gPSAodmFsKSA9PiBpc09iamVjdCh2YWwpICYmIGlzRnVuY3Rpb24odmFsLnBpcGUpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRm9ybURhdGFcbiAqXG4gKiBAcGFyYW0geyp9IHRoaW5nIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gRm9ybURhdGEsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc0Zvcm1EYXRhID0gKHRoaW5nKSA9PiB7XG4gIGxldCBraW5kO1xuICByZXR1cm4gdGhpbmcgJiYgKFxuICAgICh0eXBlb2YgRm9ybURhdGEgPT09ICdmdW5jdGlvbicgJiYgdGhpbmcgaW5zdGFuY2VvZiBGb3JtRGF0YSkgfHwgKFxuICAgICAgaXNGdW5jdGlvbih0aGluZy5hcHBlbmQpICYmIChcbiAgICAgICAgKGtpbmQgPSBraW5kT2YodGhpbmcpKSA9PT0gJ2Zvcm1kYXRhJyB8fFxuICAgICAgICAvLyBkZXRlY3QgZm9ybS1kYXRhIGluc3RhbmNlXG4gICAgICAgIChraW5kID09PSAnb2JqZWN0JyAmJiBpc0Z1bmN0aW9uKHRoaW5nLnRvU3RyaW5nKSAmJiB0aGluZy50b1N0cmluZygpID09PSAnW29iamVjdCBGb3JtRGF0YV0nKVxuICAgICAgKVxuICAgIClcbiAgKVxufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgVVJMU2VhcmNoUGFyYW1zIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBVUkxTZWFyY2hQYXJhbXMgb2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNVUkxTZWFyY2hQYXJhbXMgPSBraW5kT2ZUZXN0KCdVUkxTZWFyY2hQYXJhbXMnKTtcblxuLyoqXG4gKiBUcmltIGV4Y2VzcyB3aGl0ZXNwYWNlIG9mZiB0aGUgYmVnaW5uaW5nIGFuZCBlbmQgb2YgYSBzdHJpbmdcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyIFRoZSBTdHJpbmcgdG8gdHJpbVxuICpcbiAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBTdHJpbmcgZnJlZWQgb2YgZXhjZXNzIHdoaXRlc3BhY2VcbiAqL1xuY29uc3QgdHJpbSA9IChzdHIpID0+IHN0ci50cmltID9cbiAgc3RyLnRyaW0oKSA6IHN0ci5yZXBsYWNlKC9eW1xcc1xcdUZFRkZcXHhBMF0rfFtcXHNcXHVGRUZGXFx4QTBdKyQvZywgJycpO1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBhbiBBcnJheSBvciBhbiBPYmplY3QgaW52b2tpbmcgYSBmdW5jdGlvbiBmb3IgZWFjaCBpdGVtLlxuICpcbiAqIElmIGBvYmpgIGlzIGFuIEFycmF5IGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHBhc3NpbmdcbiAqIHRoZSB2YWx1ZSwgaW5kZXgsIGFuZCBjb21wbGV0ZSBhcnJheSBmb3IgZWFjaCBpdGVtLlxuICpcbiAqIElmICdvYmonIGlzIGFuIE9iamVjdCBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBwYXNzaW5nXG4gKiB0aGUgdmFsdWUsIGtleSwgYW5kIGNvbXBsZXRlIG9iamVjdCBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdHxBcnJheX0gb2JqIFRoZSBvYmplY3QgdG8gaXRlcmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGNhbGxiYWNrIHRvIGludm9rZSBmb3IgZWFjaCBpdGVtXG4gKlxuICogQHBhcmFtIHtCb29sZWFufSBbYWxsT3duS2V5cyA9IGZhbHNlXVxuICogQHJldHVybnMge2FueX1cbiAqL1xuZnVuY3Rpb24gZm9yRWFjaChvYmosIGZuLCB7YWxsT3duS2V5cyA9IGZhbHNlfSA9IHt9KSB7XG4gIC8vIERvbid0IGJvdGhlciBpZiBubyB2YWx1ZSBwcm92aWRlZFxuICBpZiAob2JqID09PSBudWxsIHx8IHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbGV0IGk7XG4gIGxldCBsO1xuXG4gIC8vIEZvcmNlIGFuIGFycmF5IGlmIG5vdCBhbHJlYWR5IHNvbWV0aGluZyBpdGVyYWJsZVxuICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcbiAgICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgICBvYmogPSBbb2JqXTtcbiAgfVxuXG4gIGlmIChpc0FycmF5KG9iaikpIHtcbiAgICAvLyBJdGVyYXRlIG92ZXIgYXJyYXkgdmFsdWVzXG4gICAgZm9yIChpID0gMCwgbCA9IG9iai5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGZuLmNhbGwobnVsbCwgb2JqW2ldLCBpLCBvYmopO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBJdGVyYXRlIG92ZXIgb2JqZWN0IGtleXNcbiAgICBjb25zdCBrZXlzID0gYWxsT3duS2V5cyA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG9iaikgOiBPYmplY3Qua2V5cyhvYmopO1xuICAgIGNvbnN0IGxlbiA9IGtleXMubGVuZ3RoO1xuICAgIGxldCBrZXk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICBmbi5jYWxsKG51bGwsIG9ialtrZXldLCBrZXksIG9iaik7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGZpbmRLZXkob2JqLCBrZXkpIHtcbiAga2V5ID0ga2V5LnRvTG93ZXJDYXNlKCk7XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICBsZXQgaSA9IGtleXMubGVuZ3RoO1xuICBsZXQgX2tleTtcbiAgd2hpbGUgKGktLSA+IDApIHtcbiAgICBfa2V5ID0ga2V5c1tpXTtcbiAgICBpZiAoa2V5ID09PSBfa2V5LnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgIHJldHVybiBfa2V5O1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuY29uc3QgX2dsb2JhbCA9ICgoKSA9PiB7XG4gIC8qZXNsaW50IG5vLXVuZGVmOjAqL1xuICBpZiAodHlwZW9mIGdsb2JhbFRoaXMgIT09IFwidW5kZWZpbmVkXCIpIHJldHVybiBnbG9iYWxUaGlzO1xuICByZXR1cm4gdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogZ2xvYmFsKVxufSkoKTtcblxuY29uc3QgaXNDb250ZXh0RGVmaW5lZCA9IChjb250ZXh0KSA9PiAhaXNVbmRlZmluZWQoY29udGV4dCkgJiYgY29udGV4dCAhPT0gX2dsb2JhbDtcblxuLyoqXG4gKiBBY2NlcHRzIHZhcmFyZ3MgZXhwZWN0aW5nIGVhY2ggYXJndW1lbnQgdG8gYmUgYW4gb2JqZWN0LCB0aGVuXG4gKiBpbW11dGFibHkgbWVyZ2VzIHRoZSBwcm9wZXJ0aWVzIG9mIGVhY2ggb2JqZWN0IGFuZCByZXR1cm5zIHJlc3VsdC5cbiAqXG4gKiBXaGVuIG11bHRpcGxlIG9iamVjdHMgY29udGFpbiB0aGUgc2FtZSBrZXkgdGhlIGxhdGVyIG9iamVjdCBpblxuICogdGhlIGFyZ3VtZW50cyBsaXN0IHdpbGwgdGFrZSBwcmVjZWRlbmNlLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBganNcbiAqIHZhciByZXN1bHQgPSBtZXJnZSh7Zm9vOiAxMjN9LCB7Zm9vOiA0NTZ9KTtcbiAqIGNvbnNvbGUubG9nKHJlc3VsdC5mb28pOyAvLyBvdXRwdXRzIDQ1NlxuICogYGBgXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iajEgT2JqZWN0IHRvIG1lcmdlXG4gKlxuICogQHJldHVybnMge09iamVjdH0gUmVzdWx0IG9mIGFsbCBtZXJnZSBwcm9wZXJ0aWVzXG4gKi9cbmZ1bmN0aW9uIG1lcmdlKC8qIG9iajEsIG9iajIsIG9iajMsIC4uLiAqLykge1xuICBjb25zdCB7Y2FzZWxlc3N9ID0gaXNDb250ZXh0RGVmaW5lZCh0aGlzKSAmJiB0aGlzIHx8IHt9O1xuICBjb25zdCByZXN1bHQgPSB7fTtcbiAgY29uc3QgYXNzaWduVmFsdWUgPSAodmFsLCBrZXkpID0+IHtcbiAgICBjb25zdCB0YXJnZXRLZXkgPSBjYXNlbGVzcyAmJiBmaW5kS2V5KHJlc3VsdCwga2V5KSB8fCBrZXk7XG4gICAgaWYgKGlzUGxhaW5PYmplY3QocmVzdWx0W3RhcmdldEtleV0pICYmIGlzUGxhaW5PYmplY3QodmFsKSkge1xuICAgICAgcmVzdWx0W3RhcmdldEtleV0gPSBtZXJnZShyZXN1bHRbdGFyZ2V0S2V5XSwgdmFsKTtcbiAgICB9IGVsc2UgaWYgKGlzUGxhaW5PYmplY3QodmFsKSkge1xuICAgICAgcmVzdWx0W3RhcmdldEtleV0gPSBtZXJnZSh7fSwgdmFsKTtcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkodmFsKSkge1xuICAgICAgcmVzdWx0W3RhcmdldEtleV0gPSB2YWwuc2xpY2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0W3RhcmdldEtleV0gPSB2YWw7XG4gICAgfVxuICB9XG5cbiAgZm9yIChsZXQgaSA9IDAsIGwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgYXJndW1lbnRzW2ldICYmIGZvckVhY2goYXJndW1lbnRzW2ldLCBhc3NpZ25WYWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBFeHRlbmRzIG9iamVjdCBhIGJ5IG11dGFibHkgYWRkaW5nIHRvIGl0IHRoZSBwcm9wZXJ0aWVzIG9mIG9iamVjdCBiLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBhIFRoZSBvYmplY3QgdG8gYmUgZXh0ZW5kZWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBiIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGZyb21cbiAqIEBwYXJhbSB7T2JqZWN0fSB0aGlzQXJnIFRoZSBvYmplY3QgdG8gYmluZCBmdW5jdGlvbiB0b1xuICpcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW2FsbE93bktleXNdXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgcmVzdWx0aW5nIHZhbHVlIG9mIG9iamVjdCBhXG4gKi9cbmNvbnN0IGV4dGVuZCA9IChhLCBiLCB0aGlzQXJnLCB7YWxsT3duS2V5c309IHt9KSA9PiB7XG4gIGZvckVhY2goYiwgKHZhbCwga2V5KSA9PiB7XG4gICAgaWYgKHRoaXNBcmcgJiYgaXNGdW5jdGlvbih2YWwpKSB7XG4gICAgICBhW2tleV0gPSBiaW5kKHZhbCwgdGhpc0FyZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFba2V5XSA9IHZhbDtcbiAgICB9XG4gIH0sIHthbGxPd25LZXlzfSk7XG4gIHJldHVybiBhO1xufVxuXG4vKipcbiAqIFJlbW92ZSBieXRlIG9yZGVyIG1hcmtlci4gVGhpcyBjYXRjaGVzIEVGIEJCIEJGICh0aGUgVVRGLTggQk9NKVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50IHdpdGggQk9NXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gY29udGVudCB2YWx1ZSB3aXRob3V0IEJPTVxuICovXG5jb25zdCBzdHJpcEJPTSA9IChjb250ZW50KSA9PiB7XG4gIGlmIChjb250ZW50LmNoYXJDb2RlQXQoMCkgPT09IDB4RkVGRikge1xuICAgIGNvbnRlbnQgPSBjb250ZW50LnNsaWNlKDEpO1xuICB9XG4gIHJldHVybiBjb250ZW50O1xufVxuXG4vKipcbiAqIEluaGVyaXQgdGhlIHByb3RvdHlwZSBtZXRob2RzIGZyb20gb25lIGNvbnN0cnVjdG9yIGludG8gYW5vdGhlclxuICogQHBhcmFtIHtmdW5jdGlvbn0gY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHN1cGVyQ29uc3RydWN0b3JcbiAqIEBwYXJhbSB7b2JqZWN0fSBbcHJvcHNdXG4gKiBAcGFyYW0ge29iamVjdH0gW2Rlc2NyaXB0b3JzXVxuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5jb25zdCBpbmhlcml0cyA9IChjb25zdHJ1Y3Rvciwgc3VwZXJDb25zdHJ1Y3RvciwgcHJvcHMsIGRlc2NyaXB0b3JzKSA9PiB7XG4gIGNvbnN0cnVjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIGRlc2NyaXB0b3JzKTtcbiAgY29uc3RydWN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY29uc3RydWN0b3I7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb25zdHJ1Y3RvciwgJ3N1cGVyJywge1xuICAgIHZhbHVlOiBzdXBlckNvbnN0cnVjdG9yLnByb3RvdHlwZVxuICB9KTtcbiAgcHJvcHMgJiYgT2JqZWN0LmFzc2lnbihjb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3BzKTtcbn1cblxuLyoqXG4gKiBSZXNvbHZlIG9iamVjdCB3aXRoIGRlZXAgcHJvdG90eXBlIGNoYWluIHRvIGEgZmxhdCBvYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2VPYmogc291cmNlIG9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IFtkZXN0T2JqXVxuICogQHBhcmFtIHtGdW5jdGlvbnxCb29sZWFufSBbZmlsdGVyXVxuICogQHBhcmFtIHtGdW5jdGlvbn0gW3Byb3BGaWx0ZXJdXG4gKlxuICogQHJldHVybnMge09iamVjdH1cbiAqL1xuY29uc3QgdG9GbGF0T2JqZWN0ID0gKHNvdXJjZU9iaiwgZGVzdE9iaiwgZmlsdGVyLCBwcm9wRmlsdGVyKSA9PiB7XG4gIGxldCBwcm9wcztcbiAgbGV0IGk7XG4gIGxldCBwcm9wO1xuICBjb25zdCBtZXJnZWQgPSB7fTtcblxuICBkZXN0T2JqID0gZGVzdE9iaiB8fCB7fTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gIGlmIChzb3VyY2VPYmogPT0gbnVsbCkgcmV0dXJuIGRlc3RPYmo7XG5cbiAgZG8ge1xuICAgIHByb3BzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoc291cmNlT2JqKTtcbiAgICBpID0gcHJvcHMubGVuZ3RoO1xuICAgIHdoaWxlIChpLS0gPiAwKSB7XG4gICAgICBwcm9wID0gcHJvcHNbaV07XG4gICAgICBpZiAoKCFwcm9wRmlsdGVyIHx8IHByb3BGaWx0ZXIocHJvcCwgc291cmNlT2JqLCBkZXN0T2JqKSkgJiYgIW1lcmdlZFtwcm9wXSkge1xuICAgICAgICBkZXN0T2JqW3Byb3BdID0gc291cmNlT2JqW3Byb3BdO1xuICAgICAgICBtZXJnZWRbcHJvcF0gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBzb3VyY2VPYmogPSBmaWx0ZXIgIT09IGZhbHNlICYmIGdldFByb3RvdHlwZU9mKHNvdXJjZU9iaik7XG4gIH0gd2hpbGUgKHNvdXJjZU9iaiAmJiAoIWZpbHRlciB8fCBmaWx0ZXIoc291cmNlT2JqLCBkZXN0T2JqKSkgJiYgc291cmNlT2JqICE9PSBPYmplY3QucHJvdG90eXBlKTtcblxuICByZXR1cm4gZGVzdE9iajtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgYSBzdHJpbmcgZW5kcyB3aXRoIHRoZSBjaGFyYWN0ZXJzIG9mIGEgc3BlY2lmaWVkIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWFyY2hTdHJpbmdcbiAqIEBwYXJhbSB7TnVtYmVyfSBbcG9zaXRpb249IDBdXG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmNvbnN0IGVuZHNXaXRoID0gKHN0ciwgc2VhcmNoU3RyaW5nLCBwb3NpdGlvbikgPT4ge1xuICBzdHIgPSBTdHJpbmcoc3RyKTtcbiAgaWYgKHBvc2l0aW9uID09PSB1bmRlZmluZWQgfHwgcG9zaXRpb24gPiBzdHIubGVuZ3RoKSB7XG4gICAgcG9zaXRpb24gPSBzdHIubGVuZ3RoO1xuICB9XG4gIHBvc2l0aW9uIC09IHNlYXJjaFN0cmluZy5sZW5ndGg7XG4gIGNvbnN0IGxhc3RJbmRleCA9IHN0ci5pbmRleE9mKHNlYXJjaFN0cmluZywgcG9zaXRpb24pO1xuICByZXR1cm4gbGFzdEluZGV4ICE9PSAtMSAmJiBsYXN0SW5kZXggPT09IHBvc2l0aW9uO1xufVxuXG5cbi8qKlxuICogUmV0dXJucyBuZXcgYXJyYXkgZnJvbSBhcnJheSBsaWtlIG9iamVjdCBvciBudWxsIGlmIGZhaWxlZFxuICpcbiAqIEBwYXJhbSB7Kn0gW3RoaW5nXVxuICpcbiAqIEByZXR1cm5zIHs/QXJyYXl9XG4gKi9cbmNvbnN0IHRvQXJyYXkgPSAodGhpbmcpID0+IHtcbiAgaWYgKCF0aGluZykgcmV0dXJuIG51bGw7XG4gIGlmIChpc0FycmF5KHRoaW5nKSkgcmV0dXJuIHRoaW5nO1xuICBsZXQgaSA9IHRoaW5nLmxlbmd0aDtcbiAgaWYgKCFpc051bWJlcihpKSkgcmV0dXJuIG51bGw7XG4gIGNvbnN0IGFyciA9IG5ldyBBcnJheShpKTtcbiAgd2hpbGUgKGktLSA+IDApIHtcbiAgICBhcnJbaV0gPSB0aGluZ1tpXTtcbiAgfVxuICByZXR1cm4gYXJyO1xufVxuXG4vKipcbiAqIENoZWNraW5nIGlmIHRoZSBVaW50OEFycmF5IGV4aXN0cyBhbmQgaWYgaXQgZG9lcywgaXQgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgY2hlY2tzIGlmIHRoZVxuICogdGhpbmcgcGFzc2VkIGluIGlzIGFuIGluc3RhbmNlIG9mIFVpbnQ4QXJyYXlcbiAqXG4gKiBAcGFyYW0ge1R5cGVkQXJyYXl9XG4gKlxuICogQHJldHVybnMge0FycmF5fVxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuY29uc3QgaXNUeXBlZEFycmF5ID0gKFR5cGVkQXJyYXkgPT4ge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICByZXR1cm4gdGhpbmcgPT4ge1xuICAgIHJldHVybiBUeXBlZEFycmF5ICYmIHRoaW5nIGluc3RhbmNlb2YgVHlwZWRBcnJheTtcbiAgfTtcbn0pKHR5cGVvZiBVaW50OEFycmF5ICE9PSAndW5kZWZpbmVkJyAmJiBnZXRQcm90b3R5cGVPZihVaW50OEFycmF5KSk7XG5cbi8qKlxuICogRm9yIGVhY2ggZW50cnkgaW4gdGhlIG9iamVjdCwgY2FsbCB0aGUgZnVuY3Rpb24gd2l0aCB0aGUga2V5IGFuZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdDxhbnksIGFueT59IG9iaiAtIFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgZnVuY3Rpb24gdG8gY2FsbCBmb3IgZWFjaCBlbnRyeS5cbiAqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuY29uc3QgZm9yRWFjaEVudHJ5ID0gKG9iaiwgZm4pID0+IHtcbiAgY29uc3QgZ2VuZXJhdG9yID0gb2JqICYmIG9ialtTeW1ib2wuaXRlcmF0b3JdO1xuXG4gIGNvbnN0IGl0ZXJhdG9yID0gZ2VuZXJhdG9yLmNhbGwob2JqKTtcblxuICBsZXQgcmVzdWx0O1xuXG4gIHdoaWxlICgocmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpKSAmJiAhcmVzdWx0LmRvbmUpIHtcbiAgICBjb25zdCBwYWlyID0gcmVzdWx0LnZhbHVlO1xuICAgIGZuLmNhbGwob2JqLCBwYWlyWzBdLCBwYWlyWzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIEl0IHRha2VzIGEgcmVndWxhciBleHByZXNzaW9uIGFuZCBhIHN0cmluZywgYW5kIHJldHVybnMgYW4gYXJyYXkgb2YgYWxsIHRoZSBtYXRjaGVzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHJlZ0V4cCAtIFRoZSByZWd1bGFyIGV4cHJlc3Npb24gdG8gbWF0Y2ggYWdhaW5zdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgLSBUaGUgc3RyaW5nIHRvIHNlYXJjaC5cbiAqXG4gKiBAcmV0dXJucyB7QXJyYXk8Ym9vbGVhbj59XG4gKi9cbmNvbnN0IG1hdGNoQWxsID0gKHJlZ0V4cCwgc3RyKSA9PiB7XG4gIGxldCBtYXRjaGVzO1xuICBjb25zdCBhcnIgPSBbXTtcblxuICB3aGlsZSAoKG1hdGNoZXMgPSByZWdFeHAuZXhlYyhzdHIpKSAhPT0gbnVsbCkge1xuICAgIGFyci5wdXNoKG1hdGNoZXMpO1xuICB9XG5cbiAgcmV0dXJuIGFycjtcbn1cblxuLyogQ2hlY2tpbmcgaWYgdGhlIGtpbmRPZlRlc3QgZnVuY3Rpb24gcmV0dXJucyB0cnVlIHdoZW4gcGFzc2VkIGFuIEhUTUxGb3JtRWxlbWVudC4gKi9cbmNvbnN0IGlzSFRNTEZvcm0gPSBraW5kT2ZUZXN0KCdIVE1MRm9ybUVsZW1lbnQnKTtcblxuY29uc3QgdG9DYW1lbENhc2UgPSBzdHIgPT4ge1xuICByZXR1cm4gc3RyLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvWy1fXFxzXShbYS16XFxkXSkoXFx3KikvZyxcbiAgICBmdW5jdGlvbiByZXBsYWNlcihtLCBwMSwgcDIpIHtcbiAgICAgIHJldHVybiBwMS50b1VwcGVyQ2FzZSgpICsgcDI7XG4gICAgfVxuICApO1xufTtcblxuLyogQ3JlYXRpbmcgYSBmdW5jdGlvbiB0aGF0IHdpbGwgY2hlY2sgaWYgYW4gb2JqZWN0IGhhcyBhIHByb3BlcnR5LiAqL1xuY29uc3QgaGFzT3duUHJvcGVydHkgPSAoKHtoYXNPd25Qcm9wZXJ0eX0pID0+IChvYmosIHByb3ApID0+IGhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkoT2JqZWN0LnByb3RvdHlwZSk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBSZWdFeHAgb2JqZWN0XG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFJlZ0V4cCBvYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc1JlZ0V4cCA9IGtpbmRPZlRlc3QoJ1JlZ0V4cCcpO1xuXG5jb25zdCByZWR1Y2VEZXNjcmlwdG9ycyA9IChvYmosIHJlZHVjZXIpID0+IHtcbiAgY29uc3QgZGVzY3JpcHRvcnMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhvYmopO1xuICBjb25zdCByZWR1Y2VkRGVzY3JpcHRvcnMgPSB7fTtcblxuICBmb3JFYWNoKGRlc2NyaXB0b3JzLCAoZGVzY3JpcHRvciwgbmFtZSkgPT4ge1xuICAgIGxldCByZXQ7XG4gICAgaWYgKChyZXQgPSByZWR1Y2VyKGRlc2NyaXB0b3IsIG5hbWUsIG9iaikpICE9PSBmYWxzZSkge1xuICAgICAgcmVkdWNlZERlc2NyaXB0b3JzW25hbWVdID0gcmV0IHx8IGRlc2NyaXB0b3I7XG4gICAgfVxuICB9KTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhvYmosIHJlZHVjZWREZXNjcmlwdG9ycyk7XG59XG5cbi8qKlxuICogTWFrZXMgYWxsIG1ldGhvZHMgcmVhZC1vbmx5XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKi9cblxuY29uc3QgZnJlZXplTWV0aG9kcyA9IChvYmopID0+IHtcbiAgcmVkdWNlRGVzY3JpcHRvcnMob2JqLCAoZGVzY3JpcHRvciwgbmFtZSkgPT4ge1xuICAgIC8vIHNraXAgcmVzdHJpY3RlZCBwcm9wcyBpbiBzdHJpY3QgbW9kZVxuICAgIGlmIChpc0Z1bmN0aW9uKG9iaikgJiYgWydhcmd1bWVudHMnLCAnY2FsbGVyJywgJ2NhbGxlZSddLmluZGV4T2YobmFtZSkgIT09IC0xKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgdmFsdWUgPSBvYmpbbmFtZV07XG5cbiAgICBpZiAoIWlzRnVuY3Rpb24odmFsdWUpKSByZXR1cm47XG5cbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBmYWxzZTtcblxuICAgIGlmICgnd3JpdGFibGUnIGluIGRlc2NyaXB0b3IpIHtcbiAgICAgIGRlc2NyaXB0b3Iud3JpdGFibGUgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIWRlc2NyaXB0b3Iuc2V0KSB7XG4gICAgICBkZXNjcmlwdG9yLnNldCA9ICgpID0+IHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ0NhbiBub3QgcmV3cml0ZSByZWFkLW9ubHkgbWV0aG9kIFxcJycgKyBuYW1lICsgJ1xcJycpO1xuICAgICAgfTtcbiAgICB9XG4gIH0pO1xufVxuXG5jb25zdCB0b09iamVjdFNldCA9IChhcnJheU9yU3RyaW5nLCBkZWxpbWl0ZXIpID0+IHtcbiAgY29uc3Qgb2JqID0ge307XG5cbiAgY29uc3QgZGVmaW5lID0gKGFycikgPT4ge1xuICAgIGFyci5mb3JFYWNoKHZhbHVlID0+IHtcbiAgICAgIG9ialt2YWx1ZV0gPSB0cnVlO1xuICAgIH0pO1xuICB9XG5cbiAgaXNBcnJheShhcnJheU9yU3RyaW5nKSA/IGRlZmluZShhcnJheU9yU3RyaW5nKSA6IGRlZmluZShTdHJpbmcoYXJyYXlPclN0cmluZykuc3BsaXQoZGVsaW1pdGVyKSk7XG5cbiAgcmV0dXJuIG9iajtcbn1cblxuY29uc3Qgbm9vcCA9ICgpID0+IHt9XG5cbmNvbnN0IHRvRmluaXRlTnVtYmVyID0gKHZhbHVlLCBkZWZhdWx0VmFsdWUpID0+IHtcbiAgdmFsdWUgPSArdmFsdWU7XG4gIHJldHVybiBOdW1iZXIuaXNGaW5pdGUodmFsdWUpID8gdmFsdWUgOiBkZWZhdWx0VmFsdWU7XG59XG5cbmNvbnN0IEFMUEhBID0gJ2FiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6J1xuXG5jb25zdCBESUdJVCA9ICcwMTIzNDU2Nzg5JztcblxuY29uc3QgQUxQSEFCRVQgPSB7XG4gIERJR0lULFxuICBBTFBIQSxcbiAgQUxQSEFfRElHSVQ6IEFMUEhBICsgQUxQSEEudG9VcHBlckNhc2UoKSArIERJR0lUXG59XG5cbmNvbnN0IGdlbmVyYXRlU3RyaW5nID0gKHNpemUgPSAxNiwgYWxwaGFiZXQgPSBBTFBIQUJFVC5BTFBIQV9ESUdJVCkgPT4ge1xuICBsZXQgc3RyID0gJyc7XG4gIGNvbnN0IHtsZW5ndGh9ID0gYWxwaGFiZXQ7XG4gIHdoaWxlIChzaXplLS0pIHtcbiAgICBzdHIgKz0gYWxwaGFiZXRbTWF0aC5yYW5kb20oKSAqIGxlbmd0aHwwXVxuICB9XG5cbiAgcmV0dXJuIHN0cjtcbn1cblxuLyoqXG4gKiBJZiB0aGUgdGhpbmcgaXMgYSBGb3JtRGF0YSBvYmplY3QsIHJldHVybiB0cnVlLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxuICpcbiAqIEBwYXJhbSB7dW5rbm93bn0gdGhpbmcgLSBUaGUgdGhpbmcgdG8gY2hlY2suXG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzU3BlY0NvbXBsaWFudEZvcm0odGhpbmcpIHtcbiAgcmV0dXJuICEhKHRoaW5nICYmIGlzRnVuY3Rpb24odGhpbmcuYXBwZW5kKSAmJiB0aGluZ1tTeW1ib2wudG9TdHJpbmdUYWddID09PSAnRm9ybURhdGEnICYmIHRoaW5nW1N5bWJvbC5pdGVyYXRvcl0pO1xufVxuXG5jb25zdCB0b0pTT05PYmplY3QgPSAob2JqKSA9PiB7XG4gIGNvbnN0IHN0YWNrID0gbmV3IEFycmF5KDEwKTtcblxuICBjb25zdCB2aXNpdCA9IChzb3VyY2UsIGkpID0+IHtcblxuICAgIGlmIChpc09iamVjdChzb3VyY2UpKSB7XG4gICAgICBpZiAoc3RhY2suaW5kZXhPZihzb3VyY2UpID49IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZighKCd0b0pTT04nIGluIHNvdXJjZSkpIHtcbiAgICAgICAgc3RhY2tbaV0gPSBzb3VyY2U7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGlzQXJyYXkoc291cmNlKSA/IFtdIDoge307XG5cbiAgICAgICAgZm9yRWFjaChzb3VyY2UsICh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgY29uc3QgcmVkdWNlZFZhbHVlID0gdmlzaXQodmFsdWUsIGkgKyAxKTtcbiAgICAgICAgICAhaXNVbmRlZmluZWQocmVkdWNlZFZhbHVlKSAmJiAodGFyZ2V0W2tleV0gPSByZWR1Y2VkVmFsdWUpO1xuICAgICAgICB9KTtcblxuICAgICAgICBzdGFja1tpXSA9IHVuZGVmaW5lZDtcblxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzb3VyY2U7XG4gIH1cblxuICByZXR1cm4gdmlzaXQob2JqLCAwKTtcbn1cblxuY29uc3QgaXNBc3luY0ZuID0ga2luZE9mVGVzdCgnQXN5bmNGdW5jdGlvbicpO1xuXG5jb25zdCBpc1RoZW5hYmxlID0gKHRoaW5nKSA9PlxuICB0aGluZyAmJiAoaXNPYmplY3QodGhpbmcpIHx8IGlzRnVuY3Rpb24odGhpbmcpKSAmJiBpc0Z1bmN0aW9uKHRoaW5nLnRoZW4pICYmIGlzRnVuY3Rpb24odGhpbmcuY2F0Y2gpO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGlzQXJyYXksXG4gIGlzQXJyYXlCdWZmZXIsXG4gIGlzQnVmZmVyLFxuICBpc0Zvcm1EYXRhLFxuICBpc0FycmF5QnVmZmVyVmlldyxcbiAgaXNTdHJpbmcsXG4gIGlzTnVtYmVyLFxuICBpc0Jvb2xlYW4sXG4gIGlzT2JqZWN0LFxuICBpc1BsYWluT2JqZWN0LFxuICBpc1VuZGVmaW5lZCxcbiAgaXNEYXRlLFxuICBpc0ZpbGUsXG4gIGlzQmxvYixcbiAgaXNSZWdFeHAsXG4gIGlzRnVuY3Rpb24sXG4gIGlzU3RyZWFtLFxuICBpc1VSTFNlYXJjaFBhcmFtcyxcbiAgaXNUeXBlZEFycmF5LFxuICBpc0ZpbGVMaXN0LFxuICBmb3JFYWNoLFxuICBtZXJnZSxcbiAgZXh0ZW5kLFxuICB0cmltLFxuICBzdHJpcEJPTSxcbiAgaW5oZXJpdHMsXG4gIHRvRmxhdE9iamVjdCxcbiAga2luZE9mLFxuICBraW5kT2ZUZXN0LFxuICBlbmRzV2l0aCxcbiAgdG9BcnJheSxcbiAgZm9yRWFjaEVudHJ5LFxuICBtYXRjaEFsbCxcbiAgaXNIVE1MRm9ybSxcbiAgaGFzT3duUHJvcGVydHksXG4gIGhhc093blByb3A6IGhhc093blByb3BlcnR5LCAvLyBhbiBhbGlhcyB0byBhdm9pZCBFU0xpbnQgbm8tcHJvdG90eXBlLWJ1aWx0aW5zIGRldGVjdGlvblxuICByZWR1Y2VEZXNjcmlwdG9ycyxcbiAgZnJlZXplTWV0aG9kcyxcbiAgdG9PYmplY3RTZXQsXG4gIHRvQ2FtZWxDYXNlLFxuICBub29wLFxuICB0b0Zpbml0ZU51bWJlcixcbiAgZmluZEtleSxcbiAgZ2xvYmFsOiBfZ2xvYmFsLFxuICBpc0NvbnRleHREZWZpbmVkLFxuICBBTFBIQUJFVCxcbiAgZ2VuZXJhdGVTdHJpbmcsXG4gIGlzU3BlY0NvbXBsaWFudEZvcm0sXG4gIHRvSlNPTk9iamVjdCxcbiAgaXNBc3luY0ZuLFxuICBpc1RoZW5hYmxlXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuXG4vKipcbiAqIENyZWF0ZSBhbiBFcnJvciB3aXRoIHRoZSBzcGVjaWZpZWQgbWVzc2FnZSwgY29uZmlnLCBlcnJvciBjb2RlLCByZXF1ZXN0IGFuZCByZXNwb25zZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbY29kZV0gVGhlIGVycm9yIGNvZGUgKGZvciBleGFtcGxlLCAnRUNPTk5BQk9SVEVEJykuXG4gKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZ10gVGhlIGNvbmZpZy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVxdWVzdF0gVGhlIHJlcXVlc3QuXG4gKiBAcGFyYW0ge09iamVjdH0gW3Jlc3BvbnNlXSBUaGUgcmVzcG9uc2UuXG4gKlxuICogQHJldHVybnMge0Vycm9yfSBUaGUgY3JlYXRlZCBlcnJvci5cbiAqL1xuZnVuY3Rpb24gQXhpb3NFcnJvcihtZXNzYWdlLCBjb2RlLCBjb25maWcsIHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gIEVycm9yLmNhbGwodGhpcyk7XG5cbiAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgdGhpcy5jb25zdHJ1Y3Rvcik7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5zdGFjayA9IChuZXcgRXJyb3IoKSkuc3RhY2s7XG4gIH1cblxuICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICB0aGlzLm5hbWUgPSAnQXhpb3NFcnJvcic7XG4gIGNvZGUgJiYgKHRoaXMuY29kZSA9IGNvZGUpO1xuICBjb25maWcgJiYgKHRoaXMuY29uZmlnID0gY29uZmlnKTtcbiAgcmVxdWVzdCAmJiAodGhpcy5yZXF1ZXN0ID0gcmVxdWVzdCk7XG4gIHJlc3BvbnNlICYmICh0aGlzLnJlc3BvbnNlID0gcmVzcG9uc2UpO1xufVxuXG51dGlscy5pbmhlcml0cyhBeGlvc0Vycm9yLCBFcnJvciwge1xuICB0b0pTT046IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLy8gU3RhbmRhcmRcbiAgICAgIG1lc3NhZ2U6IHRoaXMubWVzc2FnZSxcbiAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgIC8vIE1pY3Jvc29mdFxuICAgICAgZGVzY3JpcHRpb246IHRoaXMuZGVzY3JpcHRpb24sXG4gICAgICBudW1iZXI6IHRoaXMubnVtYmVyLFxuICAgICAgLy8gTW96aWxsYVxuICAgICAgZmlsZU5hbWU6IHRoaXMuZmlsZU5hbWUsXG4gICAgICBsaW5lTnVtYmVyOiB0aGlzLmxpbmVOdW1iZXIsXG4gICAgICBjb2x1bW5OdW1iZXI6IHRoaXMuY29sdW1uTnVtYmVyLFxuICAgICAgc3RhY2s6IHRoaXMuc3RhY2ssXG4gICAgICAvLyBBeGlvc1xuICAgICAgY29uZmlnOiB1dGlscy50b0pTT05PYmplY3QodGhpcy5jb25maWcpLFxuICAgICAgY29kZTogdGhpcy5jb2RlLFxuICAgICAgc3RhdHVzOiB0aGlzLnJlc3BvbnNlICYmIHRoaXMucmVzcG9uc2Uuc3RhdHVzID8gdGhpcy5yZXNwb25zZS5zdGF0dXMgOiBudWxsXG4gICAgfTtcbiAgfVxufSk7XG5cbmNvbnN0IHByb3RvdHlwZSA9IEF4aW9zRXJyb3IucHJvdG90eXBlO1xuY29uc3QgZGVzY3JpcHRvcnMgPSB7fTtcblxuW1xuICAnRVJSX0JBRF9PUFRJT05fVkFMVUUnLFxuICAnRVJSX0JBRF9PUFRJT04nLFxuICAnRUNPTk5BQk9SVEVEJyxcbiAgJ0VUSU1FRE9VVCcsXG4gICdFUlJfTkVUV09SSycsXG4gICdFUlJfRlJfVE9PX01BTllfUkVESVJFQ1RTJyxcbiAgJ0VSUl9ERVBSRUNBVEVEJyxcbiAgJ0VSUl9CQURfUkVTUE9OU0UnLFxuICAnRVJSX0JBRF9SRVFVRVNUJyxcbiAgJ0VSUl9DQU5DRUxFRCcsXG4gICdFUlJfTk9UX1NVUFBPUlQnLFxuICAnRVJSX0lOVkFMSURfVVJMJ1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbl0uZm9yRWFjaChjb2RlID0+IHtcbiAgZGVzY3JpcHRvcnNbY29kZV0gPSB7dmFsdWU6IGNvZGV9O1xufSk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEF4aW9zRXJyb3IsIGRlc2NyaXB0b3JzKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90b3R5cGUsICdpc0F4aW9zRXJyb3InLCB7dmFsdWU6IHRydWV9KTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbkF4aW9zRXJyb3IuZnJvbSA9IChlcnJvciwgY29kZSwgY29uZmlnLCByZXF1ZXN0LCByZXNwb25zZSwgY3VzdG9tUHJvcHMpID0+IHtcbiAgY29uc3QgYXhpb3NFcnJvciA9IE9iamVjdC5jcmVhdGUocHJvdG90eXBlKTtcblxuICB1dGlscy50b0ZsYXRPYmplY3QoZXJyb3IsIGF4aW9zRXJyb3IsIGZ1bmN0aW9uIGZpbHRlcihvYmopIHtcbiAgICByZXR1cm4gb2JqICE9PSBFcnJvci5wcm90b3R5cGU7XG4gIH0sIHByb3AgPT4ge1xuICAgIHJldHVybiBwcm9wICE9PSAnaXNBeGlvc0Vycm9yJztcbiAgfSk7XG5cbiAgQXhpb3NFcnJvci5jYWxsKGF4aW9zRXJyb3IsIGVycm9yLm1lc3NhZ2UsIGNvZGUsIGNvbmZpZywgcmVxdWVzdCwgcmVzcG9uc2UpO1xuXG4gIGF4aW9zRXJyb3IuY2F1c2UgPSBlcnJvcjtcblxuICBheGlvc0Vycm9yLm5hbWUgPSBlcnJvci5uYW1lO1xuXG4gIGN1c3RvbVByb3BzICYmIE9iamVjdC5hc3NpZ24oYXhpb3NFcnJvciwgY3VzdG9tUHJvcHMpO1xuXG4gIHJldHVybiBheGlvc0Vycm9yO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQXhpb3NFcnJvcjtcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4uL3V0aWxzLmpzJztcbmltcG9ydCBBeGlvc0Vycm9yIGZyb20gJy4uL2NvcmUvQXhpb3NFcnJvci5qcyc7XG4vLyB0ZW1wb3JhcnkgaG90Zml4IHRvIGF2b2lkIGNpcmN1bGFyIHJlZmVyZW5jZXMgdW50aWwgQXhpb3NVUkxTZWFyY2hQYXJhbXMgaXMgcmVmYWN0b3JlZFxuaW1wb3J0IFBsYXRmb3JtRm9ybURhdGEgZnJvbSAnLi4vcGxhdGZvcm0vbm9kZS9jbGFzc2VzL0Zvcm1EYXRhLmpzJztcblxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIHRoZSBnaXZlbiB0aGluZyBpcyBhIGFycmF5IG9yIGpzIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGhpbmcgLSBUaGUgb2JqZWN0IG9yIGFycmF5IHRvIGJlIHZpc2l0ZWQuXG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzVmlzaXRhYmxlKHRoaW5nKSB7XG4gIHJldHVybiB1dGlscy5pc1BsYWluT2JqZWN0KHRoaW5nKSB8fCB1dGlscy5pc0FycmF5KHRoaW5nKTtcbn1cblxuLyoqXG4gKiBJdCByZW1vdmVzIHRoZSBicmFja2V0cyBmcm9tIHRoZSBlbmQgb2YgYSBzdHJpbmdcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gVGhlIGtleSBvZiB0aGUgcGFyYW1ldGVyLlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IHRoZSBrZXkgd2l0aG91dCB0aGUgYnJhY2tldHMuXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUJyYWNrZXRzKGtleSkge1xuICByZXR1cm4gdXRpbHMuZW5kc1dpdGgoa2V5LCAnW10nKSA/IGtleS5zbGljZSgwLCAtMikgOiBrZXk7XG59XG5cbi8qKlxuICogSXQgdGFrZXMgYSBwYXRoLCBhIGtleSwgYW5kIGEgYm9vbGVhbiwgYW5kIHJldHVybnMgYSBzdHJpbmdcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIFRoZSBwYXRoIHRvIHRoZSBjdXJyZW50IGtleS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBUaGUga2V5IG9mIHRoZSBjdXJyZW50IG9iamVjdCBiZWluZyBpdGVyYXRlZCBvdmVyLlxuICogQHBhcmFtIHtzdHJpbmd9IGRvdHMgLSBJZiB0cnVlLCB0aGUga2V5IHdpbGwgYmUgcmVuZGVyZWQgd2l0aCBkb3RzIGluc3RlYWQgb2YgYnJhY2tldHMuXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIHBhdGggdG8gdGhlIGN1cnJlbnQga2V5LlxuICovXG5mdW5jdGlvbiByZW5kZXJLZXkocGF0aCwga2V5LCBkb3RzKSB7XG4gIGlmICghcGF0aCkgcmV0dXJuIGtleTtcbiAgcmV0dXJuIHBhdGguY29uY2F0KGtleSkubWFwKGZ1bmN0aW9uIGVhY2godG9rZW4sIGkpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICB0b2tlbiA9IHJlbW92ZUJyYWNrZXRzKHRva2VuKTtcbiAgICByZXR1cm4gIWRvdHMgJiYgaSA/ICdbJyArIHRva2VuICsgJ10nIDogdG9rZW47XG4gIH0pLmpvaW4oZG90cyA/ICcuJyA6ICcnKTtcbn1cblxuLyoqXG4gKiBJZiB0aGUgYXJyYXkgaXMgYW4gYXJyYXkgYW5kIG5vbmUgb2YgaXRzIGVsZW1lbnRzIGFyZSB2aXNpdGFibGUsIHRoZW4gaXQncyBhIGZsYXQgYXJyYXkuXG4gKlxuICogQHBhcmFtIHtBcnJheTxhbnk+fSBhcnIgLSBUaGUgYXJyYXkgdG8gY2hlY2tcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNGbGF0QXJyYXkoYXJyKSB7XG4gIHJldHVybiB1dGlscy5pc0FycmF5KGFycikgJiYgIWFyci5zb21lKGlzVmlzaXRhYmxlKTtcbn1cblxuY29uc3QgcHJlZGljYXRlcyA9IHV0aWxzLnRvRmxhdE9iamVjdCh1dGlscywge30sIG51bGwsIGZ1bmN0aW9uIGZpbHRlcihwcm9wKSB7XG4gIHJldHVybiAvXmlzW0EtWl0vLnRlc3QocHJvcCk7XG59KTtcblxuLyoqXG4gKiBDb252ZXJ0IGEgZGF0YSBvYmplY3QgdG8gRm9ybURhdGFcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcGFyYW0gez9PYmplY3R9IFtmb3JtRGF0YV1cbiAqIEBwYXJhbSB7P09iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb3B0aW9ucy52aXNpdG9yXVxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5tZXRhVG9rZW5zID0gdHJ1ZV1cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuZG90cyA9IGZhbHNlXVxuICogQHBhcmFtIHs/Qm9vbGVhbn0gW29wdGlvbnMuaW5kZXhlcyA9IGZhbHNlXVxuICpcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKiovXG5cbi8qKlxuICogSXQgY29udmVydHMgYW4gb2JqZWN0IGludG8gYSBGb3JtRGF0YSBvYmplY3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdDxhbnksIGFueT59IG9iaiAtIFRoZSBvYmplY3QgdG8gY29udmVydCB0byBmb3JtIGRhdGEuXG4gKiBAcGFyYW0ge3N0cmluZ30gZm9ybURhdGEgLSBUaGUgRm9ybURhdGEgb2JqZWN0IHRvIGFwcGVuZCB0by5cbiAqIEBwYXJhbSB7T2JqZWN0PHN0cmluZywgYW55Pn0gb3B0aW9uc1xuICpcbiAqIEByZXR1cm5zXG4gKi9cbmZ1bmN0aW9uIHRvRm9ybURhdGEob2JqLCBmb3JtRGF0YSwgb3B0aW9ucykge1xuICBpZiAoIXV0aWxzLmlzT2JqZWN0KG9iaikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCd0YXJnZXQgbXVzdCBiZSBhbiBvYmplY3QnKTtcbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICBmb3JtRGF0YSA9IGZvcm1EYXRhIHx8IG5ldyAoUGxhdGZvcm1Gb3JtRGF0YSB8fCBGb3JtRGF0YSkoKTtcblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgb3B0aW9ucyA9IHV0aWxzLnRvRmxhdE9iamVjdChvcHRpb25zLCB7XG4gICAgbWV0YVRva2VuczogdHJ1ZSxcbiAgICBkb3RzOiBmYWxzZSxcbiAgICBpbmRleGVzOiBmYWxzZVxuICB9LCBmYWxzZSwgZnVuY3Rpb24gZGVmaW5lZChvcHRpb24sIHNvdXJjZSkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICAgIHJldHVybiAhdXRpbHMuaXNVbmRlZmluZWQoc291cmNlW29wdGlvbl0pO1xuICB9KTtcblxuICBjb25zdCBtZXRhVG9rZW5zID0gb3B0aW9ucy5tZXRhVG9rZW5zO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgY29uc3QgdmlzaXRvciA9IG9wdGlvbnMudmlzaXRvciB8fCBkZWZhdWx0VmlzaXRvcjtcbiAgY29uc3QgZG90cyA9IG9wdGlvbnMuZG90cztcbiAgY29uc3QgaW5kZXhlcyA9IG9wdGlvbnMuaW5kZXhlcztcbiAgY29uc3QgX0Jsb2IgPSBvcHRpb25zLkJsb2IgfHwgdHlwZW9mIEJsb2IgIT09ICd1bmRlZmluZWQnICYmIEJsb2I7XG4gIGNvbnN0IHVzZUJsb2IgPSBfQmxvYiAmJiB1dGlscy5pc1NwZWNDb21wbGlhbnRGb3JtKGZvcm1EYXRhKTtcblxuICBpZiAoIXV0aWxzLmlzRnVuY3Rpb24odmlzaXRvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCd2aXNpdG9yIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICB9XG5cbiAgZnVuY3Rpb24gY29udmVydFZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09PSBudWxsKSByZXR1cm4gJyc7XG5cbiAgICBpZiAodXRpbHMuaXNEYXRlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHZhbHVlLnRvSVNPU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgaWYgKCF1c2VCbG9iICYmIHV0aWxzLmlzQmxvYih2YWx1ZSkpIHtcbiAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKCdCbG9iIGlzIG5vdCBzdXBwb3J0ZWQuIFVzZSBhIEJ1ZmZlciBpbnN0ZWFkLicpO1xuICAgIH1cblxuICAgIGlmICh1dGlscy5pc0FycmF5QnVmZmVyKHZhbHVlKSB8fCB1dGlscy5pc1R5cGVkQXJyYXkodmFsdWUpKSB7XG4gICAgICByZXR1cm4gdXNlQmxvYiAmJiB0eXBlb2YgQmxvYiA9PT0gJ2Z1bmN0aW9uJyA/IG5ldyBCbG9iKFt2YWx1ZV0pIDogQnVmZmVyLmZyb20odmFsdWUpO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IHZpc2l0b3IuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAgICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBrZXlcbiAgICogQHBhcmFtIHtBcnJheTxTdHJpbmd8TnVtYmVyPn0gcGF0aFxuICAgKiBAdGhpcyB7Rm9ybURhdGF9XG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufSByZXR1cm4gdHJ1ZSB0byB2aXNpdCB0aGUgZWFjaCBwcm9wIG9mIHRoZSB2YWx1ZSByZWN1cnNpdmVseVxuICAgKi9cbiAgZnVuY3Rpb24gZGVmYXVsdFZpc2l0b3IodmFsdWUsIGtleSwgcGF0aCkge1xuICAgIGxldCBhcnIgPSB2YWx1ZTtcblxuICAgIGlmICh2YWx1ZSAmJiAhcGF0aCAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICBpZiAodXRpbHMuZW5kc1dpdGgoa2V5LCAne30nKSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAga2V5ID0gbWV0YVRva2VucyA/IGtleSA6IGtleS5zbGljZSgwLCAtMik7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICB2YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICh1dGlscy5pc0FycmF5KHZhbHVlKSAmJiBpc0ZsYXRBcnJheSh2YWx1ZSkpIHx8XG4gICAgICAgICgodXRpbHMuaXNGaWxlTGlzdCh2YWx1ZSkgfHwgdXRpbHMuZW5kc1dpdGgoa2V5LCAnW10nKSkgJiYgKGFyciA9IHV0aWxzLnRvQXJyYXkodmFsdWUpKVxuICAgICAgICApKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICBrZXkgPSByZW1vdmVCcmFja2V0cyhrZXkpO1xuXG4gICAgICAgIGFyci5mb3JFYWNoKGZ1bmN0aW9uIGVhY2goZWwsIGluZGV4KSB7XG4gICAgICAgICAgISh1dGlscy5pc1VuZGVmaW5lZChlbCkgfHwgZWwgPT09IG51bGwpICYmIGZvcm1EYXRhLmFwcGVuZChcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXN0ZWQtdGVybmFyeVxuICAgICAgICAgICAgaW5kZXhlcyA9PT0gdHJ1ZSA/IHJlbmRlcktleShba2V5XSwgaW5kZXgsIGRvdHMpIDogKGluZGV4ZXMgPT09IG51bGwgPyBrZXkgOiBrZXkgKyAnW10nKSxcbiAgICAgICAgICAgIGNvbnZlcnRWYWx1ZShlbClcbiAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpc1Zpc2l0YWJsZSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGZvcm1EYXRhLmFwcGVuZChyZW5kZXJLZXkocGF0aCwga2V5LCBkb3RzKSwgY29udmVydFZhbHVlKHZhbHVlKSk7XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBzdGFjayA9IFtdO1xuXG4gIGNvbnN0IGV4cG9zZWRIZWxwZXJzID0gT2JqZWN0LmFzc2lnbihwcmVkaWNhdGVzLCB7XG4gICAgZGVmYXVsdFZpc2l0b3IsXG4gICAgY29udmVydFZhbHVlLFxuICAgIGlzVmlzaXRhYmxlXG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGJ1aWxkKHZhbHVlLCBwYXRoKSB7XG4gICAgaWYgKHV0aWxzLmlzVW5kZWZpbmVkKHZhbHVlKSkgcmV0dXJuO1xuXG4gICAgaWYgKHN0YWNrLmluZGV4T2YodmFsdWUpICE9PSAtMSkge1xuICAgICAgdGhyb3cgRXJyb3IoJ0NpcmN1bGFyIHJlZmVyZW5jZSBkZXRlY3RlZCBpbiAnICsgcGF0aC5qb2luKCcuJykpO1xuICAgIH1cblxuICAgIHN0YWNrLnB1c2godmFsdWUpO1xuXG4gICAgdXRpbHMuZm9yRWFjaCh2YWx1ZSwgZnVuY3Rpb24gZWFjaChlbCwga2V5KSB7XG4gICAgICBjb25zdCByZXN1bHQgPSAhKHV0aWxzLmlzVW5kZWZpbmVkKGVsKSB8fCBlbCA9PT0gbnVsbCkgJiYgdmlzaXRvci5jYWxsKFxuICAgICAgICBmb3JtRGF0YSwgZWwsIHV0aWxzLmlzU3RyaW5nKGtleSkgPyBrZXkudHJpbSgpIDoga2V5LCBwYXRoLCBleHBvc2VkSGVscGVyc1xuICAgICAgKTtcblxuICAgICAgaWYgKHJlc3VsdCA9PT0gdHJ1ZSkge1xuICAgICAgICBidWlsZChlbCwgcGF0aCA/IHBhdGguY29uY2F0KGtleSkgOiBba2V5XSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBzdGFjay5wb3AoKTtcbiAgfVxuXG4gIGlmICghdXRpbHMuaXNPYmplY3Qob2JqKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2RhdGEgbXVzdCBiZSBhbiBvYmplY3QnKTtcbiAgfVxuXG4gIGJ1aWxkKG9iaik7XG5cbiAgcmV0dXJuIGZvcm1EYXRhO1xufVxuXG5leHBvcnQgZGVmYXVsdCB0b0Zvcm1EYXRhO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdG9Gb3JtRGF0YSBmcm9tICcuL3RvRm9ybURhdGEuanMnO1xuXG4vKipcbiAqIEl0IGVuY29kZXMgYSBzdHJpbmcgYnkgcmVwbGFjaW5nIGFsbCBjaGFyYWN0ZXJzIHRoYXQgYXJlIG5vdCBpbiB0aGUgdW5yZXNlcnZlZCBzZXQgd2l0aFxuICogdGhlaXIgcGVyY2VudC1lbmNvZGVkIGVxdWl2YWxlbnRzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciAtIFRoZSBzdHJpbmcgdG8gZW5jb2RlLlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBlbmNvZGVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gZW5jb2RlKHN0cikge1xuICBjb25zdCBjaGFyTWFwID0ge1xuICAgICchJzogJyUyMScsXG4gICAgXCInXCI6ICclMjcnLFxuICAgICcoJzogJyUyOCcsXG4gICAgJyknOiAnJTI5JyxcbiAgICAnfic6ICclN0UnLFxuICAgICclMjAnOiAnKycsXG4gICAgJyUwMCc6ICdcXHgwMCdcbiAgfTtcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHIpLnJlcGxhY2UoL1shJygpfl18JTIwfCUwMC9nLCBmdW5jdGlvbiByZXBsYWNlcihtYXRjaCkge1xuICAgIHJldHVybiBjaGFyTWFwW21hdGNoXTtcbiAgfSk7XG59XG5cbi8qKlxuICogSXQgdGFrZXMgYSBwYXJhbXMgb2JqZWN0IGFuZCBjb252ZXJ0cyBpdCB0byBhIEZvcm1EYXRhIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0PHN0cmluZywgYW55Pn0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgdG8gYmUgY29udmVydGVkIHRvIGEgRm9ybURhdGEgb2JqZWN0LlxuICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCBhbnk+fSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgb2JqZWN0IHBhc3NlZCB0byB0aGUgQXhpb3MgY29uc3RydWN0b3IuXG4gKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIEF4aW9zVVJMU2VhcmNoUGFyYW1zKHBhcmFtcywgb3B0aW9ucykge1xuICB0aGlzLl9wYWlycyA9IFtdO1xuXG4gIHBhcmFtcyAmJiB0b0Zvcm1EYXRhKHBhcmFtcywgdGhpcywgb3B0aW9ucyk7XG59XG5cbmNvbnN0IHByb3RvdHlwZSA9IEF4aW9zVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZTtcblxucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIGFwcGVuZChuYW1lLCB2YWx1ZSkge1xuICB0aGlzLl9wYWlycy5wdXNoKFtuYW1lLCB2YWx1ZV0pO1xufTtcblxucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoZW5jb2Rlcikge1xuICBjb25zdCBfZW5jb2RlID0gZW5jb2RlciA/IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGVuY29kZXIuY2FsbCh0aGlzLCB2YWx1ZSwgZW5jb2RlKTtcbiAgfSA6IGVuY29kZTtcblxuICByZXR1cm4gdGhpcy5fcGFpcnMubWFwKGZ1bmN0aW9uIGVhY2gocGFpcikge1xuICAgIHJldHVybiBfZW5jb2RlKHBhaXJbMF0pICsgJz0nICsgX2VuY29kZShwYWlyWzFdKTtcbiAgfSwgJycpLmpvaW4oJyYnKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEF4aW9zVVJMU2VhcmNoUGFyYW1zO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuaW1wb3J0IEF4aW9zVVJMU2VhcmNoUGFyYW1zIGZyb20gJy4uL2hlbHBlcnMvQXhpb3NVUkxTZWFyY2hQYXJhbXMuanMnO1xuXG4vKipcbiAqIEl0IHJlcGxhY2VzIGFsbCBpbnN0YW5jZXMgb2YgdGhlIGNoYXJhY3RlcnMgYDpgLCBgJGAsIGAsYCwgYCtgLCBgW2AsIGFuZCBgXWAgd2l0aCB0aGVpclxuICogVVJJIGVuY29kZWQgY291bnRlcnBhcnRzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHZhbCBUaGUgdmFsdWUgdG8gYmUgZW5jb2RlZC5cbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZW5jb2RlZCB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gZW5jb2RlKHZhbCkge1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHZhbCkuXG4gICAgcmVwbGFjZSgvJTNBL2dpLCAnOicpLlxuICAgIHJlcGxhY2UoLyUyNC9nLCAnJCcpLlxuICAgIHJlcGxhY2UoLyUyQy9naSwgJywnKS5cbiAgICByZXBsYWNlKC8lMjAvZywgJysnKS5cbiAgICByZXBsYWNlKC8lNUIvZ2ksICdbJykuXG4gICAgcmVwbGFjZSgvJTVEL2dpLCAnXScpO1xufVxuXG4vKipcbiAqIEJ1aWxkIGEgVVJMIGJ5IGFwcGVuZGluZyBwYXJhbXMgdG8gdGhlIGVuZFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIGJhc2Ugb2YgdGhlIHVybCAoZS5nLiwgaHR0cDovL3d3dy5nb29nbGUuY29tKVxuICogQHBhcmFtIHtvYmplY3R9IFtwYXJhbXNdIFRoZSBwYXJhbXMgdG8gYmUgYXBwZW5kZWRcbiAqIEBwYXJhbSB7P29iamVjdH0gb3B0aW9uc1xuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBmb3JtYXR0ZWQgdXJsXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGJ1aWxkVVJMKHVybCwgcGFyYW1zLCBvcHRpb25zKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICBpZiAoIXBhcmFtcykge1xuICAgIHJldHVybiB1cmw7XG4gIH1cbiAgXG4gIGNvbnN0IF9lbmNvZGUgPSBvcHRpb25zICYmIG9wdGlvbnMuZW5jb2RlIHx8IGVuY29kZTtcblxuICBjb25zdCBzZXJpYWxpemVGbiA9IG9wdGlvbnMgJiYgb3B0aW9ucy5zZXJpYWxpemU7XG5cbiAgbGV0IHNlcmlhbGl6ZWRQYXJhbXM7XG5cbiAgaWYgKHNlcmlhbGl6ZUZuKSB7XG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHNlcmlhbGl6ZUZuKHBhcmFtcywgb3B0aW9ucyk7XG4gIH0gZWxzZSB7XG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHV0aWxzLmlzVVJMU2VhcmNoUGFyYW1zKHBhcmFtcykgP1xuICAgICAgcGFyYW1zLnRvU3RyaW5nKCkgOlxuICAgICAgbmV3IEF4aW9zVVJMU2VhcmNoUGFyYW1zKHBhcmFtcywgb3B0aW9ucykudG9TdHJpbmcoX2VuY29kZSk7XG4gIH1cblxuICBpZiAoc2VyaWFsaXplZFBhcmFtcykge1xuICAgIGNvbnN0IGhhc2htYXJrSW5kZXggPSB1cmwuaW5kZXhPZihcIiNcIik7XG5cbiAgICBpZiAoaGFzaG1hcmtJbmRleCAhPT0gLTEpIHtcbiAgICAgIHVybCA9IHVybC5zbGljZSgwLCBoYXNobWFya0luZGV4KTtcbiAgICB9XG4gICAgdXJsICs9ICh1cmwuaW5kZXhPZignPycpID09PSAtMSA/ICc/JyA6ICcmJykgKyBzZXJpYWxpemVkUGFyYW1zO1xuICB9XG5cbiAgcmV0dXJuIHVybDtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4vLi4vdXRpbHMuanMnO1xuXG5jbGFzcyBJbnRlcmNlcHRvck1hbmFnZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmhhbmRsZXJzID0gW107XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgbmV3IGludGVyY2VwdG9yIHRvIHRoZSBzdGFja1xuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdWxmaWxsZWQgVGhlIGZ1bmN0aW9uIHRvIGhhbmRsZSBgdGhlbmAgZm9yIGEgYFByb21pc2VgXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdGVkIFRoZSBmdW5jdGlvbiB0byBoYW5kbGUgYHJlamVjdGAgZm9yIGEgYFByb21pc2VgXG4gICAqXG4gICAqIEByZXR1cm4ge051bWJlcn0gQW4gSUQgdXNlZCB0byByZW1vdmUgaW50ZXJjZXB0b3IgbGF0ZXJcbiAgICovXG4gIHVzZShmdWxmaWxsZWQsIHJlamVjdGVkLCBvcHRpb25zKSB7XG4gICAgdGhpcy5oYW5kbGVycy5wdXNoKHtcbiAgICAgIGZ1bGZpbGxlZCxcbiAgICAgIHJlamVjdGVkLFxuICAgICAgc3luY2hyb25vdXM6IG9wdGlvbnMgPyBvcHRpb25zLnN5bmNocm9ub3VzIDogZmFsc2UsXG4gICAgICBydW5XaGVuOiBvcHRpb25zID8gb3B0aW9ucy5ydW5XaGVuIDogbnVsbFxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLmhhbmRsZXJzLmxlbmd0aCAtIDE7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGFuIGludGVyY2VwdG9yIGZyb20gdGhlIHN0YWNrXG4gICAqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBpZCBUaGUgSUQgdGhhdCB3YXMgcmV0dXJuZWQgYnkgYHVzZWBcbiAgICpcbiAgICogQHJldHVybnMge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgaW50ZXJjZXB0b3Igd2FzIHJlbW92ZWQsIGBmYWxzZWAgb3RoZXJ3aXNlXG4gICAqL1xuICBlamVjdChpZCkge1xuICAgIGlmICh0aGlzLmhhbmRsZXJzW2lkXSkge1xuICAgICAgdGhpcy5oYW5kbGVyc1tpZF0gPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhciBhbGwgaW50ZXJjZXB0b3JzIGZyb20gdGhlIHN0YWNrXG4gICAqXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgY2xlYXIoKSB7XG4gICAgaWYgKHRoaXMuaGFuZGxlcnMpIHtcbiAgICAgIHRoaXMuaGFuZGxlcnMgPSBbXTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSXRlcmF0ZSBvdmVyIGFsbCB0aGUgcmVnaXN0ZXJlZCBpbnRlcmNlcHRvcnNcbiAgICpcbiAgICogVGhpcyBtZXRob2QgaXMgcGFydGljdWxhcmx5IHVzZWZ1bCBmb3Igc2tpcHBpbmcgb3ZlciBhbnlcbiAgICogaW50ZXJjZXB0b3JzIHRoYXQgbWF5IGhhdmUgYmVjb21lIGBudWxsYCBjYWxsaW5nIGBlamVjdGAuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIGludGVyY2VwdG9yXG4gICAqXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgZm9yRWFjaChmbikge1xuICAgIHV0aWxzLmZvckVhY2godGhpcy5oYW5kbGVycywgZnVuY3Rpb24gZm9yRWFjaEhhbmRsZXIoaCkge1xuICAgICAgaWYgKGggIT09IG51bGwpIHtcbiAgICAgICAgZm4oaCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSW50ZXJjZXB0b3JNYW5hZ2VyO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHNpbGVudEpTT05QYXJzaW5nOiB0cnVlLFxuICBmb3JjZWRKU09OUGFyc2luZzogdHJ1ZSxcbiAgY2xhcmlmeVRpbWVvdXRFcnJvcjogZmFsc2Vcbn07XG4iLCJpbXBvcnQgVVJMU2VhcmNoUGFyYW1zIGZyb20gJy4vY2xhc3Nlcy9VUkxTZWFyY2hQYXJhbXMuanMnXG5pbXBvcnQgRm9ybURhdGEgZnJvbSAnLi9jbGFzc2VzL0Zvcm1EYXRhLmpzJ1xuaW1wb3J0IEJsb2IgZnJvbSAnLi9jbGFzc2VzL0Jsb2IuanMnXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgaXNCcm93c2VyOiB0cnVlLFxuICBjbGFzc2VzOiB7XG4gICAgVVJMU2VhcmNoUGFyYW1zLFxuICAgIEZvcm1EYXRhLFxuICAgIEJsb2JcbiAgfSxcbiAgcHJvdG9jb2xzOiBbJ2h0dHAnLCAnaHR0cHMnLCAnZmlsZScsICdibG9iJywgJ3VybCcsICdkYXRhJ11cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBBeGlvc1VSTFNlYXJjaFBhcmFtcyBmcm9tICcuLi8uLi8uLi9oZWxwZXJzL0F4aW9zVVJMU2VhcmNoUGFyYW1zLmpzJztcbmV4cG9ydCBkZWZhdWx0IHR5cGVvZiBVUkxTZWFyY2hQYXJhbXMgIT09ICd1bmRlZmluZWQnID8gVVJMU2VhcmNoUGFyYW1zIDogQXhpb3NVUkxTZWFyY2hQYXJhbXM7XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBkZWZhdWx0IHR5cGVvZiBGb3JtRGF0YSAhPT0gJ3VuZGVmaW5lZCcgPyBGb3JtRGF0YSA6IG51bGw7XG4iLCIndXNlIHN0cmljdCdcblxuZXhwb3J0IGRlZmF1bHQgdHlwZW9mIEJsb2IgIT09ICd1bmRlZmluZWQnID8gQmxvYiA6IG51bGxcbiIsImNvbnN0IGhhc0Jyb3dzZXJFbnYgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnO1xuXG4vKipcbiAqIERldGVybWluZSBpZiB3ZSdyZSBydW5uaW5nIGluIGEgc3RhbmRhcmQgYnJvd3NlciBlbnZpcm9ubWVudFxuICpcbiAqIFRoaXMgYWxsb3dzIGF4aW9zIHRvIHJ1biBpbiBhIHdlYiB3b3JrZXIsIGFuZCByZWFjdC1uYXRpdmUuXG4gKiBCb3RoIGVudmlyb25tZW50cyBzdXBwb3J0IFhNTEh0dHBSZXF1ZXN0LCBidXQgbm90IGZ1bGx5IHN0YW5kYXJkIGdsb2JhbHMuXG4gKlxuICogd2ViIHdvcmtlcnM6XG4gKiAgdHlwZW9mIHdpbmRvdyAtPiB1bmRlZmluZWRcbiAqICB0eXBlb2YgZG9jdW1lbnQgLT4gdW5kZWZpbmVkXG4gKlxuICogcmVhY3QtbmF0aXZlOlxuICogIG5hdmlnYXRvci5wcm9kdWN0IC0+ICdSZWFjdE5hdGl2ZSdcbiAqIG5hdGl2ZXNjcmlwdFxuICogIG5hdmlnYXRvci5wcm9kdWN0IC0+ICdOYXRpdmVTY3JpcHQnIG9yICdOUydcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuY29uc3QgaGFzU3RhbmRhcmRCcm93c2VyRW52ID0gKFxuICAocHJvZHVjdCkgPT4ge1xuICAgIHJldHVybiBoYXNCcm93c2VyRW52ICYmIFsnUmVhY3ROYXRpdmUnLCAnTmF0aXZlU2NyaXB0JywgJ05TJ10uaW5kZXhPZihwcm9kdWN0KSA8IDBcbiAgfSkodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnByb2R1Y3QpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiB3ZSdyZSBydW5uaW5nIGluIGEgc3RhbmRhcmQgYnJvd3NlciB3ZWJXb3JrZXIgZW52aXJvbm1lbnRcbiAqXG4gKiBBbHRob3VnaCB0aGUgYGlzU3RhbmRhcmRCcm93c2VyRW52YCBtZXRob2QgaW5kaWNhdGVzIHRoYXRcbiAqIGBhbGxvd3MgYXhpb3MgdG8gcnVuIGluIGEgd2ViIHdvcmtlcmAsIHRoZSBXZWJXb3JrZXIgd2lsbCBzdGlsbCBiZVxuICogZmlsdGVyZWQgb3V0IGR1ZSB0byBpdHMganVkZ21lbnQgc3RhbmRhcmRcbiAqIGB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnYC5cbiAqIFRoaXMgbGVhZHMgdG8gYSBwcm9ibGVtIHdoZW4gYXhpb3MgcG9zdCBgRm9ybURhdGFgIGluIHdlYldvcmtlclxuICovXG5jb25zdCBoYXNTdGFuZGFyZEJyb3dzZXJXZWJXb3JrZXJFbnYgPSAoKCkgPT4ge1xuICByZXR1cm4gKFxuICAgIHR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICBzZWxmIGluc3RhbmNlb2YgV29ya2VyR2xvYmFsU2NvcGUgJiZcbiAgICB0eXBlb2Ygc2VsZi5pbXBvcnRTY3JpcHRzID09PSAnZnVuY3Rpb24nXG4gICk7XG59KSgpO1xuXG5leHBvcnQge1xuICBoYXNCcm93c2VyRW52LFxuICBoYXNTdGFuZGFyZEJyb3dzZXJXZWJXb3JrZXJFbnYsXG4gIGhhc1N0YW5kYXJkQnJvd3NlckVudlxufVxuIiwiaW1wb3J0IHBsYXRmb3JtIGZyb20gJy4vbm9kZS9pbmRleC5qcyc7XG5pbXBvcnQgKiBhcyB1dGlscyBmcm9tICcuL2NvbW1vbi91dGlscy5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgLi4udXRpbHMsXG4gIC4uLnBsYXRmb3JtXG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5cbi8qKlxuICogSXQgdGFrZXMgYSBzdHJpbmcgbGlrZSBgZm9vW3hdW3ldW3pdYCBhbmQgcmV0dXJucyBhbiBhcnJheSBsaWtlIGBbJ2ZvbycsICd4JywgJ3knLCAneiddXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICpcbiAqIEByZXR1cm5zIEFuIGFycmF5IG9mIHN0cmluZ3MuXG4gKi9cbmZ1bmN0aW9uIHBhcnNlUHJvcFBhdGgobmFtZSkge1xuICAvLyBmb29beF1beV1bel1cbiAgLy8gZm9vLngueS56XG4gIC8vIGZvby14LXktelxuICAvLyBmb28geCB5IHpcbiAgcmV0dXJuIHV0aWxzLm1hdGNoQWxsKC9cXHcrfFxcWyhcXHcqKV0vZywgbmFtZSkubWFwKG1hdGNoID0+IHtcbiAgICByZXR1cm4gbWF0Y2hbMF0gPT09ICdbXScgPyAnJyA6IG1hdGNoWzFdIHx8IG1hdGNoWzBdO1xuICB9KTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0IGFuIGFycmF5IHRvIGFuIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PGFueT59IGFyciAtIFRoZSBhcnJheSB0byBjb252ZXJ0IHRvIGFuIG9iamVjdC5cbiAqXG4gKiBAcmV0dXJucyBBbiBvYmplY3Qgd2l0aCB0aGUgc2FtZSBrZXlzIGFuZCB2YWx1ZXMgYXMgdGhlIGFycmF5LlxuICovXG5mdW5jdGlvbiBhcnJheVRvT2JqZWN0KGFycikge1xuICBjb25zdCBvYmogPSB7fTtcbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGFycik7XG4gIGxldCBpO1xuICBjb25zdCBsZW4gPSBrZXlzLmxlbmd0aDtcbiAgbGV0IGtleTtcbiAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAga2V5ID0ga2V5c1tpXTtcbiAgICBvYmpba2V5XSA9IGFycltrZXldO1xuICB9XG4gIHJldHVybiBvYmo7XG59XG5cbi8qKlxuICogSXQgdGFrZXMgYSBGb3JtRGF0YSBvYmplY3QgYW5kIHJldHVybnMgYSBKYXZhU2NyaXB0IG9iamVjdFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBmb3JtRGF0YSBUaGUgRm9ybURhdGEgb2JqZWN0IHRvIGNvbnZlcnQgdG8gSlNPTi5cbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0PHN0cmluZywgYW55PiB8IG51bGx9IFRoZSBjb252ZXJ0ZWQgb2JqZWN0LlxuICovXG5mdW5jdGlvbiBmb3JtRGF0YVRvSlNPTihmb3JtRGF0YSkge1xuICBmdW5jdGlvbiBidWlsZFBhdGgocGF0aCwgdmFsdWUsIHRhcmdldCwgaW5kZXgpIHtcbiAgICBsZXQgbmFtZSA9IHBhdGhbaW5kZXgrK107XG4gICAgY29uc3QgaXNOdW1lcmljS2V5ID0gTnVtYmVyLmlzRmluaXRlKCtuYW1lKTtcbiAgICBjb25zdCBpc0xhc3QgPSBpbmRleCA+PSBwYXRoLmxlbmd0aDtcbiAgICBuYW1lID0gIW5hbWUgJiYgdXRpbHMuaXNBcnJheSh0YXJnZXQpID8gdGFyZ2V0Lmxlbmd0aCA6IG5hbWU7XG5cbiAgICBpZiAoaXNMYXN0KSB7XG4gICAgICBpZiAodXRpbHMuaGFzT3duUHJvcCh0YXJnZXQsIG5hbWUpKSB7XG4gICAgICAgIHRhcmdldFtuYW1lXSA9IFt0YXJnZXRbbmFtZV0sIHZhbHVlXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldFtuYW1lXSA9IHZhbHVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gIWlzTnVtZXJpY0tleTtcbiAgICB9XG5cbiAgICBpZiAoIXRhcmdldFtuYW1lXSB8fCAhdXRpbHMuaXNPYmplY3QodGFyZ2V0W25hbWVdKSkge1xuICAgICAgdGFyZ2V0W25hbWVdID0gW107XG4gICAgfVxuXG4gICAgY29uc3QgcmVzdWx0ID0gYnVpbGRQYXRoKHBhdGgsIHZhbHVlLCB0YXJnZXRbbmFtZV0sIGluZGV4KTtcblxuICAgIGlmIChyZXN1bHQgJiYgdXRpbHMuaXNBcnJheSh0YXJnZXRbbmFtZV0pKSB7XG4gICAgICB0YXJnZXRbbmFtZV0gPSBhcnJheVRvT2JqZWN0KHRhcmdldFtuYW1lXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuICFpc051bWVyaWNLZXk7XG4gIH1cblxuICBpZiAodXRpbHMuaXNGb3JtRGF0YShmb3JtRGF0YSkgJiYgdXRpbHMuaXNGdW5jdGlvbihmb3JtRGF0YS5lbnRyaWVzKSkge1xuICAgIGNvbnN0IG9iaiA9IHt9O1xuXG4gICAgdXRpbHMuZm9yRWFjaEVudHJ5KGZvcm1EYXRhLCAobmFtZSwgdmFsdWUpID0+IHtcbiAgICAgIGJ1aWxkUGF0aChwYXJzZVByb3BQYXRoKG5hbWUpLCB2YWx1ZSwgb2JqLCAwKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZm9ybURhdGFUb0pTT047XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgQXhpb3NFcnJvciBmcm9tICcuLi9jb3JlL0F4aW9zRXJyb3IuanMnO1xuaW1wb3J0IHRyYW5zaXRpb25hbERlZmF1bHRzIGZyb20gJy4vdHJhbnNpdGlvbmFsLmpzJztcbmltcG9ydCB0b0Zvcm1EYXRhIGZyb20gJy4uL2hlbHBlcnMvdG9Gb3JtRGF0YS5qcyc7XG5pbXBvcnQgdG9VUkxFbmNvZGVkRm9ybSBmcm9tICcuLi9oZWxwZXJzL3RvVVJMRW5jb2RlZEZvcm0uanMnO1xuaW1wb3J0IHBsYXRmb3JtIGZyb20gJy4uL3BsYXRmb3JtL2luZGV4LmpzJztcbmltcG9ydCBmb3JtRGF0YVRvSlNPTiBmcm9tICcuLi9oZWxwZXJzL2Zvcm1EYXRhVG9KU09OLmpzJztcblxuLyoqXG4gKiBJdCB0YWtlcyBhIHN0cmluZywgdHJpZXMgdG8gcGFyc2UgaXQsIGFuZCBpZiBpdCBmYWlscywgaXQgcmV0dXJucyB0aGUgc3RyaW5naWZpZWQgdmVyc2lvblxuICogb2YgdGhlIGlucHV0XG4gKlxuICogQHBhcmFtIHthbnl9IHJhd1ZhbHVlIC0gVGhlIHZhbHVlIHRvIGJlIHN0cmluZ2lmaWVkLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcGFyc2VyIC0gQSBmdW5jdGlvbiB0aGF0IHBhcnNlcyBhIHN0cmluZyBpbnRvIGEgSmF2YVNjcmlwdCBvYmplY3QuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlbmNvZGVyIC0gQSBmdW5jdGlvbiB0aGF0IHRha2VzIGEgdmFsdWUgYW5kIHJldHVybnMgYSBzdHJpbmcuXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gQSBzdHJpbmdpZmllZCB2ZXJzaW9uIG9mIHRoZSByYXdWYWx1ZS5cbiAqL1xuZnVuY3Rpb24gc3RyaW5naWZ5U2FmZWx5KHJhd1ZhbHVlLCBwYXJzZXIsIGVuY29kZXIpIHtcbiAgaWYgKHV0aWxzLmlzU3RyaW5nKHJhd1ZhbHVlKSkge1xuICAgIHRyeSB7XG4gICAgICAocGFyc2VyIHx8IEpTT04ucGFyc2UpKHJhd1ZhbHVlKTtcbiAgICAgIHJldHVybiB1dGlscy50cmltKHJhd1ZhbHVlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpZiAoZS5uYW1lICE9PSAnU3ludGF4RXJyb3InKSB7XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChlbmNvZGVyIHx8IEpTT04uc3RyaW5naWZ5KShyYXdWYWx1ZSk7XG59XG5cbmNvbnN0IGRlZmF1bHRzID0ge1xuXG4gIHRyYW5zaXRpb25hbDogdHJhbnNpdGlvbmFsRGVmYXVsdHMsXG5cbiAgYWRhcHRlcjogWyd4aHInLCAnaHR0cCddLFxuXG4gIHRyYW5zZm9ybVJlcXVlc3Q6IFtmdW5jdGlvbiB0cmFuc2Zvcm1SZXF1ZXN0KGRhdGEsIGhlYWRlcnMpIHtcbiAgICBjb25zdCBjb250ZW50VHlwZSA9IGhlYWRlcnMuZ2V0Q29udGVudFR5cGUoKSB8fCAnJztcbiAgICBjb25zdCBoYXNKU09OQ29udGVudFR5cGUgPSBjb250ZW50VHlwZS5pbmRleE9mKCdhcHBsaWNhdGlvbi9qc29uJykgPiAtMTtcbiAgICBjb25zdCBpc09iamVjdFBheWxvYWQgPSB1dGlscy5pc09iamVjdChkYXRhKTtcblxuICAgIGlmIChpc09iamVjdFBheWxvYWQgJiYgdXRpbHMuaXNIVE1MRm9ybShkYXRhKSkge1xuICAgICAgZGF0YSA9IG5ldyBGb3JtRGF0YShkYXRhKTtcbiAgICB9XG5cbiAgICBjb25zdCBpc0Zvcm1EYXRhID0gdXRpbHMuaXNGb3JtRGF0YShkYXRhKTtcblxuICAgIGlmIChpc0Zvcm1EYXRhKSB7XG4gICAgICBpZiAoIWhhc0pTT05Db250ZW50VHlwZSkge1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBoYXNKU09OQ29udGVudFR5cGUgPyBKU09OLnN0cmluZ2lmeShmb3JtRGF0YVRvSlNPTihkYXRhKSkgOiBkYXRhO1xuICAgIH1cblxuICAgIGlmICh1dGlscy5pc0FycmF5QnVmZmVyKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0J1ZmZlcihkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNTdHJlYW0oZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzRmlsZShkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNCbG9iKGRhdGEpXG4gICAgKSB7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmlzQXJyYXlCdWZmZXJWaWV3KGRhdGEpKSB7XG4gICAgICByZXR1cm4gZGF0YS5idWZmZXI7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc1VSTFNlYXJjaFBhcmFtcyhkYXRhKSkge1xuICAgICAgaGVhZGVycy5zZXRDb250ZW50VHlwZSgnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9dXRmLTgnLCBmYWxzZSk7XG4gICAgICByZXR1cm4gZGF0YS50b1N0cmluZygpO1xuICAgIH1cblxuICAgIGxldCBpc0ZpbGVMaXN0O1xuXG4gICAgaWYgKGlzT2JqZWN0UGF5bG9hZCkge1xuICAgICAgaWYgKGNvbnRlbnRUeXBlLmluZGV4T2YoJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcpID4gLTEpIHtcbiAgICAgICAgcmV0dXJuIHRvVVJMRW5jb2RlZEZvcm0oZGF0YSwgdGhpcy5mb3JtU2VyaWFsaXplcikudG9TdHJpbmcoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKChpc0ZpbGVMaXN0ID0gdXRpbHMuaXNGaWxlTGlzdChkYXRhKSkgfHwgY29udGVudFR5cGUuaW5kZXhPZignbXVsdGlwYXJ0L2Zvcm0tZGF0YScpID4gLTEpIHtcbiAgICAgICAgY29uc3QgX0Zvcm1EYXRhID0gdGhpcy5lbnYgJiYgdGhpcy5lbnYuRm9ybURhdGE7XG5cbiAgICAgICAgcmV0dXJuIHRvRm9ybURhdGEoXG4gICAgICAgICAgaXNGaWxlTGlzdCA/IHsnZmlsZXNbXSc6IGRhdGF9IDogZGF0YSxcbiAgICAgICAgICBfRm9ybURhdGEgJiYgbmV3IF9Gb3JtRGF0YSgpLFxuICAgICAgICAgIHRoaXMuZm9ybVNlcmlhbGl6ZXJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaXNPYmplY3RQYXlsb2FkIHx8IGhhc0pTT05Db250ZW50VHlwZSApIHtcbiAgICAgIGhlYWRlcnMuc2V0Q29udGVudFR5cGUoJ2FwcGxpY2F0aW9uL2pzb24nLCBmYWxzZSk7XG4gICAgICByZXR1cm4gc3RyaW5naWZ5U2FmZWx5KGRhdGEpO1xuICAgIH1cblxuICAgIHJldHVybiBkYXRhO1xuICB9XSxcblxuICB0cmFuc2Zvcm1SZXNwb25zZTogW2Z1bmN0aW9uIHRyYW5zZm9ybVJlc3BvbnNlKGRhdGEpIHtcbiAgICBjb25zdCB0cmFuc2l0aW9uYWwgPSB0aGlzLnRyYW5zaXRpb25hbCB8fCBkZWZhdWx0cy50cmFuc2l0aW9uYWw7XG4gICAgY29uc3QgZm9yY2VkSlNPTlBhcnNpbmcgPSB0cmFuc2l0aW9uYWwgJiYgdHJhbnNpdGlvbmFsLmZvcmNlZEpTT05QYXJzaW5nO1xuICAgIGNvbnN0IEpTT05SZXF1ZXN0ZWQgPSB0aGlzLnJlc3BvbnNlVHlwZSA9PT0gJ2pzb24nO1xuXG4gICAgaWYgKGRhdGEgJiYgdXRpbHMuaXNTdHJpbmcoZGF0YSkgJiYgKChmb3JjZWRKU09OUGFyc2luZyAmJiAhdGhpcy5yZXNwb25zZVR5cGUpIHx8IEpTT05SZXF1ZXN0ZWQpKSB7XG4gICAgICBjb25zdCBzaWxlbnRKU09OUGFyc2luZyA9IHRyYW5zaXRpb25hbCAmJiB0cmFuc2l0aW9uYWwuc2lsZW50SlNPTlBhcnNpbmc7XG4gICAgICBjb25zdCBzdHJpY3RKU09OUGFyc2luZyA9ICFzaWxlbnRKU09OUGFyc2luZyAmJiBKU09OUmVxdWVzdGVkO1xuXG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKHN0cmljdEpTT05QYXJzaW5nKSB7XG4gICAgICAgICAgaWYgKGUubmFtZSA9PT0gJ1N5bnRheEVycm9yJykge1xuICAgICAgICAgICAgdGhyb3cgQXhpb3NFcnJvci5mcm9tKGUsIEF4aW9zRXJyb3IuRVJSX0JBRF9SRVNQT05TRSwgdGhpcywgbnVsbCwgdGhpcy5yZXNwb25zZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YTtcbiAgfV0sXG5cbiAgLyoqXG4gICAqIEEgdGltZW91dCBpbiBtaWxsaXNlY29uZHMgdG8gYWJvcnQgYSByZXF1ZXN0LiBJZiBzZXQgdG8gMCAoZGVmYXVsdCkgYVxuICAgKiB0aW1lb3V0IGlzIG5vdCBjcmVhdGVkLlxuICAgKi9cbiAgdGltZW91dDogMCxcblxuICB4c3JmQ29va2llTmFtZTogJ1hTUkYtVE9LRU4nLFxuICB4c3JmSGVhZGVyTmFtZTogJ1gtWFNSRi1UT0tFTicsXG5cbiAgbWF4Q29udGVudExlbmd0aDogLTEsXG4gIG1heEJvZHlMZW5ndGg6IC0xLFxuXG4gIGVudjoge1xuICAgIEZvcm1EYXRhOiBwbGF0Zm9ybS5jbGFzc2VzLkZvcm1EYXRhLFxuICAgIEJsb2I6IHBsYXRmb3JtLmNsYXNzZXMuQmxvYlxuICB9LFxuXG4gIHZhbGlkYXRlU3RhdHVzOiBmdW5jdGlvbiB2YWxpZGF0ZVN0YXR1cyhzdGF0dXMpIHtcbiAgICByZXR1cm4gc3RhdHVzID49IDIwMCAmJiBzdGF0dXMgPCAzMDA7XG4gIH0sXG5cbiAgaGVhZGVyczoge1xuICAgIGNvbW1vbjoge1xuICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLyonLFxuICAgICAgJ0NvbnRlbnQtVHlwZSc6IHVuZGVmaW5lZFxuICAgIH1cbiAgfVxufTtcblxudXRpbHMuZm9yRWFjaChbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCcsICdwb3N0JywgJ3B1dCcsICdwYXRjaCddLCAobWV0aG9kKSA9PiB7XG4gIGRlZmF1bHRzLmhlYWRlcnNbbWV0aG9kXSA9IHt9O1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IGRlZmF1bHRzO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuaW1wb3J0IHRvRm9ybURhdGEgZnJvbSAnLi90b0Zvcm1EYXRhLmpzJztcbmltcG9ydCBwbGF0Zm9ybSBmcm9tICcuLi9wbGF0Zm9ybS9pbmRleC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRvVVJMRW5jb2RlZEZvcm0oZGF0YSwgb3B0aW9ucykge1xuICByZXR1cm4gdG9Gb3JtRGF0YShkYXRhLCBuZXcgcGxhdGZvcm0uY2xhc3Nlcy5VUkxTZWFyY2hQYXJhbXMoKSwgT2JqZWN0LmFzc2lnbih7XG4gICAgdmlzaXRvcjogZnVuY3Rpb24odmFsdWUsIGtleSwgcGF0aCwgaGVscGVycykge1xuICAgICAgaWYgKHBsYXRmb3JtLmlzTm9kZSAmJiB1dGlscy5pc0J1ZmZlcih2YWx1ZSkpIHtcbiAgICAgICAgdGhpcy5hcHBlbmQoa2V5LCB2YWx1ZS50b1N0cmluZygnYmFzZTY0JykpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBoZWxwZXJzLmRlZmF1bHRWaXNpdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9LCBvcHRpb25zKSk7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLy4uL3V0aWxzLmpzJztcblxuLy8gUmF3QXhpb3NIZWFkZXJzIHdob3NlIGR1cGxpY2F0ZXMgYXJlIGlnbm9yZWQgYnkgbm9kZVxuLy8gYy5mLiBodHRwczovL25vZGVqcy5vcmcvYXBpL2h0dHAuaHRtbCNodHRwX21lc3NhZ2VfaGVhZGVyc1xuY29uc3QgaWdub3JlRHVwbGljYXRlT2YgPSB1dGlscy50b09iamVjdFNldChbXG4gICdhZ2UnLCAnYXV0aG9yaXphdGlvbicsICdjb250ZW50LWxlbmd0aCcsICdjb250ZW50LXR5cGUnLCAnZXRhZycsXG4gICdleHBpcmVzJywgJ2Zyb20nLCAnaG9zdCcsICdpZi1tb2RpZmllZC1zaW5jZScsICdpZi11bm1vZGlmaWVkLXNpbmNlJyxcbiAgJ2xhc3QtbW9kaWZpZWQnLCAnbG9jYXRpb24nLCAnbWF4LWZvcndhcmRzJywgJ3Byb3h5LWF1dGhvcml6YXRpb24nLFxuICAncmVmZXJlcicsICdyZXRyeS1hZnRlcicsICd1c2VyLWFnZW50J1xuXSk7XG5cbi8qKlxuICogUGFyc2UgaGVhZGVycyBpbnRvIGFuIG9iamVjdFxuICpcbiAqIGBgYFxuICogRGF0ZTogV2VkLCAyNyBBdWcgMjAxNCAwODo1ODo0OSBHTVRcbiAqIENvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvblxuICogQ29ubmVjdGlvbjoga2VlcC1hbGl2ZVxuICogVHJhbnNmZXItRW5jb2Rpbmc6IGNodW5rZWRcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSByYXdIZWFkZXJzIEhlYWRlcnMgbmVlZGluZyB0byBiZSBwYXJzZWRcbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBIZWFkZXJzIHBhcnNlZCBpbnRvIGFuIG9iamVjdFxuICovXG5leHBvcnQgZGVmYXVsdCByYXdIZWFkZXJzID0+IHtcbiAgY29uc3QgcGFyc2VkID0ge307XG4gIGxldCBrZXk7XG4gIGxldCB2YWw7XG4gIGxldCBpO1xuXG4gIHJhd0hlYWRlcnMgJiYgcmF3SGVhZGVycy5zcGxpdCgnXFxuJykuZm9yRWFjaChmdW5jdGlvbiBwYXJzZXIobGluZSkge1xuICAgIGkgPSBsaW5lLmluZGV4T2YoJzonKTtcbiAgICBrZXkgPSBsaW5lLnN1YnN0cmluZygwLCBpKS50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgICB2YWwgPSBsaW5lLnN1YnN0cmluZyhpICsgMSkudHJpbSgpO1xuXG4gICAgaWYgKCFrZXkgfHwgKHBhcnNlZFtrZXldICYmIGlnbm9yZUR1cGxpY2F0ZU9mW2tleV0pKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGtleSA9PT0gJ3NldC1jb29raWUnKSB7XG4gICAgICBpZiAocGFyc2VkW2tleV0pIHtcbiAgICAgICAgcGFyc2VkW2tleV0ucHVzaCh2YWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyc2VkW2tleV0gPSBbdmFsXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGFyc2VkW2tleV0gPSBwYXJzZWRba2V5XSA/IHBhcnNlZFtrZXldICsgJywgJyArIHZhbCA6IHZhbDtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBwYXJzZWQ7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuaW1wb3J0IHBhcnNlSGVhZGVycyBmcm9tICcuLi9oZWxwZXJzL3BhcnNlSGVhZGVycy5qcyc7XG5cbmNvbnN0ICRpbnRlcm5hbHMgPSBTeW1ib2woJ2ludGVybmFscycpO1xuXG5mdW5jdGlvbiBub3JtYWxpemVIZWFkZXIoaGVhZGVyKSB7XG4gIHJldHVybiBoZWFkZXIgJiYgU3RyaW5nKGhlYWRlcikudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVZhbHVlKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PT0gZmFsc2UgfHwgdmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiB1dGlscy5pc0FycmF5KHZhbHVlKSA/IHZhbHVlLm1hcChub3JtYWxpemVWYWx1ZSkgOiBTdHJpbmcodmFsdWUpO1xufVxuXG5mdW5jdGlvbiBwYXJzZVRva2VucyhzdHIpIHtcbiAgY29uc3QgdG9rZW5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgY29uc3QgdG9rZW5zUkUgPSAvKFteXFxzLDs9XSspXFxzKig/Oj1cXHMqKFteLDtdKykpPy9nO1xuICBsZXQgbWF0Y2g7XG5cbiAgd2hpbGUgKChtYXRjaCA9IHRva2Vuc1JFLmV4ZWMoc3RyKSkpIHtcbiAgICB0b2tlbnNbbWF0Y2hbMV1dID0gbWF0Y2hbMl07XG4gIH1cblxuICByZXR1cm4gdG9rZW5zO1xufVxuXG5jb25zdCBpc1ZhbGlkSGVhZGVyTmFtZSA9IChzdHIpID0+IC9eWy1fYS16QS1aMC05XmB8fiwhIyQlJicqKy5dKyQvLnRlc3Qoc3RyLnRyaW0oKSk7XG5cbmZ1bmN0aW9uIG1hdGNoSGVhZGVyVmFsdWUoY29udGV4dCwgdmFsdWUsIGhlYWRlciwgZmlsdGVyLCBpc0hlYWRlck5hbWVGaWx0ZXIpIHtcbiAgaWYgKHV0aWxzLmlzRnVuY3Rpb24oZmlsdGVyKSkge1xuICAgIHJldHVybiBmaWx0ZXIuY2FsbCh0aGlzLCB2YWx1ZSwgaGVhZGVyKTtcbiAgfVxuXG4gIGlmIChpc0hlYWRlck5hbWVGaWx0ZXIpIHtcbiAgICB2YWx1ZSA9IGhlYWRlcjtcbiAgfVxuXG4gIGlmICghdXRpbHMuaXNTdHJpbmcodmFsdWUpKSByZXR1cm47XG5cbiAgaWYgKHV0aWxzLmlzU3RyaW5nKGZpbHRlcikpIHtcbiAgICByZXR1cm4gdmFsdWUuaW5kZXhPZihmaWx0ZXIpICE9PSAtMTtcbiAgfVxuXG4gIGlmICh1dGlscy5pc1JlZ0V4cChmaWx0ZXIpKSB7XG4gICAgcmV0dXJuIGZpbHRlci50ZXN0KHZhbHVlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBmb3JtYXRIZWFkZXIoaGVhZGVyKSB7XG4gIHJldHVybiBoZWFkZXIudHJpbSgpXG4gICAgLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvKFthLXpcXGRdKShcXHcqKS9nLCAodywgY2hhciwgc3RyKSA9PiB7XG4gICAgICByZXR1cm4gY2hhci50b1VwcGVyQ2FzZSgpICsgc3RyO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBidWlsZEFjY2Vzc29ycyhvYmosIGhlYWRlcikge1xuICBjb25zdCBhY2Nlc3Nvck5hbWUgPSB1dGlscy50b0NhbWVsQ2FzZSgnICcgKyBoZWFkZXIpO1xuXG4gIFsnZ2V0JywgJ3NldCcsICdoYXMnXS5mb3JFYWNoKG1ldGhvZE5hbWUgPT4ge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIG1ldGhvZE5hbWUgKyBhY2Nlc3Nvck5hbWUsIHtcbiAgICAgIHZhbHVlOiBmdW5jdGlvbihhcmcxLCBhcmcyLCBhcmczKSB7XG4gICAgICAgIHJldHVybiB0aGlzW21ldGhvZE5hbWVdLmNhbGwodGhpcywgaGVhZGVyLCBhcmcxLCBhcmcyLCBhcmczKTtcbiAgICAgIH0sXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgfSk7XG59XG5cbmNsYXNzIEF4aW9zSGVhZGVycyB7XG4gIGNvbnN0cnVjdG9yKGhlYWRlcnMpIHtcbiAgICBoZWFkZXJzICYmIHRoaXMuc2V0KGhlYWRlcnMpO1xuICB9XG5cbiAgc2V0KGhlYWRlciwgdmFsdWVPclJld3JpdGUsIHJld3JpdGUpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcblxuICAgIGZ1bmN0aW9uIHNldEhlYWRlcihfdmFsdWUsIF9oZWFkZXIsIF9yZXdyaXRlKSB7XG4gICAgICBjb25zdCBsSGVhZGVyID0gbm9ybWFsaXplSGVhZGVyKF9oZWFkZXIpO1xuXG4gICAgICBpZiAoIWxIZWFkZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdoZWFkZXIgbmFtZSBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZycpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBrZXkgPSB1dGlscy5maW5kS2V5KHNlbGYsIGxIZWFkZXIpO1xuXG4gICAgICBpZigha2V5IHx8IHNlbGZba2V5XSA9PT0gdW5kZWZpbmVkIHx8IF9yZXdyaXRlID09PSB0cnVlIHx8IChfcmV3cml0ZSA9PT0gdW5kZWZpbmVkICYmIHNlbGZba2V5XSAhPT0gZmFsc2UpKSB7XG4gICAgICAgIHNlbGZba2V5IHx8IF9oZWFkZXJdID0gbm9ybWFsaXplVmFsdWUoX3ZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBzZXRIZWFkZXJzID0gKGhlYWRlcnMsIF9yZXdyaXRlKSA9PlxuICAgICAgdXRpbHMuZm9yRWFjaChoZWFkZXJzLCAoX3ZhbHVlLCBfaGVhZGVyKSA9PiBzZXRIZWFkZXIoX3ZhbHVlLCBfaGVhZGVyLCBfcmV3cml0ZSkpO1xuXG4gICAgaWYgKHV0aWxzLmlzUGxhaW5PYmplY3QoaGVhZGVyKSB8fCBoZWFkZXIgaW5zdGFuY2VvZiB0aGlzLmNvbnN0cnVjdG9yKSB7XG4gICAgICBzZXRIZWFkZXJzKGhlYWRlciwgdmFsdWVPclJld3JpdGUpXG4gICAgfSBlbHNlIGlmKHV0aWxzLmlzU3RyaW5nKGhlYWRlcikgJiYgKGhlYWRlciA9IGhlYWRlci50cmltKCkpICYmICFpc1ZhbGlkSGVhZGVyTmFtZShoZWFkZXIpKSB7XG4gICAgICBzZXRIZWFkZXJzKHBhcnNlSGVhZGVycyhoZWFkZXIpLCB2YWx1ZU9yUmV3cml0ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhlYWRlciAhPSBudWxsICYmIHNldEhlYWRlcih2YWx1ZU9yUmV3cml0ZSwgaGVhZGVyLCByZXdyaXRlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGdldChoZWFkZXIsIHBhcnNlcikge1xuICAgIGhlYWRlciA9IG5vcm1hbGl6ZUhlYWRlcihoZWFkZXIpO1xuXG4gICAgaWYgKGhlYWRlcikge1xuICAgICAgY29uc3Qga2V5ID0gdXRpbHMuZmluZEtleSh0aGlzLCBoZWFkZXIpO1xuXG4gICAgICBpZiAoa2V5KSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpc1trZXldO1xuXG4gICAgICAgIGlmICghcGFyc2VyKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnNlciA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHJldHVybiBwYXJzZVRva2Vucyh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodXRpbHMuaXNGdW5jdGlvbihwYXJzZXIpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlci5jYWxsKHRoaXMsIHZhbHVlLCBrZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHV0aWxzLmlzUmVnRXhwKHBhcnNlcikpIHtcbiAgICAgICAgICByZXR1cm4gcGFyc2VyLmV4ZWModmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigncGFyc2VyIG11c3QgYmUgYm9vbGVhbnxyZWdleHB8ZnVuY3Rpb24nKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBoYXMoaGVhZGVyLCBtYXRjaGVyKSB7XG4gICAgaGVhZGVyID0gbm9ybWFsaXplSGVhZGVyKGhlYWRlcik7XG5cbiAgICBpZiAoaGVhZGVyKSB7XG4gICAgICBjb25zdCBrZXkgPSB1dGlscy5maW5kS2V5KHRoaXMsIGhlYWRlcik7XG5cbiAgICAgIHJldHVybiAhIShrZXkgJiYgdGhpc1trZXldICE9PSB1bmRlZmluZWQgJiYgKCFtYXRjaGVyIHx8IG1hdGNoSGVhZGVyVmFsdWUodGhpcywgdGhpc1trZXldLCBrZXksIG1hdGNoZXIpKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZGVsZXRlKGhlYWRlciwgbWF0Y2hlcikge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGxldCBkZWxldGVkID0gZmFsc2U7XG5cbiAgICBmdW5jdGlvbiBkZWxldGVIZWFkZXIoX2hlYWRlcikge1xuICAgICAgX2hlYWRlciA9IG5vcm1hbGl6ZUhlYWRlcihfaGVhZGVyKTtcblxuICAgICAgaWYgKF9oZWFkZXIpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gdXRpbHMuZmluZEtleShzZWxmLCBfaGVhZGVyKTtcblxuICAgICAgICBpZiAoa2V5ICYmICghbWF0Y2hlciB8fCBtYXRjaEhlYWRlclZhbHVlKHNlbGYsIHNlbGZba2V5XSwga2V5LCBtYXRjaGVyKSkpIHtcbiAgICAgICAgICBkZWxldGUgc2VsZltrZXldO1xuXG4gICAgICAgICAgZGVsZXRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodXRpbHMuaXNBcnJheShoZWFkZXIpKSB7XG4gICAgICBoZWFkZXIuZm9yRWFjaChkZWxldGVIZWFkZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGVIZWFkZXIoaGVhZGVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVsZXRlZDtcbiAgfVxuXG4gIGNsZWFyKG1hdGNoZXIpIHtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModGhpcyk7XG4gICAgbGV0IGkgPSBrZXlzLmxlbmd0aDtcbiAgICBsZXQgZGVsZXRlZCA9IGZhbHNlO1xuXG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgY29uc3Qga2V5ID0ga2V5c1tpXTtcbiAgICAgIGlmKCFtYXRjaGVyIHx8IG1hdGNoSGVhZGVyVmFsdWUodGhpcywgdGhpc1trZXldLCBrZXksIG1hdGNoZXIsIHRydWUpKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzW2tleV07XG4gICAgICAgIGRlbGV0ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkZWxldGVkO1xuICB9XG5cbiAgbm9ybWFsaXplKGZvcm1hdCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcblxuICAgIHV0aWxzLmZvckVhY2godGhpcywgKHZhbHVlLCBoZWFkZXIpID0+IHtcbiAgICAgIGNvbnN0IGtleSA9IHV0aWxzLmZpbmRLZXkoaGVhZGVycywgaGVhZGVyKTtcblxuICAgICAgaWYgKGtleSkge1xuICAgICAgICBzZWxmW2tleV0gPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSk7XG4gICAgICAgIGRlbGV0ZSBzZWxmW2hlYWRlcl07XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IGZvcm1hdCA/IGZvcm1hdEhlYWRlcihoZWFkZXIpIDogU3RyaW5nKGhlYWRlcikudHJpbSgpO1xuXG4gICAgICBpZiAobm9ybWFsaXplZCAhPT0gaGVhZGVyKSB7XG4gICAgICAgIGRlbGV0ZSBzZWxmW2hlYWRlcl07XG4gICAgICB9XG5cbiAgICAgIHNlbGZbbm9ybWFsaXplZF0gPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSk7XG5cbiAgICAgIGhlYWRlcnNbbm9ybWFsaXplZF0gPSB0cnVlO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBjb25jYXQoLi4udGFyZ2V0cykge1xuICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLmNvbmNhdCh0aGlzLCAuLi50YXJnZXRzKTtcbiAgfVxuXG4gIHRvSlNPTihhc1N0cmluZ3MpIHtcbiAgICBjb25zdCBvYmogPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gICAgdXRpbHMuZm9yRWFjaCh0aGlzLCAodmFsdWUsIGhlYWRlcikgPT4ge1xuICAgICAgdmFsdWUgIT0gbnVsbCAmJiB2YWx1ZSAhPT0gZmFsc2UgJiYgKG9ialtoZWFkZXJdID0gYXNTdHJpbmdzICYmIHV0aWxzLmlzQXJyYXkodmFsdWUpID8gdmFsdWUuam9pbignLCAnKSA6IHZhbHVlKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICBbU3ltYm9sLml0ZXJhdG9yXSgpIHtcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXModGhpcy50b0pTT04oKSlbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICB9XG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKHRoaXMudG9KU09OKCkpLm1hcCgoW2hlYWRlciwgdmFsdWVdKSA9PiBoZWFkZXIgKyAnOiAnICsgdmFsdWUpLmpvaW4oJ1xcbicpO1xuICB9XG5cbiAgZ2V0IFtTeW1ib2wudG9TdHJpbmdUYWddKCkge1xuICAgIHJldHVybiAnQXhpb3NIZWFkZXJzJztcbiAgfVxuXG4gIHN0YXRpYyBmcm9tKHRoaW5nKSB7XG4gICAgcmV0dXJuIHRoaW5nIGluc3RhbmNlb2YgdGhpcyA/IHRoaW5nIDogbmV3IHRoaXModGhpbmcpO1xuICB9XG5cbiAgc3RhdGljIGNvbmNhdChmaXJzdCwgLi4udGFyZ2V0cykge1xuICAgIGNvbnN0IGNvbXB1dGVkID0gbmV3IHRoaXMoZmlyc3QpO1xuXG4gICAgdGFyZ2V0cy5mb3JFYWNoKCh0YXJnZXQpID0+IGNvbXB1dGVkLnNldCh0YXJnZXQpKTtcblxuICAgIHJldHVybiBjb21wdXRlZDtcbiAgfVxuXG4gIHN0YXRpYyBhY2Nlc3NvcihoZWFkZXIpIHtcbiAgICBjb25zdCBpbnRlcm5hbHMgPSB0aGlzWyRpbnRlcm5hbHNdID0gKHRoaXNbJGludGVybmFsc10gPSB7XG4gICAgICBhY2Nlc3NvcnM6IHt9XG4gICAgfSk7XG5cbiAgICBjb25zdCBhY2Nlc3NvcnMgPSBpbnRlcm5hbHMuYWNjZXNzb3JzO1xuICAgIGNvbnN0IHByb3RvdHlwZSA9IHRoaXMucHJvdG90eXBlO1xuXG4gICAgZnVuY3Rpb24gZGVmaW5lQWNjZXNzb3IoX2hlYWRlcikge1xuICAgICAgY29uc3QgbEhlYWRlciA9IG5vcm1hbGl6ZUhlYWRlcihfaGVhZGVyKTtcblxuICAgICAgaWYgKCFhY2Nlc3NvcnNbbEhlYWRlcl0pIHtcbiAgICAgICAgYnVpbGRBY2Nlc3NvcnMocHJvdG90eXBlLCBfaGVhZGVyKTtcbiAgICAgICAgYWNjZXNzb3JzW2xIZWFkZXJdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB1dGlscy5pc0FycmF5KGhlYWRlcikgPyBoZWFkZXIuZm9yRWFjaChkZWZpbmVBY2Nlc3NvcikgOiBkZWZpbmVBY2Nlc3NvcihoZWFkZXIpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuQXhpb3NIZWFkZXJzLmFjY2Vzc29yKFsnQ29udGVudC1UeXBlJywgJ0NvbnRlbnQtTGVuZ3RoJywgJ0FjY2VwdCcsICdBY2NlcHQtRW5jb2RpbmcnLCAnVXNlci1BZ2VudCcsICdBdXRob3JpemF0aW9uJ10pO1xuXG4vLyByZXNlcnZlZCBuYW1lcyBob3RmaXhcbnV0aWxzLnJlZHVjZURlc2NyaXB0b3JzKEF4aW9zSGVhZGVycy5wcm90b3R5cGUsICh7dmFsdWV9LCBrZXkpID0+IHtcbiAgbGV0IG1hcHBlZCA9IGtleVswXS50b1VwcGVyQ2FzZSgpICsga2V5LnNsaWNlKDEpOyAvLyBtYXAgYHNldGAgPT4gYFNldGBcbiAgcmV0dXJuIHtcbiAgICBnZXQ6ICgpID0+IHZhbHVlLFxuICAgIHNldChoZWFkZXJWYWx1ZSkge1xuICAgICAgdGhpc1ttYXBwZWRdID0gaGVhZGVyVmFsdWU7XG4gICAgfVxuICB9XG59KTtcblxudXRpbHMuZnJlZXplTWV0aG9kcyhBeGlvc0hlYWRlcnMpO1xuXG5leHBvcnQgZGVmYXVsdCBBeGlvc0hlYWRlcnM7XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLy4uL3V0aWxzLmpzJztcbmltcG9ydCBkZWZhdWx0cyBmcm9tICcuLi9kZWZhdWx0cy9pbmRleC5qcyc7XG5pbXBvcnQgQXhpb3NIZWFkZXJzIGZyb20gJy4uL2NvcmUvQXhpb3NIZWFkZXJzLmpzJztcblxuLyoqXG4gKiBUcmFuc2Zvcm0gdGhlIGRhdGEgZm9yIGEgcmVxdWVzdCBvciBhIHJlc3BvbnNlXG4gKlxuICogQHBhcmFtIHtBcnJheXxGdW5jdGlvbn0gZm5zIEEgc2luZ2xlIGZ1bmN0aW9uIG9yIEFycmF5IG9mIGZ1bmN0aW9uc1xuICogQHBhcmFtIHs/T2JqZWN0fSByZXNwb25zZSBUaGUgcmVzcG9uc2Ugb2JqZWN0XG4gKlxuICogQHJldHVybnMgeyp9IFRoZSByZXN1bHRpbmcgdHJhbnNmb3JtZWQgZGF0YVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0cmFuc2Zvcm1EYXRhKGZucywgcmVzcG9uc2UpIHtcbiAgY29uc3QgY29uZmlnID0gdGhpcyB8fCBkZWZhdWx0cztcbiAgY29uc3QgY29udGV4dCA9IHJlc3BvbnNlIHx8IGNvbmZpZztcbiAgY29uc3QgaGVhZGVycyA9IEF4aW9zSGVhZGVycy5mcm9tKGNvbnRleHQuaGVhZGVycyk7XG4gIGxldCBkYXRhID0gY29udGV4dC5kYXRhO1xuXG4gIHV0aWxzLmZvckVhY2goZm5zLCBmdW5jdGlvbiB0cmFuc2Zvcm0oZm4pIHtcbiAgICBkYXRhID0gZm4uY2FsbChjb25maWcsIGRhdGEsIGhlYWRlcnMubm9ybWFsaXplKCksIHJlc3BvbnNlID8gcmVzcG9uc2Uuc3RhdHVzIDogdW5kZWZpbmVkKTtcbiAgfSk7XG5cbiAgaGVhZGVycy5ub3JtYWxpemUoKTtcblxuICByZXR1cm4gZGF0YTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNDYW5jZWwodmFsdWUpIHtcbiAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlLl9fQ0FOQ0VMX18pO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgQXhpb3NFcnJvciBmcm9tICcuLi9jb3JlL0F4aW9zRXJyb3IuanMnO1xuaW1wb3J0IHV0aWxzIGZyb20gJy4uL3V0aWxzLmpzJztcblxuLyoqXG4gKiBBIGBDYW5jZWxlZEVycm9yYCBpcyBhbiBvYmplY3QgdGhhdCBpcyB0aHJvd24gd2hlbiBhbiBvcGVyYXRpb24gaXMgY2FuY2VsZWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmc9fSBtZXNzYWdlIFRoZSBtZXNzYWdlLlxuICogQHBhcmFtIHtPYmplY3Q9fSBjb25maWcgVGhlIGNvbmZpZy5cbiAqIEBwYXJhbSB7T2JqZWN0PX0gcmVxdWVzdCBUaGUgcmVxdWVzdC5cbiAqXG4gKiBAcmV0dXJucyB7Q2FuY2VsZWRFcnJvcn0gVGhlIGNyZWF0ZWQgZXJyb3IuXG4gKi9cbmZ1bmN0aW9uIENhbmNlbGVkRXJyb3IobWVzc2FnZSwgY29uZmlnLCByZXF1ZXN0KSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICBBeGlvc0Vycm9yLmNhbGwodGhpcywgbWVzc2FnZSA9PSBudWxsID8gJ2NhbmNlbGVkJyA6IG1lc3NhZ2UsIEF4aW9zRXJyb3IuRVJSX0NBTkNFTEVELCBjb25maWcsIHJlcXVlc3QpO1xuICB0aGlzLm5hbWUgPSAnQ2FuY2VsZWRFcnJvcic7XG59XG5cbnV0aWxzLmluaGVyaXRzKENhbmNlbGVkRXJyb3IsIEF4aW9zRXJyb3IsIHtcbiAgX19DQU5DRUxfXzogdHJ1ZVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IENhbmNlbGVkRXJyb3I7XG4iLCJpbXBvcnQgdXRpbHMgZnJvbSAnLi8uLi91dGlscy5qcyc7XG5pbXBvcnQgcGxhdGZvcm0gZnJvbSAnLi4vcGxhdGZvcm0vaW5kZXguanMnO1xuXG5leHBvcnQgZGVmYXVsdCBwbGF0Zm9ybS5oYXNTdGFuZGFyZEJyb3dzZXJFbnYgP1xuXG4gIC8vIFN0YW5kYXJkIGJyb3dzZXIgZW52cyBzdXBwb3J0IGRvY3VtZW50LmNvb2tpZVxuICB7XG4gICAgd3JpdGUobmFtZSwgdmFsdWUsIGV4cGlyZXMsIHBhdGgsIGRvbWFpbiwgc2VjdXJlKSB7XG4gICAgICBjb25zdCBjb29raWUgPSBbbmFtZSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSldO1xuXG4gICAgICB1dGlscy5pc051bWJlcihleHBpcmVzKSAmJiBjb29raWUucHVzaCgnZXhwaXJlcz0nICsgbmV3IERhdGUoZXhwaXJlcykudG9HTVRTdHJpbmcoKSk7XG5cbiAgICAgIHV0aWxzLmlzU3RyaW5nKHBhdGgpICYmIGNvb2tpZS5wdXNoKCdwYXRoPScgKyBwYXRoKTtcblxuICAgICAgdXRpbHMuaXNTdHJpbmcoZG9tYWluKSAmJiBjb29raWUucHVzaCgnZG9tYWluPScgKyBkb21haW4pO1xuXG4gICAgICBzZWN1cmUgPT09IHRydWUgJiYgY29va2llLnB1c2goJ3NlY3VyZScpO1xuXG4gICAgICBkb2N1bWVudC5jb29raWUgPSBjb29raWUuam9pbignOyAnKTtcbiAgICB9LFxuXG4gICAgcmVhZChuYW1lKSB7XG4gICAgICBjb25zdCBtYXRjaCA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaChuZXcgUmVnRXhwKCcoXnw7XFxcXHMqKSgnICsgbmFtZSArICcpPShbXjtdKiknKSk7XG4gICAgICByZXR1cm4gKG1hdGNoID8gZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzNdKSA6IG51bGwpO1xuICAgIH0sXG5cbiAgICByZW1vdmUobmFtZSkge1xuICAgICAgdGhpcy53cml0ZShuYW1lLCAnJywgRGF0ZS5ub3coKSAtIDg2NDAwMDAwKTtcbiAgICB9XG4gIH1cblxuICA6XG5cbiAgLy8gTm9uLXN0YW5kYXJkIGJyb3dzZXIgZW52ICh3ZWIgd29ya2VycywgcmVhY3QtbmF0aXZlKSBsYWNrIG5lZWRlZCBzdXBwb3J0LlxuICB7XG4gICAgd3JpdGUoKSB7fSxcbiAgICByZWFkKCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcbiAgICByZW1vdmUoKSB7fVxuICB9O1xuXG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBpc0Fic29sdXRlVVJMIGZyb20gJy4uL2hlbHBlcnMvaXNBYnNvbHV0ZVVSTC5qcyc7XG5pbXBvcnQgY29tYmluZVVSTHMgZnJvbSAnLi4vaGVscGVycy9jb21iaW5lVVJMcy5qcyc7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBVUkwgYnkgY29tYmluaW5nIHRoZSBiYXNlVVJMIHdpdGggdGhlIHJlcXVlc3RlZFVSTCxcbiAqIG9ubHkgd2hlbiB0aGUgcmVxdWVzdGVkVVJMIGlzIG5vdCBhbHJlYWR5IGFuIGFic29sdXRlIFVSTC5cbiAqIElmIHRoZSByZXF1ZXN0VVJMIGlzIGFic29sdXRlLCB0aGlzIGZ1bmN0aW9uIHJldHVybnMgdGhlIHJlcXVlc3RlZFVSTCB1bnRvdWNoZWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVUkwgVGhlIGJhc2UgVVJMXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVxdWVzdGVkVVJMIEFic29sdXRlIG9yIHJlbGF0aXZlIFVSTCB0byBjb21iaW5lXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGNvbWJpbmVkIGZ1bGwgcGF0aFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBidWlsZEZ1bGxQYXRoKGJhc2VVUkwsIHJlcXVlc3RlZFVSTCkge1xuICBpZiAoYmFzZVVSTCAmJiAhaXNBYnNvbHV0ZVVSTChyZXF1ZXN0ZWRVUkwpKSB7XG4gICAgcmV0dXJuIGNvbWJpbmVVUkxzKGJhc2VVUkwsIHJlcXVlc3RlZFVSTCk7XG4gIH1cbiAgcmV0dXJuIHJlcXVlc3RlZFVSTDtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIHNwZWNpZmllZCBVUkwgaXMgYWJzb2x1dGVcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBVUkwgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNBYnNvbHV0ZVVSTCh1cmwpIHtcbiAgLy8gQSBVUkwgaXMgY29uc2lkZXJlZCBhYnNvbHV0ZSBpZiBpdCBiZWdpbnMgd2l0aCBcIjxzY2hlbWU+Oi8vXCIgb3IgXCIvL1wiIChwcm90b2NvbC1yZWxhdGl2ZSBVUkwpLlxuICAvLyBSRkMgMzk4NiBkZWZpbmVzIHNjaGVtZSBuYW1lIGFzIGEgc2VxdWVuY2Ugb2YgY2hhcmFjdGVycyBiZWdpbm5pbmcgd2l0aCBhIGxldHRlciBhbmQgZm9sbG93ZWRcbiAgLy8gYnkgYW55IGNvbWJpbmF0aW9uIG9mIGxldHRlcnMsIGRpZ2l0cywgcGx1cywgcGVyaW9kLCBvciBoeXBoZW4uXG4gIHJldHVybiAvXihbYS16XVthLXpcXGQrXFwtLl0qOik/XFwvXFwvL2kudGVzdCh1cmwpO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgVVJMIGJ5IGNvbWJpbmluZyB0aGUgc3BlY2lmaWVkIFVSTHNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZVVSTCBUaGUgYmFzZSBVUkxcbiAqIEBwYXJhbSB7c3RyaW5nfSByZWxhdGl2ZVVSTCBUaGUgcmVsYXRpdmUgVVJMXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGNvbWJpbmVkIFVSTFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjb21iaW5lVVJMcyhiYXNlVVJMLCByZWxhdGl2ZVVSTCkge1xuICByZXR1cm4gcmVsYXRpdmVVUkxcbiAgICA/IGJhc2VVUkwucmVwbGFjZSgvXFwvKyQvLCAnJykgKyAnLycgKyByZWxhdGl2ZVVSTC5yZXBsYWNlKC9eXFwvKy8sICcnKVxuICAgIDogYmFzZVVSTDtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4vLi4vdXRpbHMuanMnO1xuaW1wb3J0IHBsYXRmb3JtIGZyb20gJy4uL3BsYXRmb3JtL2luZGV4LmpzJztcblxuZXhwb3J0IGRlZmF1bHQgcGxhdGZvcm0uaGFzU3RhbmRhcmRCcm93c2VyRW52ID9cblxuLy8gU3RhbmRhcmQgYnJvd3NlciBlbnZzIGhhdmUgZnVsbCBzdXBwb3J0IG9mIHRoZSBBUElzIG5lZWRlZCB0byB0ZXN0XG4vLyB3aGV0aGVyIHRoZSByZXF1ZXN0IFVSTCBpcyBvZiB0aGUgc2FtZSBvcmlnaW4gYXMgY3VycmVudCBsb2NhdGlvbi5cbiAgKGZ1bmN0aW9uIHN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICBjb25zdCBtc2llID0gLyhtc2llfHRyaWRlbnQpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICBjb25zdCB1cmxQYXJzaW5nTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICBsZXQgb3JpZ2luVVJMO1xuXG4gICAgLyoqXG4gICAgKiBQYXJzZSBhIFVSTCB0byBkaXNjb3ZlciBpdHMgY29tcG9uZW50c1xuICAgICpcbiAgICAqIEBwYXJhbSB7U3RyaW5nfSB1cmwgVGhlIFVSTCB0byBiZSBwYXJzZWRcbiAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgKi9cbiAgICBmdW5jdGlvbiByZXNvbHZlVVJMKHVybCkge1xuICAgICAgbGV0IGhyZWYgPSB1cmw7XG5cbiAgICAgIGlmIChtc2llKSB7XG4gICAgICAgIC8vIElFIG5lZWRzIGF0dHJpYnV0ZSBzZXQgdHdpY2UgdG8gbm9ybWFsaXplIHByb3BlcnRpZXNcbiAgICAgICAgdXJsUGFyc2luZ05vZGUuc2V0QXR0cmlidXRlKCdocmVmJywgaHJlZik7XG4gICAgICAgIGhyZWYgPSB1cmxQYXJzaW5nTm9kZS5ocmVmO1xuICAgICAgfVxuXG4gICAgICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcblxuICAgICAgLy8gdXJsUGFyc2luZ05vZGUgcHJvdmlkZXMgdGhlIFVybFV0aWxzIGludGVyZmFjZSAtIGh0dHA6Ly91cmwuc3BlYy53aGF0d2cub3JnLyN1cmx1dGlsc1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaHJlZjogdXJsUGFyc2luZ05vZGUuaHJlZixcbiAgICAgICAgcHJvdG9jb2w6IHVybFBhcnNpbmdOb2RlLnByb3RvY29sID8gdXJsUGFyc2luZ05vZGUucHJvdG9jb2wucmVwbGFjZSgvOiQvLCAnJykgOiAnJyxcbiAgICAgICAgaG9zdDogdXJsUGFyc2luZ05vZGUuaG9zdCxcbiAgICAgICAgc2VhcmNoOiB1cmxQYXJzaW5nTm9kZS5zZWFyY2ggPyB1cmxQYXJzaW5nTm9kZS5zZWFyY2gucmVwbGFjZSgvXlxcPy8sICcnKSA6ICcnLFxuICAgICAgICBoYXNoOiB1cmxQYXJzaW5nTm9kZS5oYXNoID8gdXJsUGFyc2luZ05vZGUuaGFzaC5yZXBsYWNlKC9eIy8sICcnKSA6ICcnLFxuICAgICAgICBob3N0bmFtZTogdXJsUGFyc2luZ05vZGUuaG9zdG5hbWUsXG4gICAgICAgIHBvcnQ6IHVybFBhcnNpbmdOb2RlLnBvcnQsXG4gICAgICAgIHBhdGhuYW1lOiAodXJsUGFyc2luZ05vZGUucGF0aG5hbWUuY2hhckF0KDApID09PSAnLycpID9cbiAgICAgICAgICB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZSA6XG4gICAgICAgICAgJy8nICsgdXJsUGFyc2luZ05vZGUucGF0aG5hbWVcbiAgICAgIH07XG4gICAgfVxuXG4gICAgb3JpZ2luVVJMID0gcmVzb2x2ZVVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG5cbiAgICAvKipcbiAgICAqIERldGVybWluZSBpZiBhIFVSTCBzaGFyZXMgdGhlIHNhbWUgb3JpZ2luIGFzIHRoZSBjdXJyZW50IGxvY2F0aW9uXG4gICAgKlxuICAgICogQHBhcmFtIHtTdHJpbmd9IHJlcXVlc3RVUkwgVGhlIFVSTCB0byB0ZXN0XG4gICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBVUkwgc2hhcmVzIHRoZSBzYW1lIG9yaWdpbiwgb3RoZXJ3aXNlIGZhbHNlXG4gICAgKi9cbiAgICByZXR1cm4gZnVuY3Rpb24gaXNVUkxTYW1lT3JpZ2luKHJlcXVlc3RVUkwpIHtcbiAgICAgIGNvbnN0IHBhcnNlZCA9ICh1dGlscy5pc1N0cmluZyhyZXF1ZXN0VVJMKSkgPyByZXNvbHZlVVJMKHJlcXVlc3RVUkwpIDogcmVxdWVzdFVSTDtcbiAgICAgIHJldHVybiAocGFyc2VkLnByb3RvY29sID09PSBvcmlnaW5VUkwucHJvdG9jb2wgJiZcbiAgICAgICAgICBwYXJzZWQuaG9zdCA9PT0gb3JpZ2luVVJMLmhvc3QpO1xuICAgIH07XG4gIH0pKCkgOlxuXG4gIC8vIE5vbiBzdGFuZGFyZCBicm93c2VyIGVudnMgKHdlYiB3b3JrZXJzLCByZWFjdC1uYXRpdmUpIGxhY2sgbmVlZGVkIHN1cHBvcnQuXG4gIChmdW5jdGlvbiBub25TdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGlzVVJMU2FtZU9yaWdpbigpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gIH0pKCk7XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLy4uL3V0aWxzLmpzJztcbmltcG9ydCBzZXR0bGUgZnJvbSAnLi8uLi9jb3JlL3NldHRsZS5qcyc7XG5pbXBvcnQgY29va2llcyBmcm9tICcuLy4uL2hlbHBlcnMvY29va2llcy5qcyc7XG5pbXBvcnQgYnVpbGRVUkwgZnJvbSAnLi8uLi9oZWxwZXJzL2J1aWxkVVJMLmpzJztcbmltcG9ydCBidWlsZEZ1bGxQYXRoIGZyb20gJy4uL2NvcmUvYnVpbGRGdWxsUGF0aC5qcyc7XG5pbXBvcnQgaXNVUkxTYW1lT3JpZ2luIGZyb20gJy4vLi4vaGVscGVycy9pc1VSTFNhbWVPcmlnaW4uanMnO1xuaW1wb3J0IHRyYW5zaXRpb25hbERlZmF1bHRzIGZyb20gJy4uL2RlZmF1bHRzL3RyYW5zaXRpb25hbC5qcyc7XG5pbXBvcnQgQXhpb3NFcnJvciBmcm9tICcuLi9jb3JlL0F4aW9zRXJyb3IuanMnO1xuaW1wb3J0IENhbmNlbGVkRXJyb3IgZnJvbSAnLi4vY2FuY2VsL0NhbmNlbGVkRXJyb3IuanMnO1xuaW1wb3J0IHBhcnNlUHJvdG9jb2wgZnJvbSAnLi4vaGVscGVycy9wYXJzZVByb3RvY29sLmpzJztcbmltcG9ydCBwbGF0Zm9ybSBmcm9tICcuLi9wbGF0Zm9ybS9pbmRleC5qcyc7XG5pbXBvcnQgQXhpb3NIZWFkZXJzIGZyb20gJy4uL2NvcmUvQXhpb3NIZWFkZXJzLmpzJztcbmltcG9ydCBzcGVlZG9tZXRlciBmcm9tICcuLi9oZWxwZXJzL3NwZWVkb21ldGVyLmpzJztcblxuZnVuY3Rpb24gcHJvZ3Jlc3NFdmVudFJlZHVjZXIobGlzdGVuZXIsIGlzRG93bmxvYWRTdHJlYW0pIHtcbiAgbGV0IGJ5dGVzTm90aWZpZWQgPSAwO1xuICBjb25zdCBfc3BlZWRvbWV0ZXIgPSBzcGVlZG9tZXRlcig1MCwgMjUwKTtcblxuICByZXR1cm4gZSA9PiB7XG4gICAgY29uc3QgbG9hZGVkID0gZS5sb2FkZWQ7XG4gICAgY29uc3QgdG90YWwgPSBlLmxlbmd0aENvbXB1dGFibGUgPyBlLnRvdGFsIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IHByb2dyZXNzQnl0ZXMgPSBsb2FkZWQgLSBieXRlc05vdGlmaWVkO1xuICAgIGNvbnN0IHJhdGUgPSBfc3BlZWRvbWV0ZXIocHJvZ3Jlc3NCeXRlcyk7XG4gICAgY29uc3QgaW5SYW5nZSA9IGxvYWRlZCA8PSB0b3RhbDtcblxuICAgIGJ5dGVzTm90aWZpZWQgPSBsb2FkZWQ7XG5cbiAgICBjb25zdCBkYXRhID0ge1xuICAgICAgbG9hZGVkLFxuICAgICAgdG90YWwsXG4gICAgICBwcm9ncmVzczogdG90YWwgPyAobG9hZGVkIC8gdG90YWwpIDogdW5kZWZpbmVkLFxuICAgICAgYnl0ZXM6IHByb2dyZXNzQnl0ZXMsXG4gICAgICByYXRlOiByYXRlID8gcmF0ZSA6IHVuZGVmaW5lZCxcbiAgICAgIGVzdGltYXRlZDogcmF0ZSAmJiB0b3RhbCAmJiBpblJhbmdlID8gKHRvdGFsIC0gbG9hZGVkKSAvIHJhdGUgOiB1bmRlZmluZWQsXG4gICAgICBldmVudDogZVxuICAgIH07XG5cbiAgICBkYXRhW2lzRG93bmxvYWRTdHJlYW0gPyAnZG93bmxvYWQnIDogJ3VwbG9hZCddID0gdHJ1ZTtcblxuICAgIGxpc3RlbmVyKGRhdGEpO1xuICB9O1xufVxuXG5jb25zdCBpc1hIUkFkYXB0ZXJTdXBwb3J0ZWQgPSB0eXBlb2YgWE1MSHR0cFJlcXVlc3QgIT09ICd1bmRlZmluZWQnO1xuXG5leHBvcnQgZGVmYXVsdCBpc1hIUkFkYXB0ZXJTdXBwb3J0ZWQgJiYgZnVuY3Rpb24gKGNvbmZpZykge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gZGlzcGF0Y2hYaHJSZXF1ZXN0KHJlc29sdmUsIHJlamVjdCkge1xuICAgIGxldCByZXF1ZXN0RGF0YSA9IGNvbmZpZy5kYXRhO1xuICAgIGNvbnN0IHJlcXVlc3RIZWFkZXJzID0gQXhpb3NIZWFkZXJzLmZyb20oY29uZmlnLmhlYWRlcnMpLm5vcm1hbGl6ZSgpO1xuICAgIGxldCB7cmVzcG9uc2VUeXBlLCB3aXRoWFNSRlRva2VufSA9IGNvbmZpZztcbiAgICBsZXQgb25DYW5jZWxlZDtcbiAgICBmdW5jdGlvbiBkb25lKCkge1xuICAgICAgaWYgKGNvbmZpZy5jYW5jZWxUb2tlbikge1xuICAgICAgICBjb25maWcuY2FuY2VsVG9rZW4udW5zdWJzY3JpYmUob25DYW5jZWxlZCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChjb25maWcuc2lnbmFsKSB7XG4gICAgICAgIGNvbmZpZy5zaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBvbkNhbmNlbGVkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgY29udGVudFR5cGU7XG5cbiAgICBpZiAodXRpbHMuaXNGb3JtRGF0YShyZXF1ZXN0RGF0YSkpIHtcbiAgICAgIGlmIChwbGF0Zm9ybS5oYXNTdGFuZGFyZEJyb3dzZXJFbnYgfHwgcGxhdGZvcm0uaGFzU3RhbmRhcmRCcm93c2VyV2ViV29ya2VyRW52KSB7XG4gICAgICAgIHJlcXVlc3RIZWFkZXJzLnNldENvbnRlbnRUeXBlKGZhbHNlKTsgLy8gTGV0IHRoZSBicm93c2VyIHNldCBpdFxuICAgICAgfSBlbHNlIGlmICgoY29udGVudFR5cGUgPSByZXF1ZXN0SGVhZGVycy5nZXRDb250ZW50VHlwZSgpKSAhPT0gZmFsc2UpIHtcbiAgICAgICAgLy8gZml4IHNlbWljb2xvbiBkdXBsaWNhdGlvbiBpc3N1ZSBmb3IgUmVhY3ROYXRpdmUgRm9ybURhdGEgaW1wbGVtZW50YXRpb25cbiAgICAgICAgY29uc3QgW3R5cGUsIC4uLnRva2Vuc10gPSBjb250ZW50VHlwZSA/IGNvbnRlbnRUeXBlLnNwbGl0KCc7JykubWFwKHRva2VuID0+IHRva2VuLnRyaW0oKSkuZmlsdGVyKEJvb2xlYW4pIDogW107XG4gICAgICAgIHJlcXVlc3RIZWFkZXJzLnNldENvbnRlbnRUeXBlKFt0eXBlIHx8ICdtdWx0aXBhcnQvZm9ybS1kYXRhJywgLi4udG9rZW5zXS5qb2luKCc7ICcpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgLy8gSFRUUCBiYXNpYyBhdXRoZW50aWNhdGlvblxuICAgIGlmIChjb25maWcuYXV0aCkge1xuICAgICAgY29uc3QgdXNlcm5hbWUgPSBjb25maWcuYXV0aC51c2VybmFtZSB8fCAnJztcbiAgICAgIGNvbnN0IHBhc3N3b3JkID0gY29uZmlnLmF1dGgucGFzc3dvcmQgPyB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoY29uZmlnLmF1dGgucGFzc3dvcmQpKSA6ICcnO1xuICAgICAgcmVxdWVzdEhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgJ0Jhc2ljICcgKyBidG9hKHVzZXJuYW1lICsgJzonICsgcGFzc3dvcmQpKTtcbiAgICB9XG5cbiAgICBjb25zdCBmdWxsUGF0aCA9IGJ1aWxkRnVsbFBhdGgoY29uZmlnLmJhc2VVUkwsIGNvbmZpZy51cmwpO1xuXG4gICAgcmVxdWVzdC5vcGVuKGNvbmZpZy5tZXRob2QudG9VcHBlckNhc2UoKSwgYnVpbGRVUkwoZnVsbFBhdGgsIGNvbmZpZy5wYXJhbXMsIGNvbmZpZy5wYXJhbXNTZXJpYWxpemVyKSwgdHJ1ZSk7XG5cbiAgICAvLyBTZXQgdGhlIHJlcXVlc3QgdGltZW91dCBpbiBNU1xuICAgIHJlcXVlc3QudGltZW91dCA9IGNvbmZpZy50aW1lb3V0O1xuXG4gICAgZnVuY3Rpb24gb25sb2FkZW5kKCkge1xuICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIFByZXBhcmUgdGhlIHJlc3BvbnNlXG4gICAgICBjb25zdCByZXNwb25zZUhlYWRlcnMgPSBBeGlvc0hlYWRlcnMuZnJvbShcbiAgICAgICAgJ2dldEFsbFJlc3BvbnNlSGVhZGVycycgaW4gcmVxdWVzdCAmJiByZXF1ZXN0LmdldEFsbFJlc3BvbnNlSGVhZGVycygpXG4gICAgICApO1xuICAgICAgY29uc3QgcmVzcG9uc2VEYXRhID0gIXJlc3BvbnNlVHlwZSB8fCByZXNwb25zZVR5cGUgPT09ICd0ZXh0JyB8fCByZXNwb25zZVR5cGUgPT09ICdqc29uJyA/XG4gICAgICAgIHJlcXVlc3QucmVzcG9uc2VUZXh0IDogcmVxdWVzdC5yZXNwb25zZTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICBkYXRhOiByZXNwb25zZURhdGEsXG4gICAgICAgIHN0YXR1czogcmVxdWVzdC5zdGF0dXMsXG4gICAgICAgIHN0YXR1c1RleHQ6IHJlcXVlc3Quc3RhdHVzVGV4dCxcbiAgICAgICAgaGVhZGVyczogcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICBjb25maWcsXG4gICAgICAgIHJlcXVlc3RcbiAgICAgIH07XG5cbiAgICAgIHNldHRsZShmdW5jdGlvbiBfcmVzb2x2ZSh2YWx1ZSkge1xuICAgICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfSwgZnVuY3Rpb24gX3JlamVjdChlcnIpIHtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH0sIHJlc3BvbnNlKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKCdvbmxvYWRlbmQnIGluIHJlcXVlc3QpIHtcbiAgICAgIC8vIFVzZSBvbmxvYWRlbmQgaWYgYXZhaWxhYmxlXG4gICAgICByZXF1ZXN0Lm9ubG9hZGVuZCA9IG9ubG9hZGVuZDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTGlzdGVuIGZvciByZWFkeSBzdGF0ZSB0byBlbXVsYXRlIG9ubG9hZGVuZFxuICAgICAgcmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiBoYW5kbGVMb2FkKCkge1xuICAgICAgICBpZiAoIXJlcXVlc3QgfHwgcmVxdWVzdC5yZWFkeVN0YXRlICE9PSA0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhlIHJlcXVlc3QgZXJyb3JlZCBvdXQgYW5kIHdlIGRpZG4ndCBnZXQgYSByZXNwb25zZSwgdGhpcyB3aWxsIGJlXG4gICAgICAgIC8vIGhhbmRsZWQgYnkgb25lcnJvciBpbnN0ZWFkXG4gICAgICAgIC8vIFdpdGggb25lIGV4Y2VwdGlvbjogcmVxdWVzdCB0aGF0IHVzaW5nIGZpbGU6IHByb3RvY29sLCBtb3N0IGJyb3dzZXJzXG4gICAgICAgIC8vIHdpbGwgcmV0dXJuIHN0YXR1cyBhcyAwIGV2ZW4gdGhvdWdoIGl0J3MgYSBzdWNjZXNzZnVsIHJlcXVlc3RcbiAgICAgICAgaWYgKHJlcXVlc3Quc3RhdHVzID09PSAwICYmICEocmVxdWVzdC5yZXNwb25zZVVSTCAmJiByZXF1ZXN0LnJlc3BvbnNlVVJMLmluZGV4T2YoJ2ZpbGU6JykgPT09IDApKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJlYWR5c3RhdGUgaGFuZGxlciBpcyBjYWxsaW5nIGJlZm9yZSBvbmVycm9yIG9yIG9udGltZW91dCBoYW5kbGVycyxcbiAgICAgICAgLy8gc28gd2Ugc2hvdWxkIGNhbGwgb25sb2FkZW5kIG9uIHRoZSBuZXh0ICd0aWNrJ1xuICAgICAgICBzZXRUaW1lb3V0KG9ubG9hZGVuZCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBicm93c2VyIHJlcXVlc3QgY2FuY2VsbGF0aW9uIChhcyBvcHBvc2VkIHRvIGEgbWFudWFsIGNhbmNlbGxhdGlvbilcbiAgICByZXF1ZXN0Lm9uYWJvcnQgPSBmdW5jdGlvbiBoYW5kbGVBYm9ydCgpIHtcbiAgICAgIGlmICghcmVxdWVzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJlamVjdChuZXcgQXhpb3NFcnJvcignUmVxdWVzdCBhYm9ydGVkJywgQXhpb3NFcnJvci5FQ09OTkFCT1JURUQsIGNvbmZpZywgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIGxvdyBsZXZlbCBuZXR3b3JrIGVycm9yc1xuICAgIHJlcXVlc3Qub25lcnJvciA9IGZ1bmN0aW9uIGhhbmRsZUVycm9yKCkge1xuICAgICAgLy8gUmVhbCBlcnJvcnMgYXJlIGhpZGRlbiBmcm9tIHVzIGJ5IHRoZSBicm93c2VyXG4gICAgICAvLyBvbmVycm9yIHNob3VsZCBvbmx5IGZpcmUgaWYgaXQncyBhIG5ldHdvcmsgZXJyb3JcbiAgICAgIHJlamVjdChuZXcgQXhpb3NFcnJvcignTmV0d29yayBFcnJvcicsIEF4aW9zRXJyb3IuRVJSX05FVFdPUkssIGNvbmZpZywgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIHRpbWVvdXRcbiAgICByZXF1ZXN0Lm9udGltZW91dCA9IGZ1bmN0aW9uIGhhbmRsZVRpbWVvdXQoKSB7XG4gICAgICBsZXQgdGltZW91dEVycm9yTWVzc2FnZSA9IGNvbmZpZy50aW1lb3V0ID8gJ3RpbWVvdXQgb2YgJyArIGNvbmZpZy50aW1lb3V0ICsgJ21zIGV4Y2VlZGVkJyA6ICd0aW1lb3V0IGV4Y2VlZGVkJztcbiAgICAgIGNvbnN0IHRyYW5zaXRpb25hbCA9IGNvbmZpZy50cmFuc2l0aW9uYWwgfHwgdHJhbnNpdGlvbmFsRGVmYXVsdHM7XG4gICAgICBpZiAoY29uZmlnLnRpbWVvdXRFcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgdGltZW91dEVycm9yTWVzc2FnZSA9IGNvbmZpZy50aW1lb3V0RXJyb3JNZXNzYWdlO1xuICAgICAgfVxuICAgICAgcmVqZWN0KG5ldyBBeGlvc0Vycm9yKFxuICAgICAgICB0aW1lb3V0RXJyb3JNZXNzYWdlLFxuICAgICAgICB0cmFuc2l0aW9uYWwuY2xhcmlmeVRpbWVvdXRFcnJvciA/IEF4aW9zRXJyb3IuRVRJTUVET1VUIDogQXhpb3NFcnJvci5FQ09OTkFCT1JURUQsXG4gICAgICAgIGNvbmZpZyxcbiAgICAgICAgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gQWRkIHhzcmYgaGVhZGVyXG4gICAgLy8gVGhpcyBpcyBvbmx5IGRvbmUgaWYgcnVubmluZyBpbiBhIHN0YW5kYXJkIGJyb3dzZXIgZW52aXJvbm1lbnQuXG4gICAgLy8gU3BlY2lmaWNhbGx5IG5vdCBpZiB3ZSdyZSBpbiBhIHdlYiB3b3JrZXIsIG9yIHJlYWN0LW5hdGl2ZS5cbiAgICBpZihwbGF0Zm9ybS5oYXNTdGFuZGFyZEJyb3dzZXJFbnYpIHtcbiAgICAgIHdpdGhYU1JGVG9rZW4gJiYgdXRpbHMuaXNGdW5jdGlvbih3aXRoWFNSRlRva2VuKSAmJiAod2l0aFhTUkZUb2tlbiA9IHdpdGhYU1JGVG9rZW4oY29uZmlnKSk7XG5cbiAgICAgIGlmICh3aXRoWFNSRlRva2VuIHx8ICh3aXRoWFNSRlRva2VuICE9PSBmYWxzZSAmJiBpc1VSTFNhbWVPcmlnaW4oZnVsbFBhdGgpKSkge1xuICAgICAgICAvLyBBZGQgeHNyZiBoZWFkZXJcbiAgICAgICAgY29uc3QgeHNyZlZhbHVlID0gY29uZmlnLnhzcmZIZWFkZXJOYW1lICYmIGNvbmZpZy54c3JmQ29va2llTmFtZSAmJiBjb29raWVzLnJlYWQoY29uZmlnLnhzcmZDb29raWVOYW1lKTtcblxuICAgICAgICBpZiAoeHNyZlZhbHVlKSB7XG4gICAgICAgICAgcmVxdWVzdEhlYWRlcnMuc2V0KGNvbmZpZy54c3JmSGVhZGVyTmFtZSwgeHNyZlZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJlbW92ZSBDb250ZW50LVR5cGUgaWYgZGF0YSBpcyB1bmRlZmluZWRcbiAgICByZXF1ZXN0RGF0YSA9PT0gdW5kZWZpbmVkICYmIHJlcXVlc3RIZWFkZXJzLnNldENvbnRlbnRUeXBlKG51bGwpO1xuXG4gICAgLy8gQWRkIGhlYWRlcnMgdG8gdGhlIHJlcXVlc3RcbiAgICBpZiAoJ3NldFJlcXVlc3RIZWFkZXInIGluIHJlcXVlc3QpIHtcbiAgICAgIHV0aWxzLmZvckVhY2gocmVxdWVzdEhlYWRlcnMudG9KU09OKCksIGZ1bmN0aW9uIHNldFJlcXVlc3RIZWFkZXIodmFsLCBrZXkpIHtcbiAgICAgICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKGtleSwgdmFsKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEFkZCB3aXRoQ3JlZGVudGlhbHMgdG8gcmVxdWVzdCBpZiBuZWVkZWRcbiAgICBpZiAoIXV0aWxzLmlzVW5kZWZpbmVkKGNvbmZpZy53aXRoQ3JlZGVudGlhbHMpKSB7XG4gICAgICByZXF1ZXN0LndpdGhDcmVkZW50aWFscyA9ICEhY29uZmlnLndpdGhDcmVkZW50aWFscztcbiAgICB9XG5cbiAgICAvLyBBZGQgcmVzcG9uc2VUeXBlIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gICAgaWYgKHJlc3BvbnNlVHlwZSAmJiByZXNwb25zZVR5cGUgIT09ICdqc29uJykge1xuICAgICAgcmVxdWVzdC5yZXNwb25zZVR5cGUgPSBjb25maWcucmVzcG9uc2VUeXBlO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBwcm9ncmVzcyBpZiBuZWVkZWRcbiAgICBpZiAodHlwZW9mIGNvbmZpZy5vbkRvd25sb2FkUHJvZ3Jlc3MgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCBwcm9ncmVzc0V2ZW50UmVkdWNlcihjb25maWcub25Eb3dubG9hZFByb2dyZXNzLCB0cnVlKSk7XG4gICAgfVxuXG4gICAgLy8gTm90IGFsbCBicm93c2VycyBzdXBwb3J0IHVwbG9hZCBldmVudHNcbiAgICBpZiAodHlwZW9mIGNvbmZpZy5vblVwbG9hZFByb2dyZXNzID09PSAnZnVuY3Rpb24nICYmIHJlcXVlc3QudXBsb2FkKSB7XG4gICAgICByZXF1ZXN0LnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHByb2dyZXNzRXZlbnRSZWR1Y2VyKGNvbmZpZy5vblVwbG9hZFByb2dyZXNzKSk7XG4gICAgfVxuXG4gICAgaWYgKGNvbmZpZy5jYW5jZWxUb2tlbiB8fCBjb25maWcuc2lnbmFsKSB7XG4gICAgICAvLyBIYW5kbGUgY2FuY2VsbGF0aW9uXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICAgICAgb25DYW5jZWxlZCA9IGNhbmNlbCA9PiB7XG4gICAgICAgIGlmICghcmVxdWVzdCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZWplY3QoIWNhbmNlbCB8fCBjYW5jZWwudHlwZSA/IG5ldyBDYW5jZWxlZEVycm9yKG51bGwsIGNvbmZpZywgcmVxdWVzdCkgOiBjYW5jZWwpO1xuICAgICAgICByZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgICAgfTtcblxuICAgICAgY29uZmlnLmNhbmNlbFRva2VuICYmIGNvbmZpZy5jYW5jZWxUb2tlbi5zdWJzY3JpYmUob25DYW5jZWxlZCk7XG4gICAgICBpZiAoY29uZmlnLnNpZ25hbCkge1xuICAgICAgICBjb25maWcuc2lnbmFsLmFib3J0ZWQgPyBvbkNhbmNlbGVkKCkgOiBjb25maWcuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0Jywgb25DYW5jZWxlZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgcHJvdG9jb2wgPSBwYXJzZVByb3RvY29sKGZ1bGxQYXRoKTtcblxuICAgIGlmIChwcm90b2NvbCAmJiBwbGF0Zm9ybS5wcm90b2NvbHMuaW5kZXhPZihwcm90b2NvbCkgPT09IC0xKSB7XG4gICAgICByZWplY3QobmV3IEF4aW9zRXJyb3IoJ1Vuc3VwcG9ydGVkIHByb3RvY29sICcgKyBwcm90b2NvbCArICc6JywgQXhpb3NFcnJvci5FUlJfQkFEX1JFUVVFU1QsIGNvbmZpZykpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuXG4gICAgLy8gU2VuZCB0aGUgcmVxdWVzdFxuICAgIHJlcXVlc3Quc2VuZChyZXF1ZXN0RGF0YSB8fCBudWxsKTtcbiAgfSk7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ2FsY3VsYXRlIGRhdGEgbWF4UmF0ZVxuICogQHBhcmFtIHtOdW1iZXJ9IFtzYW1wbGVzQ291bnQ9IDEwXVxuICogQHBhcmFtIHtOdW1iZXJ9IFttaW49IDEwMDBdXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIHNwZWVkb21ldGVyKHNhbXBsZXNDb3VudCwgbWluKSB7XG4gIHNhbXBsZXNDb3VudCA9IHNhbXBsZXNDb3VudCB8fCAxMDtcbiAgY29uc3QgYnl0ZXMgPSBuZXcgQXJyYXkoc2FtcGxlc0NvdW50KTtcbiAgY29uc3QgdGltZXN0YW1wcyA9IG5ldyBBcnJheShzYW1wbGVzQ291bnQpO1xuICBsZXQgaGVhZCA9IDA7XG4gIGxldCB0YWlsID0gMDtcbiAgbGV0IGZpcnN0U2FtcGxlVFM7XG5cbiAgbWluID0gbWluICE9PSB1bmRlZmluZWQgPyBtaW4gOiAxMDAwO1xuXG4gIHJldHVybiBmdW5jdGlvbiBwdXNoKGNodW5rTGVuZ3RoKSB7XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcblxuICAgIGNvbnN0IHN0YXJ0ZWRBdCA9IHRpbWVzdGFtcHNbdGFpbF07XG5cbiAgICBpZiAoIWZpcnN0U2FtcGxlVFMpIHtcbiAgICAgIGZpcnN0U2FtcGxlVFMgPSBub3c7XG4gICAgfVxuXG4gICAgYnl0ZXNbaGVhZF0gPSBjaHVua0xlbmd0aDtcbiAgICB0aW1lc3RhbXBzW2hlYWRdID0gbm93O1xuXG4gICAgbGV0IGkgPSB0YWlsO1xuICAgIGxldCBieXRlc0NvdW50ID0gMDtcblxuICAgIHdoaWxlIChpICE9PSBoZWFkKSB7XG4gICAgICBieXRlc0NvdW50ICs9IGJ5dGVzW2krK107XG4gICAgICBpID0gaSAlIHNhbXBsZXNDb3VudDtcbiAgICB9XG5cbiAgICBoZWFkID0gKGhlYWQgKyAxKSAlIHNhbXBsZXNDb3VudDtcblxuICAgIGlmIChoZWFkID09PSB0YWlsKSB7XG4gICAgICB0YWlsID0gKHRhaWwgKyAxKSAlIHNhbXBsZXNDb3VudDtcbiAgICB9XG5cbiAgICBpZiAobm93IC0gZmlyc3RTYW1wbGVUUyA8IG1pbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHBhc3NlZCA9IHN0YXJ0ZWRBdCAmJiBub3cgLSBzdGFydGVkQXQ7XG5cbiAgICByZXR1cm4gcGFzc2VkID8gTWF0aC5yb3VuZChieXRlc0NvdW50ICogMTAwMCAvIHBhc3NlZCkgOiB1bmRlZmluZWQ7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IHNwZWVkb21ldGVyO1xuIiwiaW1wb3J0IHV0aWxzIGZyb20gJy4uL3V0aWxzLmpzJztcbmltcG9ydCBodHRwQWRhcHRlciBmcm9tICcuL2h0dHAuanMnO1xuaW1wb3J0IHhockFkYXB0ZXIgZnJvbSAnLi94aHIuanMnO1xuaW1wb3J0IEF4aW9zRXJyb3IgZnJvbSBcIi4uL2NvcmUvQXhpb3NFcnJvci5qc1wiO1xuXG5jb25zdCBrbm93bkFkYXB0ZXJzID0ge1xuICBodHRwOiBodHRwQWRhcHRlcixcbiAgeGhyOiB4aHJBZGFwdGVyXG59XG5cbnV0aWxzLmZvckVhY2goa25vd25BZGFwdGVycywgKGZuLCB2YWx1ZSkgPT4ge1xuICBpZiAoZm4pIHtcbiAgICB0cnkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCAnbmFtZScsIHt2YWx1ZX0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lbXB0eVxuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sICdhZGFwdGVyTmFtZScsIHt2YWx1ZX0pO1xuICB9XG59KTtcblxuY29uc3QgcmVuZGVyUmVhc29uID0gKHJlYXNvbikgPT4gYC0gJHtyZWFzb259YDtcblxuY29uc3QgaXNSZXNvbHZlZEhhbmRsZSA9IChhZGFwdGVyKSA9PiB1dGlscy5pc0Z1bmN0aW9uKGFkYXB0ZXIpIHx8IGFkYXB0ZXIgPT09IG51bGwgfHwgYWRhcHRlciA9PT0gZmFsc2U7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgZ2V0QWRhcHRlcjogKGFkYXB0ZXJzKSA9PiB7XG4gICAgYWRhcHRlcnMgPSB1dGlscy5pc0FycmF5KGFkYXB0ZXJzKSA/IGFkYXB0ZXJzIDogW2FkYXB0ZXJzXTtcblxuICAgIGNvbnN0IHtsZW5ndGh9ID0gYWRhcHRlcnM7XG4gICAgbGV0IG5hbWVPckFkYXB0ZXI7XG4gICAgbGV0IGFkYXB0ZXI7XG5cbiAgICBjb25zdCByZWplY3RlZFJlYXNvbnMgPSB7fTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIG5hbWVPckFkYXB0ZXIgPSBhZGFwdGVyc1tpXTtcbiAgICAgIGxldCBpZDtcblxuICAgICAgYWRhcHRlciA9IG5hbWVPckFkYXB0ZXI7XG5cbiAgICAgIGlmICghaXNSZXNvbHZlZEhhbmRsZShuYW1lT3JBZGFwdGVyKSkge1xuICAgICAgICBhZGFwdGVyID0ga25vd25BZGFwdGVyc1soaWQgPSBTdHJpbmcobmFtZU9yQWRhcHRlcikpLnRvTG93ZXJDYXNlKCldO1xuXG4gICAgICAgIGlmIChhZGFwdGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgQXhpb3NFcnJvcihgVW5rbm93biBhZGFwdGVyICcke2lkfSdgKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoYWRhcHRlcikge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgcmVqZWN0ZWRSZWFzb25zW2lkIHx8ICcjJyArIGldID0gYWRhcHRlcjtcbiAgICB9XG5cbiAgICBpZiAoIWFkYXB0ZXIpIHtcblxuICAgICAgY29uc3QgcmVhc29ucyA9IE9iamVjdC5lbnRyaWVzKHJlamVjdGVkUmVhc29ucylcbiAgICAgICAgLm1hcCgoW2lkLCBzdGF0ZV0pID0+IGBhZGFwdGVyICR7aWR9IGAgK1xuICAgICAgICAgIChzdGF0ZSA9PT0gZmFsc2UgPyAnaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgZW52aXJvbm1lbnQnIDogJ2lzIG5vdCBhdmFpbGFibGUgaW4gdGhlIGJ1aWxkJylcbiAgICAgICAgKTtcblxuICAgICAgbGV0IHMgPSBsZW5ndGggP1xuICAgICAgICAocmVhc29ucy5sZW5ndGggPiAxID8gJ3NpbmNlIDpcXG4nICsgcmVhc29ucy5tYXAocmVuZGVyUmVhc29uKS5qb2luKCdcXG4nKSA6ICcgJyArIHJlbmRlclJlYXNvbihyZWFzb25zWzBdKSkgOlxuICAgICAgICAnYXMgbm8gYWRhcHRlciBzcGVjaWZpZWQnO1xuXG4gICAgICB0aHJvdyBuZXcgQXhpb3NFcnJvcihcbiAgICAgICAgYFRoZXJlIGlzIG5vIHN1aXRhYmxlIGFkYXB0ZXIgdG8gZGlzcGF0Y2ggdGhlIHJlcXVlc3QgYCArIHMsXG4gICAgICAgICdFUlJfTk9UX1NVUFBPUlQnXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBhZGFwdGVyO1xuICB9LFxuICBhZGFwdGVyczoga25vd25BZGFwdGVyc1xufVxuIiwiLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHN0cmljdFxuZXhwb3J0IGRlZmF1bHQgbnVsbDtcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IEF4aW9zRXJyb3IgZnJvbSAnLi9BeGlvc0Vycm9yLmpzJztcblxuLyoqXG4gKiBSZXNvbHZlIG9yIHJlamVjdCBhIFByb21pc2UgYmFzZWQgb24gcmVzcG9uc2Ugc3RhdHVzLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlc29sdmUgQSBmdW5jdGlvbiB0aGF0IHJlc29sdmVzIHRoZSBwcm9taXNlLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVqZWN0IEEgZnVuY3Rpb24gdGhhdCByZWplY3RzIHRoZSBwcm9taXNlLlxuICogQHBhcmFtIHtvYmplY3R9IHJlc3BvbnNlIFRoZSByZXNwb25zZS5cbiAqXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBUaGUgcmVzcG9uc2UuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHJlc3BvbnNlKSB7XG4gIGNvbnN0IHZhbGlkYXRlU3RhdHVzID0gcmVzcG9uc2UuY29uZmlnLnZhbGlkYXRlU3RhdHVzO1xuICBpZiAoIXJlc3BvbnNlLnN0YXR1cyB8fCAhdmFsaWRhdGVTdGF0dXMgfHwgdmFsaWRhdGVTdGF0dXMocmVzcG9uc2Uuc3RhdHVzKSkge1xuICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICB9IGVsc2Uge1xuICAgIHJlamVjdChuZXcgQXhpb3NFcnJvcihcbiAgICAgICdSZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlICcgKyByZXNwb25zZS5zdGF0dXMsXG4gICAgICBbQXhpb3NFcnJvci5FUlJfQkFEX1JFUVVFU1QsIEF4aW9zRXJyb3IuRVJSX0JBRF9SRVNQT05TRV1bTWF0aC5mbG9vcihyZXNwb25zZS5zdGF0dXMgLyAxMDApIC0gNF0sXG4gICAgICByZXNwb25zZS5jb25maWcsXG4gICAgICByZXNwb25zZS5yZXF1ZXN0LFxuICAgICAgcmVzcG9uc2VcbiAgICApKTtcbiAgfVxufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwYXJzZVByb3RvY29sKHVybCkge1xuICBjb25zdCBtYXRjaCA9IC9eKFstK1xcd117MSwyNX0pKDo/XFwvXFwvfDopLy5leGVjKHVybCk7XG4gIHJldHVybiBtYXRjaCAmJiBtYXRjaFsxXSB8fCAnJztcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHRyYW5zZm9ybURhdGEgZnJvbSAnLi90cmFuc2Zvcm1EYXRhLmpzJztcbmltcG9ydCBpc0NhbmNlbCBmcm9tICcuLi9jYW5jZWwvaXNDYW5jZWwuanMnO1xuaW1wb3J0IGRlZmF1bHRzIGZyb20gJy4uL2RlZmF1bHRzL2luZGV4LmpzJztcbmltcG9ydCBDYW5jZWxlZEVycm9yIGZyb20gJy4uL2NhbmNlbC9DYW5jZWxlZEVycm9yLmpzJztcbmltcG9ydCBBeGlvc0hlYWRlcnMgZnJvbSAnLi4vY29yZS9BeGlvc0hlYWRlcnMuanMnO1xuaW1wb3J0IGFkYXB0ZXJzIGZyb20gXCIuLi9hZGFwdGVycy9hZGFwdGVycy5qc1wiO1xuXG4vKipcbiAqIFRocm93cyBhIGBDYW5jZWxlZEVycm9yYCBpZiBjYW5jZWxsYXRpb24gaGFzIGJlZW4gcmVxdWVzdGVkLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZyB0aGF0IGlzIHRvIGJlIHVzZWQgZm9yIHRoZSByZXF1ZXN0XG4gKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKSB7XG4gIGlmIChjb25maWcuY2FuY2VsVG9rZW4pIHtcbiAgICBjb25maWcuY2FuY2VsVG9rZW4udGhyb3dJZlJlcXVlc3RlZCgpO1xuICB9XG5cbiAgaWYgKGNvbmZpZy5zaWduYWwgJiYgY29uZmlnLnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgdGhyb3cgbmV3IENhbmNlbGVkRXJyb3IobnVsbCwgY29uZmlnKTtcbiAgfVxufVxuXG4vKipcbiAqIERpc3BhdGNoIGEgcmVxdWVzdCB0byB0aGUgc2VydmVyIHVzaW5nIHRoZSBjb25maWd1cmVkIGFkYXB0ZXIuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnIHRoYXQgaXMgdG8gYmUgdXNlZCBmb3IgdGhlIHJlcXVlc3RcbiAqXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gVGhlIFByb21pc2UgdG8gYmUgZnVsZmlsbGVkXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRpc3BhdGNoUmVxdWVzdChjb25maWcpIHtcbiAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gIGNvbmZpZy5oZWFkZXJzID0gQXhpb3NIZWFkZXJzLmZyb20oY29uZmlnLmhlYWRlcnMpO1xuXG4gIC8vIFRyYW5zZm9ybSByZXF1ZXN0IGRhdGFcbiAgY29uZmlnLmRhdGEgPSB0cmFuc2Zvcm1EYXRhLmNhbGwoXG4gICAgY29uZmlnLFxuICAgIGNvbmZpZy50cmFuc2Zvcm1SZXF1ZXN0XG4gICk7XG5cbiAgaWYgKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXS5pbmRleE9mKGNvbmZpZy5tZXRob2QpICE9PSAtMSkge1xuICAgIGNvbmZpZy5oZWFkZXJzLnNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLCBmYWxzZSk7XG4gIH1cblxuICBjb25zdCBhZGFwdGVyID0gYWRhcHRlcnMuZ2V0QWRhcHRlcihjb25maWcuYWRhcHRlciB8fCBkZWZhdWx0cy5hZGFwdGVyKTtcblxuICByZXR1cm4gYWRhcHRlcihjb25maWcpLnRoZW4oZnVuY3Rpb24gb25BZGFwdGVyUmVzb2x1dGlvbihyZXNwb25zZSkge1xuICAgIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICAgIC8vIFRyYW5zZm9ybSByZXNwb25zZSBkYXRhXG4gICAgcmVzcG9uc2UuZGF0YSA9IHRyYW5zZm9ybURhdGEuY2FsbChcbiAgICAgIGNvbmZpZyxcbiAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZSxcbiAgICAgIHJlc3BvbnNlXG4gICAgKTtcblxuICAgIHJlc3BvbnNlLmhlYWRlcnMgPSBBeGlvc0hlYWRlcnMuZnJvbShyZXNwb25zZS5oZWFkZXJzKTtcblxuICAgIHJldHVybiByZXNwb25zZTtcbiAgfSwgZnVuY3Rpb24gb25BZGFwdGVyUmVqZWN0aW9uKHJlYXNvbikge1xuICAgIGlmICghaXNDYW5jZWwocmVhc29uKSkge1xuICAgICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gICAgICAvLyBUcmFuc2Zvcm0gcmVzcG9uc2UgZGF0YVxuICAgICAgaWYgKHJlYXNvbiAmJiByZWFzb24ucmVzcG9uc2UpIHtcbiAgICAgICAgcmVhc29uLnJlc3BvbnNlLmRhdGEgPSB0cmFuc2Zvcm1EYXRhLmNhbGwoXG4gICAgICAgICAgY29uZmlnLFxuICAgICAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZSxcbiAgICAgICAgICByZWFzb24ucmVzcG9uc2VcbiAgICAgICAgKTtcbiAgICAgICAgcmVhc29uLnJlc3BvbnNlLmhlYWRlcnMgPSBBeGlvc0hlYWRlcnMuZnJvbShyZWFzb24ucmVzcG9uc2UuaGVhZGVycyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlYXNvbik7XG4gIH0pO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuaW1wb3J0IEF4aW9zSGVhZGVycyBmcm9tIFwiLi9BeGlvc0hlYWRlcnMuanNcIjtcblxuY29uc3QgaGVhZGVyc1RvT2JqZWN0ID0gKHRoaW5nKSA9PiB0aGluZyBpbnN0YW5jZW9mIEF4aW9zSGVhZGVycyA/IHRoaW5nLnRvSlNPTigpIDogdGhpbmc7XG5cbi8qKlxuICogQ29uZmlnLXNwZWNpZmljIG1lcmdlLWZ1bmN0aW9uIHdoaWNoIGNyZWF0ZXMgYSBuZXcgY29uZmlnLW9iamVjdFxuICogYnkgbWVyZ2luZyB0d28gY29uZmlndXJhdGlvbiBvYmplY3RzIHRvZ2V0aGVyLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcxXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnMlxuICpcbiAqIEByZXR1cm5zIHtPYmplY3R9IE5ldyBvYmplY3QgcmVzdWx0aW5nIGZyb20gbWVyZ2luZyBjb25maWcyIHRvIGNvbmZpZzFcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWVyZ2VDb25maWcoY29uZmlnMSwgY29uZmlnMikge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgY29uZmlnMiA9IGNvbmZpZzIgfHwge307XG4gIGNvbnN0IGNvbmZpZyA9IHt9O1xuXG4gIGZ1bmN0aW9uIGdldE1lcmdlZFZhbHVlKHRhcmdldCwgc291cmNlLCBjYXNlbGVzcykge1xuICAgIGlmICh1dGlscy5pc1BsYWluT2JqZWN0KHRhcmdldCkgJiYgdXRpbHMuaXNQbGFpbk9iamVjdChzb3VyY2UpKSB7XG4gICAgICByZXR1cm4gdXRpbHMubWVyZ2UuY2FsbCh7Y2FzZWxlc3N9LCB0YXJnZXQsIHNvdXJjZSk7XG4gICAgfSBlbHNlIGlmICh1dGlscy5pc1BsYWluT2JqZWN0KHNvdXJjZSkpIHtcbiAgICAgIHJldHVybiB1dGlscy5tZXJnZSh7fSwgc291cmNlKTtcbiAgICB9IGVsc2UgaWYgKHV0aWxzLmlzQXJyYXkoc291cmNlKSkge1xuICAgICAgcmV0dXJuIHNvdXJjZS5zbGljZSgpO1xuICAgIH1cbiAgICByZXR1cm4gc291cmNlO1xuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gIGZ1bmN0aW9uIG1lcmdlRGVlcFByb3BlcnRpZXMoYSwgYiwgY2FzZWxlc3MpIHtcbiAgICBpZiAoIXV0aWxzLmlzVW5kZWZpbmVkKGIpKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUoYSwgYiwgY2FzZWxlc3MpO1xuICAgIH0gZWxzZSBpZiAoIXV0aWxzLmlzVW5kZWZpbmVkKGEpKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUodW5kZWZpbmVkLCBhLCBjYXNlbGVzcyk7XG4gICAgfVxuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gIGZ1bmN0aW9uIHZhbHVlRnJvbUNvbmZpZzIoYSwgYikge1xuICAgIGlmICghdXRpbHMuaXNVbmRlZmluZWQoYikpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZSh1bmRlZmluZWQsIGIpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXJldHVyblxuICBmdW5jdGlvbiBkZWZhdWx0VG9Db25maWcyKGEsIGIpIHtcbiAgICBpZiAoIXV0aWxzLmlzVW5kZWZpbmVkKGIpKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUodW5kZWZpbmVkLCBiKTtcbiAgICB9IGVsc2UgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChhKSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKHVuZGVmaW5lZCwgYSk7XG4gICAgfVxuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gIGZ1bmN0aW9uIG1lcmdlRGlyZWN0S2V5cyhhLCBiLCBwcm9wKSB7XG4gICAgaWYgKHByb3AgaW4gY29uZmlnMikge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKGEsIGIpO1xuICAgIH0gZWxzZSBpZiAocHJvcCBpbiBjb25maWcxKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUodW5kZWZpbmVkLCBhKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBtZXJnZU1hcCA9IHtcbiAgICB1cmw6IHZhbHVlRnJvbUNvbmZpZzIsXG4gICAgbWV0aG9kOiB2YWx1ZUZyb21Db25maWcyLFxuICAgIGRhdGE6IHZhbHVlRnJvbUNvbmZpZzIsXG4gICAgYmFzZVVSTDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHRyYW5zZm9ybVJlc3BvbnNlOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHBhcmFtc1NlcmlhbGl6ZXI6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgdGltZW91dDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB0aW1lb3V0TWVzc2FnZTogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB3aXRoQ3JlZGVudGlhbHM6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgd2l0aFhTUkZUb2tlbjogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBhZGFwdGVyOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHJlc3BvbnNlVHlwZTogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB4c3JmQ29va2llTmFtZTogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB4c3JmSGVhZGVyTmFtZTogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBvblVwbG9hZFByb2dyZXNzOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIG9uRG93bmxvYWRQcm9ncmVzczogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBkZWNvbXByZXNzOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIG1heENvbnRlbnRMZW5ndGg6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgbWF4Qm9keUxlbmd0aDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBiZWZvcmVSZWRpcmVjdDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB0cmFuc3BvcnQ6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgaHR0cEFnZW50OiBkZWZhdWx0VG9Db25maWcyLFxuICAgIGh0dHBzQWdlbnQ6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgY2FuY2VsVG9rZW46IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgc29ja2V0UGF0aDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICByZXNwb25zZUVuY29kaW5nOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHZhbGlkYXRlU3RhdHVzOiBtZXJnZURpcmVjdEtleXMsXG4gICAgaGVhZGVyczogKGEsIGIpID0+IG1lcmdlRGVlcFByb3BlcnRpZXMoaGVhZGVyc1RvT2JqZWN0KGEpLCBoZWFkZXJzVG9PYmplY3QoYiksIHRydWUpXG4gIH07XG5cbiAgdXRpbHMuZm9yRWFjaChPYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LCBjb25maWcxLCBjb25maWcyKSksIGZ1bmN0aW9uIGNvbXB1dGVDb25maWdWYWx1ZShwcm9wKSB7XG4gICAgY29uc3QgbWVyZ2UgPSBtZXJnZU1hcFtwcm9wXSB8fCBtZXJnZURlZXBQcm9wZXJ0aWVzO1xuICAgIGNvbnN0IGNvbmZpZ1ZhbHVlID0gbWVyZ2UoY29uZmlnMVtwcm9wXSwgY29uZmlnMltwcm9wXSwgcHJvcCk7XG4gICAgKHV0aWxzLmlzVW5kZWZpbmVkKGNvbmZpZ1ZhbHVlKSAmJiBtZXJnZSAhPT0gbWVyZ2VEaXJlY3RLZXlzKSB8fCAoY29uZmlnW3Byb3BdID0gY29uZmlnVmFsdWUpO1xuICB9KTtcblxuICByZXR1cm4gY29uZmlnO1xufVxuIiwiZXhwb3J0IGNvbnN0IFZFUlNJT04gPSBcIjEuNi4yXCI7IiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQge1ZFUlNJT059IGZyb20gJy4uL2Vudi9kYXRhLmpzJztcbmltcG9ydCBBeGlvc0Vycm9yIGZyb20gJy4uL2NvcmUvQXhpb3NFcnJvci5qcyc7XG5cbmNvbnN0IHZhbGlkYXRvcnMgPSB7fTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcblsnb2JqZWN0JywgJ2Jvb2xlYW4nLCAnbnVtYmVyJywgJ2Z1bmN0aW9uJywgJ3N0cmluZycsICdzeW1ib2wnXS5mb3JFYWNoKCh0eXBlLCBpKSA9PiB7XG4gIHZhbGlkYXRvcnNbdHlwZV0gPSBmdW5jdGlvbiB2YWxpZGF0b3IodGhpbmcpIHtcbiAgICByZXR1cm4gdHlwZW9mIHRoaW5nID09PSB0eXBlIHx8ICdhJyArIChpIDwgMSA/ICduICcgOiAnICcpICsgdHlwZTtcbiAgfTtcbn0pO1xuXG5jb25zdCBkZXByZWNhdGVkV2FybmluZ3MgPSB7fTtcblxuLyoqXG4gKiBUcmFuc2l0aW9uYWwgb3B0aW9uIHZhbGlkYXRvclxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb258Ym9vbGVhbj99IHZhbGlkYXRvciAtIHNldCB0byBmYWxzZSBpZiB0aGUgdHJhbnNpdGlvbmFsIG9wdGlvbiBoYXMgYmVlbiByZW1vdmVkXG4gKiBAcGFyYW0ge3N0cmluZz99IHZlcnNpb24gLSBkZXByZWNhdGVkIHZlcnNpb24gLyByZW1vdmVkIHNpbmNlIHZlcnNpb25cbiAqIEBwYXJhbSB7c3RyaW5nP30gbWVzc2FnZSAtIHNvbWUgbWVzc2FnZSB3aXRoIGFkZGl0aW9uYWwgaW5mb1xuICpcbiAqIEByZXR1cm5zIHtmdW5jdGlvbn1cbiAqL1xudmFsaWRhdG9ycy50cmFuc2l0aW9uYWwgPSBmdW5jdGlvbiB0cmFuc2l0aW9uYWwodmFsaWRhdG9yLCB2ZXJzaW9uLCBtZXNzYWdlKSB7XG4gIGZ1bmN0aW9uIGZvcm1hdE1lc3NhZ2Uob3B0LCBkZXNjKSB7XG4gICAgcmV0dXJuICdbQXhpb3MgdicgKyBWRVJTSU9OICsgJ10gVHJhbnNpdGlvbmFsIG9wdGlvbiBcXCcnICsgb3B0ICsgJ1xcJycgKyBkZXNjICsgKG1lc3NhZ2UgPyAnLiAnICsgbWVzc2FnZSA6ICcnKTtcbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gIHJldHVybiAodmFsdWUsIG9wdCwgb3B0cykgPT4ge1xuICAgIGlmICh2YWxpZGF0b3IgPT09IGZhbHNlKSB7XG4gICAgICB0aHJvdyBuZXcgQXhpb3NFcnJvcihcbiAgICAgICAgZm9ybWF0TWVzc2FnZShvcHQsICcgaGFzIGJlZW4gcmVtb3ZlZCcgKyAodmVyc2lvbiA/ICcgaW4gJyArIHZlcnNpb24gOiAnJykpLFxuICAgICAgICBBeGlvc0Vycm9yLkVSUl9ERVBSRUNBVEVEXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICh2ZXJzaW9uICYmICFkZXByZWNhdGVkV2FybmluZ3Nbb3B0XSkge1xuICAgICAgZGVwcmVjYXRlZFdhcm5pbmdzW29wdF0gPSB0cnVlO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgZm9ybWF0TWVzc2FnZShcbiAgICAgICAgICBvcHQsXG4gICAgICAgICAgJyBoYXMgYmVlbiBkZXByZWNhdGVkIHNpbmNlIHYnICsgdmVyc2lvbiArICcgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmVhciBmdXR1cmUnXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbGlkYXRvciA/IHZhbGlkYXRvcih2YWx1ZSwgb3B0LCBvcHRzKSA6IHRydWU7XG4gIH07XG59O1xuXG4vKipcbiAqIEFzc2VydCBvYmplY3QncyBwcm9wZXJ0aWVzIHR5cGVcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuICogQHBhcmFtIHtvYmplY3R9IHNjaGVtYVxuICogQHBhcmFtIHtib29sZWFuP30gYWxsb3dVbmtub3duXG4gKlxuICogQHJldHVybnMge29iamVjdH1cbiAqL1xuXG5mdW5jdGlvbiBhc3NlcnRPcHRpb25zKG9wdGlvbnMsIHNjaGVtYSwgYWxsb3dVbmtub3duKSB7XG4gIGlmICh0eXBlb2Ygb3B0aW9ucyAhPT0gJ29iamVjdCcpIHtcbiAgICB0aHJvdyBuZXcgQXhpb3NFcnJvcignb3B0aW9ucyBtdXN0IGJlIGFuIG9iamVjdCcsIEF4aW9zRXJyb3IuRVJSX0JBRF9PUFRJT05fVkFMVUUpO1xuICB9XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvcHRpb25zKTtcbiAgbGV0IGkgPSBrZXlzLmxlbmd0aDtcbiAgd2hpbGUgKGktLSA+IDApIHtcbiAgICBjb25zdCBvcHQgPSBrZXlzW2ldO1xuICAgIGNvbnN0IHZhbGlkYXRvciA9IHNjaGVtYVtvcHRdO1xuICAgIGlmICh2YWxpZGF0b3IpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gb3B0aW9uc1tvcHRdO1xuICAgICAgY29uc3QgcmVzdWx0ID0gdmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWxpZGF0b3IodmFsdWUsIG9wdCwgb3B0aW9ucyk7XG4gICAgICBpZiAocmVzdWx0ICE9PSB0cnVlKSB7XG4gICAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKCdvcHRpb24gJyArIG9wdCArICcgbXVzdCBiZSAnICsgcmVzdWx0LCBBeGlvc0Vycm9yLkVSUl9CQURfT1BUSU9OX1ZBTFVFKTtcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoYWxsb3dVbmtub3duICE9PSB0cnVlKSB7XG4gICAgICB0aHJvdyBuZXcgQXhpb3NFcnJvcignVW5rbm93biBvcHRpb24gJyArIG9wdCwgQXhpb3NFcnJvci5FUlJfQkFEX09QVElPTik7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgYXNzZXJ0T3B0aW9ucyxcbiAgdmFsaWRhdG9yc1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4vLi4vdXRpbHMuanMnO1xuaW1wb3J0IGJ1aWxkVVJMIGZyb20gJy4uL2hlbHBlcnMvYnVpbGRVUkwuanMnO1xuaW1wb3J0IEludGVyY2VwdG9yTWFuYWdlciBmcm9tICcuL0ludGVyY2VwdG9yTWFuYWdlci5qcyc7XG5pbXBvcnQgZGlzcGF0Y2hSZXF1ZXN0IGZyb20gJy4vZGlzcGF0Y2hSZXF1ZXN0LmpzJztcbmltcG9ydCBtZXJnZUNvbmZpZyBmcm9tICcuL21lcmdlQ29uZmlnLmpzJztcbmltcG9ydCBidWlsZEZ1bGxQYXRoIGZyb20gJy4vYnVpbGRGdWxsUGF0aC5qcyc7XG5pbXBvcnQgdmFsaWRhdG9yIGZyb20gJy4uL2hlbHBlcnMvdmFsaWRhdG9yLmpzJztcbmltcG9ydCBBeGlvc0hlYWRlcnMgZnJvbSAnLi9BeGlvc0hlYWRlcnMuanMnO1xuXG5jb25zdCB2YWxpZGF0b3JzID0gdmFsaWRhdG9yLnZhbGlkYXRvcnM7XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIEF4aW9zXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlQ29uZmlnIFRoZSBkZWZhdWx0IGNvbmZpZyBmb3IgdGhlIGluc3RhbmNlXG4gKlxuICogQHJldHVybiB7QXhpb3N9IEEgbmV3IGluc3RhbmNlIG9mIEF4aW9zXG4gKi9cbmNsYXNzIEF4aW9zIHtcbiAgY29uc3RydWN0b3IoaW5zdGFuY2VDb25maWcpIHtcbiAgICB0aGlzLmRlZmF1bHRzID0gaW5zdGFuY2VDb25maWc7XG4gICAgdGhpcy5pbnRlcmNlcHRvcnMgPSB7XG4gICAgICByZXF1ZXN0OiBuZXcgSW50ZXJjZXB0b3JNYW5hZ2VyKCksXG4gICAgICByZXNwb25zZTogbmV3IEludGVyY2VwdG9yTWFuYWdlcigpXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNwYXRjaCBhIHJlcXVlc3RcbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBjb25maWdPclVybCBUaGUgY29uZmlnIHNwZWNpZmljIGZvciB0aGlzIHJlcXVlc3QgKG1lcmdlZCB3aXRoIHRoaXMuZGVmYXVsdHMpXG4gICAqIEBwYXJhbSB7P09iamVjdH0gY29uZmlnXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBUaGUgUHJvbWlzZSB0byBiZSBmdWxmaWxsZWRcbiAgICovXG4gIHJlcXVlc3QoY29uZmlnT3JVcmwsIGNvbmZpZykge1xuICAgIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAgIC8vIEFsbG93IGZvciBheGlvcygnZXhhbXBsZS91cmwnWywgY29uZmlnXSkgYSBsYSBmZXRjaCBBUElcbiAgICBpZiAodHlwZW9mIGNvbmZpZ09yVXJsID09PSAnc3RyaW5nJykge1xuICAgICAgY29uZmlnID0gY29uZmlnIHx8IHt9O1xuICAgICAgY29uZmlnLnVybCA9IGNvbmZpZ09yVXJsO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25maWcgPSBjb25maWdPclVybCB8fCB7fTtcbiAgICB9XG5cbiAgICBjb25maWcgPSBtZXJnZUNvbmZpZyh0aGlzLmRlZmF1bHRzLCBjb25maWcpO1xuXG4gICAgY29uc3Qge3RyYW5zaXRpb25hbCwgcGFyYW1zU2VyaWFsaXplciwgaGVhZGVyc30gPSBjb25maWc7XG5cbiAgICBpZiAodHJhbnNpdGlvbmFsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhbGlkYXRvci5hc3NlcnRPcHRpb25zKHRyYW5zaXRpb25hbCwge1xuICAgICAgICBzaWxlbnRKU09OUGFyc2luZzogdmFsaWRhdG9ycy50cmFuc2l0aW9uYWwodmFsaWRhdG9ycy5ib29sZWFuKSxcbiAgICAgICAgZm9yY2VkSlNPTlBhcnNpbmc6IHZhbGlkYXRvcnMudHJhbnNpdGlvbmFsKHZhbGlkYXRvcnMuYm9vbGVhbiksXG4gICAgICAgIGNsYXJpZnlUaW1lb3V0RXJyb3I6IHZhbGlkYXRvcnMudHJhbnNpdGlvbmFsKHZhbGlkYXRvcnMuYm9vbGVhbilcbiAgICAgIH0sIGZhbHNlKTtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zU2VyaWFsaXplciAhPSBudWxsKSB7XG4gICAgICBpZiAodXRpbHMuaXNGdW5jdGlvbihwYXJhbXNTZXJpYWxpemVyKSkge1xuICAgICAgICBjb25maWcucGFyYW1zU2VyaWFsaXplciA9IHtcbiAgICAgICAgICBzZXJpYWxpemU6IHBhcmFtc1NlcmlhbGl6ZXJcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsaWRhdG9yLmFzc2VydE9wdGlvbnMocGFyYW1zU2VyaWFsaXplciwge1xuICAgICAgICAgIGVuY29kZTogdmFsaWRhdG9ycy5mdW5jdGlvbixcbiAgICAgICAgICBzZXJpYWxpemU6IHZhbGlkYXRvcnMuZnVuY3Rpb25cbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gU2V0IGNvbmZpZy5tZXRob2RcbiAgICBjb25maWcubWV0aG9kID0gKGNvbmZpZy5tZXRob2QgfHwgdGhpcy5kZWZhdWx0cy5tZXRob2QgfHwgJ2dldCcpLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAvLyBGbGF0dGVuIGhlYWRlcnNcbiAgICBsZXQgY29udGV4dEhlYWRlcnMgPSBoZWFkZXJzICYmIHV0aWxzLm1lcmdlKFxuICAgICAgaGVhZGVycy5jb21tb24sXG4gICAgICBoZWFkZXJzW2NvbmZpZy5tZXRob2RdXG4gICAgKTtcblxuICAgIGhlYWRlcnMgJiYgdXRpbHMuZm9yRWFjaChcbiAgICAgIFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJywgJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJywgJ2NvbW1vbiddLFxuICAgICAgKG1ldGhvZCkgPT4ge1xuICAgICAgICBkZWxldGUgaGVhZGVyc1ttZXRob2RdO1xuICAgICAgfVxuICAgICk7XG5cbiAgICBjb25maWcuaGVhZGVycyA9IEF4aW9zSGVhZGVycy5jb25jYXQoY29udGV4dEhlYWRlcnMsIGhlYWRlcnMpO1xuXG4gICAgLy8gZmlsdGVyIG91dCBza2lwcGVkIGludGVyY2VwdG9yc1xuICAgIGNvbnN0IHJlcXVlc3RJbnRlcmNlcHRvckNoYWluID0gW107XG4gICAgbGV0IHN5bmNocm9ub3VzUmVxdWVzdEludGVyY2VwdG9ycyA9IHRydWU7XG4gICAgdGhpcy5pbnRlcmNlcHRvcnMucmVxdWVzdC5mb3JFYWNoKGZ1bmN0aW9uIHVuc2hpZnRSZXF1ZXN0SW50ZXJjZXB0b3JzKGludGVyY2VwdG9yKSB7XG4gICAgICBpZiAodHlwZW9mIGludGVyY2VwdG9yLnJ1bldoZW4gPT09ICdmdW5jdGlvbicgJiYgaW50ZXJjZXB0b3IucnVuV2hlbihjb25maWcpID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHN5bmNocm9ub3VzUmVxdWVzdEludGVyY2VwdG9ycyA9IHN5bmNocm9ub3VzUmVxdWVzdEludGVyY2VwdG9ycyAmJiBpbnRlcmNlcHRvci5zeW5jaHJvbm91cztcblxuICAgICAgcmVxdWVzdEludGVyY2VwdG9yQ2hhaW4udW5zaGlmdChpbnRlcmNlcHRvci5mdWxmaWxsZWQsIGludGVyY2VwdG9yLnJlamVjdGVkKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbiA9IFtdO1xuICAgIHRoaXMuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLmZvckVhY2goZnVuY3Rpb24gcHVzaFJlc3BvbnNlSW50ZXJjZXB0b3JzKGludGVyY2VwdG9yKSB7XG4gICAgICByZXNwb25zZUludGVyY2VwdG9yQ2hhaW4ucHVzaChpbnRlcmNlcHRvci5mdWxmaWxsZWQsIGludGVyY2VwdG9yLnJlamVjdGVkKTtcbiAgICB9KTtcblxuICAgIGxldCBwcm9taXNlO1xuICAgIGxldCBpID0gMDtcbiAgICBsZXQgbGVuO1xuXG4gICAgaWYgKCFzeW5jaHJvbm91c1JlcXVlc3RJbnRlcmNlcHRvcnMpIHtcbiAgICAgIGNvbnN0IGNoYWluID0gW2Rpc3BhdGNoUmVxdWVzdC5iaW5kKHRoaXMpLCB1bmRlZmluZWRdO1xuICAgICAgY2hhaW4udW5zaGlmdC5hcHBseShjaGFpbiwgcmVxdWVzdEludGVyY2VwdG9yQ2hhaW4pO1xuICAgICAgY2hhaW4ucHVzaC5hcHBseShjaGFpbiwgcmVzcG9uc2VJbnRlcmNlcHRvckNoYWluKTtcbiAgICAgIGxlbiA9IGNoYWluLmxlbmd0aDtcblxuICAgICAgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShjb25maWcpO1xuXG4gICAgICB3aGlsZSAoaSA8IGxlbikge1xuICAgICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKGNoYWluW2krK10sIGNoYWluW2krK10pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG5cbiAgICBsZW4gPSByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbi5sZW5ndGg7XG5cbiAgICBsZXQgbmV3Q29uZmlnID0gY29uZmlnO1xuXG4gICAgaSA9IDA7XG5cbiAgICB3aGlsZSAoaSA8IGxlbikge1xuICAgICAgY29uc3Qgb25GdWxmaWxsZWQgPSByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbltpKytdO1xuICAgICAgY29uc3Qgb25SZWplY3RlZCA9IHJlcXVlc3RJbnRlcmNlcHRvckNoYWluW2krK107XG4gICAgICB0cnkge1xuICAgICAgICBuZXdDb25maWcgPSBvbkZ1bGZpbGxlZChuZXdDb25maWcpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgb25SZWplY3RlZC5jYWxsKHRoaXMsIGVycm9yKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHByb21pc2UgPSBkaXNwYXRjaFJlcXVlc3QuY2FsbCh0aGlzLCBuZXdDb25maWcpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgIH1cblxuICAgIGkgPSAwO1xuICAgIGxlbiA9IHJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbi5sZW5ndGg7XG5cbiAgICB3aGlsZSAoaSA8IGxlbikge1xuICAgICAgcHJvbWlzZSA9IHByb21pc2UudGhlbihyZXNwb25zZUludGVyY2VwdG9yQ2hhaW5baSsrXSwgcmVzcG9uc2VJbnRlcmNlcHRvckNoYWluW2krK10pO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZ2V0VXJpKGNvbmZpZykge1xuICAgIGNvbmZpZyA9IG1lcmdlQ29uZmlnKHRoaXMuZGVmYXVsdHMsIGNvbmZpZyk7XG4gICAgY29uc3QgZnVsbFBhdGggPSBidWlsZEZ1bGxQYXRoKGNvbmZpZy5iYXNlVVJMLCBjb25maWcudXJsKTtcbiAgICByZXR1cm4gYnVpbGRVUkwoZnVsbFBhdGgsIGNvbmZpZy5wYXJhbXMsIGNvbmZpZy5wYXJhbXNTZXJpYWxpemVyKTtcbiAgfVxufVxuXG4vLyBQcm92aWRlIGFsaWFzZXMgZm9yIHN1cHBvcnRlZCByZXF1ZXN0IG1ldGhvZHNcbnV0aWxzLmZvckVhY2goWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAnb3B0aW9ucyddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kTm9EYXRhKG1ldGhvZCkge1xuICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKHVybCwgY29uZmlnKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdChtZXJnZUNvbmZpZyhjb25maWcgfHwge30sIHtcbiAgICAgIG1ldGhvZCxcbiAgICAgIHVybCxcbiAgICAgIGRhdGE6IChjb25maWcgfHwge30pLmRhdGFcbiAgICB9KSk7XG4gIH07XG59KTtcblxudXRpbHMuZm9yRWFjaChbJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2RXaXRoRGF0YShtZXRob2QpIHtcbiAgLyplc2xpbnQgZnVuYy1uYW1lczowKi9cblxuICBmdW5jdGlvbiBnZW5lcmF0ZUhUVFBNZXRob2QoaXNGb3JtKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGh0dHBNZXRob2QodXJsLCBkYXRhLCBjb25maWcpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlcXVlc3QobWVyZ2VDb25maWcoY29uZmlnIHx8IHt9LCB7XG4gICAgICAgIG1ldGhvZCxcbiAgICAgICAgaGVhZGVyczogaXNGb3JtID8ge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YSdcbiAgICAgICAgfSA6IHt9LFxuICAgICAgICB1cmwsXG4gICAgICAgIGRhdGFcbiAgICAgIH0pKTtcbiAgICB9O1xuICB9XG5cbiAgQXhpb3MucHJvdG90eXBlW21ldGhvZF0gPSBnZW5lcmF0ZUhUVFBNZXRob2QoKTtcblxuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kICsgJ0Zvcm0nXSA9IGdlbmVyYXRlSFRUUE1ldGhvZCh0cnVlKTtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBBeGlvcztcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IENhbmNlbGVkRXJyb3IgZnJvbSAnLi9DYW5jZWxlZEVycm9yLmpzJztcblxuLyoqXG4gKiBBIGBDYW5jZWxUb2tlbmAgaXMgYW4gb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgdG8gcmVxdWVzdCBjYW5jZWxsYXRpb24gb2YgYW4gb3BlcmF0aW9uLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGV4ZWN1dG9yIFRoZSBleGVjdXRvciBmdW5jdGlvbi5cbiAqXG4gKiBAcmV0dXJucyB7Q2FuY2VsVG9rZW59XG4gKi9cbmNsYXNzIENhbmNlbFRva2VuIHtcbiAgY29uc3RydWN0b3IoZXhlY3V0b3IpIHtcbiAgICBpZiAodHlwZW9mIGV4ZWN1dG9yICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdleGVjdXRvciBtdXN0IGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuXG4gICAgbGV0IHJlc29sdmVQcm9taXNlO1xuXG4gICAgdGhpcy5wcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gcHJvbWlzZUV4ZWN1dG9yKHJlc29sdmUpIHtcbiAgICAgIHJlc29sdmVQcm9taXNlID0gcmVzb2x2ZTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHRva2VuID0gdGhpcztcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gICAgdGhpcy5wcm9taXNlLnRoZW4oY2FuY2VsID0+IHtcbiAgICAgIGlmICghdG9rZW4uX2xpc3RlbmVycykgcmV0dXJuO1xuXG4gICAgICBsZXQgaSA9IHRva2VuLl9saXN0ZW5lcnMubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoaS0tID4gMCkge1xuICAgICAgICB0b2tlbi5fbGlzdGVuZXJzW2ldKGNhbmNlbCk7XG4gICAgICB9XG4gICAgICB0b2tlbi5fbGlzdGVuZXJzID0gbnVsbDtcbiAgICB9KTtcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gICAgdGhpcy5wcm9taXNlLnRoZW4gPSBvbmZ1bGZpbGxlZCA9PiB7XG4gICAgICBsZXQgX3Jlc29sdmU7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICAgICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICB0b2tlbi5zdWJzY3JpYmUocmVzb2x2ZSk7XG4gICAgICAgIF9yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgIH0pLnRoZW4ob25mdWxmaWxsZWQpO1xuXG4gICAgICBwcm9taXNlLmNhbmNlbCA9IGZ1bmN0aW9uIHJlamVjdCgpIHtcbiAgICAgICAgdG9rZW4udW5zdWJzY3JpYmUoX3Jlc29sdmUpO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfTtcblxuICAgIGV4ZWN1dG9yKGZ1bmN0aW9uIGNhbmNlbChtZXNzYWdlLCBjb25maWcsIHJlcXVlc3QpIHtcbiAgICAgIGlmICh0b2tlbi5yZWFzb24pIHtcbiAgICAgICAgLy8gQ2FuY2VsbGF0aW9uIGhhcyBhbHJlYWR5IGJlZW4gcmVxdWVzdGVkXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdG9rZW4ucmVhc29uID0gbmV3IENhbmNlbGVkRXJyb3IobWVzc2FnZSwgY29uZmlnLCByZXF1ZXN0KTtcbiAgICAgIHJlc29sdmVQcm9taXNlKHRva2VuLnJlYXNvbik7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVGhyb3dzIGEgYENhbmNlbGVkRXJyb3JgIGlmIGNhbmNlbGxhdGlvbiBoYXMgYmVlbiByZXF1ZXN0ZWQuXG4gICAqL1xuICB0aHJvd0lmUmVxdWVzdGVkKCkge1xuICAgIGlmICh0aGlzLnJlYXNvbikge1xuICAgICAgdGhyb3cgdGhpcy5yZWFzb247XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFN1YnNjcmliZSB0byB0aGUgY2FuY2VsIHNpZ25hbFxuICAgKi9cblxuICBzdWJzY3JpYmUobGlzdGVuZXIpIHtcbiAgICBpZiAodGhpcy5yZWFzb24pIHtcbiAgICAgIGxpc3RlbmVyKHRoaXMucmVhc29uKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fbGlzdGVuZXJzKSB7XG4gICAgICB0aGlzLl9saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2xpc3RlbmVycyA9IFtsaXN0ZW5lcl07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVuc3Vic2NyaWJlIGZyb20gdGhlIGNhbmNlbCBzaWduYWxcbiAgICovXG5cbiAgdW5zdWJzY3JpYmUobGlzdGVuZXIpIHtcbiAgICBpZiAoIXRoaXMuX2xpc3RlbmVycykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBpbmRleCA9IHRoaXMuX2xpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICB0aGlzLl9saXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhbiBvYmplY3QgdGhhdCBjb250YWlucyBhIG5ldyBgQ2FuY2VsVG9rZW5gIGFuZCBhIGZ1bmN0aW9uIHRoYXQsIHdoZW4gY2FsbGVkLFxuICAgKiBjYW5jZWxzIHRoZSBgQ2FuY2VsVG9rZW5gLlxuICAgKi9cbiAgc3RhdGljIHNvdXJjZSgpIHtcbiAgICBsZXQgY2FuY2VsO1xuICAgIGNvbnN0IHRva2VuID0gbmV3IENhbmNlbFRva2VuKGZ1bmN0aW9uIGV4ZWN1dG9yKGMpIHtcbiAgICAgIGNhbmNlbCA9IGM7XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRva2VuLFxuICAgICAgY2FuY2VsXG4gICAgfTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDYW5jZWxUb2tlbjtcbiIsImNvbnN0IEh0dHBTdGF0dXNDb2RlID0ge1xuICBDb250aW51ZTogMTAwLFxuICBTd2l0Y2hpbmdQcm90b2NvbHM6IDEwMSxcbiAgUHJvY2Vzc2luZzogMTAyLFxuICBFYXJseUhpbnRzOiAxMDMsXG4gIE9rOiAyMDAsXG4gIENyZWF0ZWQ6IDIwMSxcbiAgQWNjZXB0ZWQ6IDIwMixcbiAgTm9uQXV0aG9yaXRhdGl2ZUluZm9ybWF0aW9uOiAyMDMsXG4gIE5vQ29udGVudDogMjA0LFxuICBSZXNldENvbnRlbnQ6IDIwNSxcbiAgUGFydGlhbENvbnRlbnQ6IDIwNixcbiAgTXVsdGlTdGF0dXM6IDIwNyxcbiAgQWxyZWFkeVJlcG9ydGVkOiAyMDgsXG4gIEltVXNlZDogMjI2LFxuICBNdWx0aXBsZUNob2ljZXM6IDMwMCxcbiAgTW92ZWRQZXJtYW5lbnRseTogMzAxLFxuICBGb3VuZDogMzAyLFxuICBTZWVPdGhlcjogMzAzLFxuICBOb3RNb2RpZmllZDogMzA0LFxuICBVc2VQcm94eTogMzA1LFxuICBVbnVzZWQ6IDMwNixcbiAgVGVtcG9yYXJ5UmVkaXJlY3Q6IDMwNyxcbiAgUGVybWFuZW50UmVkaXJlY3Q6IDMwOCxcbiAgQmFkUmVxdWVzdDogNDAwLFxuICBVbmF1dGhvcml6ZWQ6IDQwMSxcbiAgUGF5bWVudFJlcXVpcmVkOiA0MDIsXG4gIEZvcmJpZGRlbjogNDAzLFxuICBOb3RGb3VuZDogNDA0LFxuICBNZXRob2ROb3RBbGxvd2VkOiA0MDUsXG4gIE5vdEFjY2VwdGFibGU6IDQwNixcbiAgUHJveHlBdXRoZW50aWNhdGlvblJlcXVpcmVkOiA0MDcsXG4gIFJlcXVlc3RUaW1lb3V0OiA0MDgsXG4gIENvbmZsaWN0OiA0MDksXG4gIEdvbmU6IDQxMCxcbiAgTGVuZ3RoUmVxdWlyZWQ6IDQxMSxcbiAgUHJlY29uZGl0aW9uRmFpbGVkOiA0MTIsXG4gIFBheWxvYWRUb29MYXJnZTogNDEzLFxuICBVcmlUb29Mb25nOiA0MTQsXG4gIFVuc3VwcG9ydGVkTWVkaWFUeXBlOiA0MTUsXG4gIFJhbmdlTm90U2F0aXNmaWFibGU6IDQxNixcbiAgRXhwZWN0YXRpb25GYWlsZWQ6IDQxNyxcbiAgSW1BVGVhcG90OiA0MTgsXG4gIE1pc2RpcmVjdGVkUmVxdWVzdDogNDIxLFxuICBVbnByb2Nlc3NhYmxlRW50aXR5OiA0MjIsXG4gIExvY2tlZDogNDIzLFxuICBGYWlsZWREZXBlbmRlbmN5OiA0MjQsXG4gIFRvb0Vhcmx5OiA0MjUsXG4gIFVwZ3JhZGVSZXF1aXJlZDogNDI2LFxuICBQcmVjb25kaXRpb25SZXF1aXJlZDogNDI4LFxuICBUb29NYW55UmVxdWVzdHM6IDQyOSxcbiAgUmVxdWVzdEhlYWRlckZpZWxkc1Rvb0xhcmdlOiA0MzEsXG4gIFVuYXZhaWxhYmxlRm9yTGVnYWxSZWFzb25zOiA0NTEsXG4gIEludGVybmFsU2VydmVyRXJyb3I6IDUwMCxcbiAgTm90SW1wbGVtZW50ZWQ6IDUwMSxcbiAgQmFkR2F0ZXdheTogNTAyLFxuICBTZXJ2aWNlVW5hdmFpbGFibGU6IDUwMyxcbiAgR2F0ZXdheVRpbWVvdXQ6IDUwNCxcbiAgSHR0cFZlcnNpb25Ob3RTdXBwb3J0ZWQ6IDUwNSxcbiAgVmFyaWFudEFsc29OZWdvdGlhdGVzOiA1MDYsXG4gIEluc3VmZmljaWVudFN0b3JhZ2U6IDUwNyxcbiAgTG9vcERldGVjdGVkOiA1MDgsXG4gIE5vdEV4dGVuZGVkOiA1MTAsXG4gIE5ldHdvcmtBdXRoZW50aWNhdGlvblJlcXVpcmVkOiA1MTEsXG59O1xuXG5PYmplY3QuZW50cmllcyhIdHRwU3RhdHVzQ29kZSkuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gIEh0dHBTdGF0dXNDb2RlW3ZhbHVlXSA9IGtleTtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBIdHRwU3RhdHVzQ29kZTtcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4vdXRpbHMuanMnO1xuaW1wb3J0IGJpbmQgZnJvbSAnLi9oZWxwZXJzL2JpbmQuanMnO1xuaW1wb3J0IEF4aW9zIGZyb20gJy4vY29yZS9BeGlvcy5qcyc7XG5pbXBvcnQgbWVyZ2VDb25maWcgZnJvbSAnLi9jb3JlL21lcmdlQ29uZmlnLmpzJztcbmltcG9ydCBkZWZhdWx0cyBmcm9tICcuL2RlZmF1bHRzL2luZGV4LmpzJztcbmltcG9ydCBmb3JtRGF0YVRvSlNPTiBmcm9tICcuL2hlbHBlcnMvZm9ybURhdGFUb0pTT04uanMnO1xuaW1wb3J0IENhbmNlbGVkRXJyb3IgZnJvbSAnLi9jYW5jZWwvQ2FuY2VsZWRFcnJvci5qcyc7XG5pbXBvcnQgQ2FuY2VsVG9rZW4gZnJvbSAnLi9jYW5jZWwvQ2FuY2VsVG9rZW4uanMnO1xuaW1wb3J0IGlzQ2FuY2VsIGZyb20gJy4vY2FuY2VsL2lzQ2FuY2VsLmpzJztcbmltcG9ydCB7VkVSU0lPTn0gZnJvbSAnLi9lbnYvZGF0YS5qcyc7XG5pbXBvcnQgdG9Gb3JtRGF0YSBmcm9tICcuL2hlbHBlcnMvdG9Gb3JtRGF0YS5qcyc7XG5pbXBvcnQgQXhpb3NFcnJvciBmcm9tICcuL2NvcmUvQXhpb3NFcnJvci5qcyc7XG5pbXBvcnQgc3ByZWFkIGZyb20gJy4vaGVscGVycy9zcHJlYWQuanMnO1xuaW1wb3J0IGlzQXhpb3NFcnJvciBmcm9tICcuL2hlbHBlcnMvaXNBeGlvc0Vycm9yLmpzJztcbmltcG9ydCBBeGlvc0hlYWRlcnMgZnJvbSBcIi4vY29yZS9BeGlvc0hlYWRlcnMuanNcIjtcbmltcG9ydCBhZGFwdGVycyBmcm9tICcuL2FkYXB0ZXJzL2FkYXB0ZXJzLmpzJztcbmltcG9ydCBIdHRwU3RhdHVzQ29kZSBmcm9tICcuL2hlbHBlcnMvSHR0cFN0YXR1c0NvZGUuanMnO1xuXG4vKipcbiAqIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiBBeGlvc1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBkZWZhdWx0Q29uZmlnIFRoZSBkZWZhdWx0IGNvbmZpZyBmb3IgdGhlIGluc3RhbmNlXG4gKlxuICogQHJldHVybnMge0F4aW9zfSBBIG5ldyBpbnN0YW5jZSBvZiBBeGlvc1xuICovXG5mdW5jdGlvbiBjcmVhdGVJbnN0YW5jZShkZWZhdWx0Q29uZmlnKSB7XG4gIGNvbnN0IGNvbnRleHQgPSBuZXcgQXhpb3MoZGVmYXVsdENvbmZpZyk7XG4gIGNvbnN0IGluc3RhbmNlID0gYmluZChBeGlvcy5wcm90b3R5cGUucmVxdWVzdCwgY29udGV4dCk7XG5cbiAgLy8gQ29weSBheGlvcy5wcm90b3R5cGUgdG8gaW5zdGFuY2VcbiAgdXRpbHMuZXh0ZW5kKGluc3RhbmNlLCBBeGlvcy5wcm90b3R5cGUsIGNvbnRleHQsIHthbGxPd25LZXlzOiB0cnVlfSk7XG5cbiAgLy8gQ29weSBjb250ZXh0IHRvIGluc3RhbmNlXG4gIHV0aWxzLmV4dGVuZChpbnN0YW5jZSwgY29udGV4dCwgbnVsbCwge2FsbE93bktleXM6IHRydWV9KTtcblxuICAvLyBGYWN0b3J5IGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2VzXG4gIGluc3RhbmNlLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShpbnN0YW5jZUNvbmZpZykge1xuICAgIHJldHVybiBjcmVhdGVJbnN0YW5jZShtZXJnZUNvbmZpZyhkZWZhdWx0Q29uZmlnLCBpbnN0YW5jZUNvbmZpZykpO1xuICB9O1xuXG4gIHJldHVybiBpbnN0YW5jZTtcbn1cblxuLy8gQ3JlYXRlIHRoZSBkZWZhdWx0IGluc3RhbmNlIHRvIGJlIGV4cG9ydGVkXG5jb25zdCBheGlvcyA9IGNyZWF0ZUluc3RhbmNlKGRlZmF1bHRzKTtcblxuLy8gRXhwb3NlIEF4aW9zIGNsYXNzIHRvIGFsbG93IGNsYXNzIGluaGVyaXRhbmNlXG5heGlvcy5BeGlvcyA9IEF4aW9zO1xuXG4vLyBFeHBvc2UgQ2FuY2VsICYgQ2FuY2VsVG9rZW5cbmF4aW9zLkNhbmNlbGVkRXJyb3IgPSBDYW5jZWxlZEVycm9yO1xuYXhpb3MuQ2FuY2VsVG9rZW4gPSBDYW5jZWxUb2tlbjtcbmF4aW9zLmlzQ2FuY2VsID0gaXNDYW5jZWw7XG5heGlvcy5WRVJTSU9OID0gVkVSU0lPTjtcbmF4aW9zLnRvRm9ybURhdGEgPSB0b0Zvcm1EYXRhO1xuXG4vLyBFeHBvc2UgQXhpb3NFcnJvciBjbGFzc1xuYXhpb3MuQXhpb3NFcnJvciA9IEF4aW9zRXJyb3I7XG5cbi8vIGFsaWFzIGZvciBDYW5jZWxlZEVycm9yIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG5heGlvcy5DYW5jZWwgPSBheGlvcy5DYW5jZWxlZEVycm9yO1xuXG4vLyBFeHBvc2UgYWxsL3NwcmVhZFxuYXhpb3MuYWxsID0gZnVuY3Rpb24gYWxsKHByb21pc2VzKSB7XG4gIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG59O1xuXG5heGlvcy5zcHJlYWQgPSBzcHJlYWQ7XG5cbi8vIEV4cG9zZSBpc0F4aW9zRXJyb3JcbmF4aW9zLmlzQXhpb3NFcnJvciA9IGlzQXhpb3NFcnJvcjtcblxuLy8gRXhwb3NlIG1lcmdlQ29uZmlnXG5heGlvcy5tZXJnZUNvbmZpZyA9IG1lcmdlQ29uZmlnO1xuXG5heGlvcy5BeGlvc0hlYWRlcnMgPSBBeGlvc0hlYWRlcnM7XG5cbmF4aW9zLmZvcm1Ub0pTT04gPSB0aGluZyA9PiBmb3JtRGF0YVRvSlNPTih1dGlscy5pc0hUTUxGb3JtKHRoaW5nKSA/IG5ldyBGb3JtRGF0YSh0aGluZykgOiB0aGluZyk7XG5cbmF4aW9zLmdldEFkYXB0ZXIgPSBhZGFwdGVycy5nZXRBZGFwdGVyO1xuXG5heGlvcy5IdHRwU3RhdHVzQ29kZSA9IEh0dHBTdGF0dXNDb2RlO1xuXG5heGlvcy5kZWZhdWx0ID0gYXhpb3M7XG5cbi8vIHRoaXMgbW9kdWxlIHNob3VsZCBvbmx5IGhhdmUgYSBkZWZhdWx0IGV4cG9ydFxuZXhwb3J0IGRlZmF1bHQgYXhpb3NcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBTeW50YWN0aWMgc3VnYXIgZm9yIGludm9raW5nIGEgZnVuY3Rpb24gYW5kIGV4cGFuZGluZyBhbiBhcnJheSBmb3IgYXJndW1lbnRzLlxuICpcbiAqIENvbW1vbiB1c2UgY2FzZSB3b3VsZCBiZSB0byB1c2UgYEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseWAuXG4gKlxuICogIGBgYGpzXG4gKiAgZnVuY3Rpb24gZih4LCB5LCB6KSB7fVxuICogIHZhciBhcmdzID0gWzEsIDIsIDNdO1xuICogIGYuYXBwbHkobnVsbCwgYXJncyk7XG4gKiAgYGBgXG4gKlxuICogV2l0aCBgc3ByZWFkYCB0aGlzIGV4YW1wbGUgY2FuIGJlIHJlLXdyaXR0ZW4uXG4gKlxuICogIGBgYGpzXG4gKiAgc3ByZWFkKGZ1bmN0aW9uKHgsIHksIHopIHt9KShbMSwgMiwgM10pO1xuICogIGBgYFxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKlxuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzcHJlYWQoY2FsbGJhY2spIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHdyYXAoYXJyKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrLmFwcGx5KG51bGwsIGFycik7XG4gIH07XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLy4uL3V0aWxzLmpzJztcblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIHBheWxvYWQgaXMgYW4gZXJyb3IgdGhyb3duIGJ5IEF4aW9zXG4gKlxuICogQHBhcmFtIHsqfSBwYXlsb2FkIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHBheWxvYWQgaXMgYW4gZXJyb3IgdGhyb3duIGJ5IEF4aW9zLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNBeGlvc0Vycm9yKHBheWxvYWQpIHtcbiAgcmV0dXJuIHV0aWxzLmlzT2JqZWN0KHBheWxvYWQpICYmIChwYXlsb2FkLmlzQXhpb3NFcnJvciA9PT0gdHJ1ZSk7XG59XG4iLCJpbXBvcnQgYXhpb3MgZnJvbSBcImF4aW9zXCI7XG5cbmNvbnN0IGh0dHBDbGllbnQ6IHsgZ2V0OiBhbnk7IHBvc3Q6IGFueSB9ID0ge1xuICBnZXQ6ICh1cmw6IHN0cmluZywgeyBwYXJhbXMgfTogeyBwYXJhbXM6IHt9IH0pOiBQcm9taXNlPGFueT4gPT4ge1xuICAgIHJldHVybiBheGlvcy5nZXQodXJsLCB7IHBhcmFtcyB9KTtcbiAgfSxcbiAgcG9zdDogKFxuICAgIHVybDogc3RyaW5nLFxuICAgIGJvZHk6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPSB7fSxcbiAgICBvcHRpb25zOiB7IGhlYWRlcnM/OiBhbnkgfSA9IHt9XG4gICk6IFByb21pc2U8YW55PiA9PiB7XG4gICAgcmV0dXJuIGF4aW9zLnBvc3QodXJsLCBib2R5LCBvcHRpb25zKTtcbiAgfSxcbn07XG4vLyBjb25zdCBodHRwQ2xpZW50ID0ge1xuLy8gICBnZXQ6IChcbi8vICAgICB1cmw6IHN0cmluZyxcbi8vICAgICB7IHBhcmFtcyB9OiB7IHBhcmFtczogUmVjb3JkPHN0cmluZywgYW55PiB9XG4vLyAgICk6IFByb21pc2U8YW55PiA9PiB7XG4vLyAgICAgcmV0dXJuIGZldGNoKGAke3VybH0/JHtuZXcgVVJMU2VhcmNoUGFyYW1zKHBhcmFtcykudG9TdHJpbmcoKX1gLCB7XG4vLyAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4vLyAgICAgICBoZWFkZXJzOiB7XG4vLyAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuLy8gICAgICAgICBcIkFjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpblwiOiBcIipcIixcbi8vICAgICAgIH0sXG4vLyAgICAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcbi8vICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbi8vICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIVFRQIGVycm9yISBTdGF0dXM6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuLy8gICAgICAgfVxuLy8gICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbi8vICAgICB9KTtcbi8vICAgfSxcbi8vICAgcG9zdDogKFxuLy8gICAgIHVybDogc3RyaW5nLFxuLy8gICAgIGJvZHk6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPSB7fSxcbi8vICAgICBvcHRpb25zOiB7IGhlYWRlcnM/OiBhbnkgfSA9IHt9XG4vLyAgICk6IFByb21pc2U8YW55PiA9PiB7XG4vLyAgICAgcmV0dXJuIGZldGNoKGAke3VybH1gLCB7XG4vLyAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuLy8gICAgICAgaGVhZGVyczoge1xuLy8gICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbi8vICAgICAgIH0sXG4vLyAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbi8vICAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuLy8gICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuLy8gICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhUVFAgZXJyb3IhIFN0YXR1czogJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4vLyAgICAgICB9XG4vLyAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuLy8gICAgIH0pO1xuLy8gICB9LFxuLy8gfTtcblxuZXhwb3J0IGRlZmF1bHQgaHR0cENsaWVudDtcblxuXG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuaW1wb3J0IHN0b3JhZ2VTZXJ2aWNlIGZyb20gXCIuLi9zdG9yYWdlLnNlcnZpY2VcIjtcbmltcG9ydCB7IHBhcnNlUmVwb3J0QXNDaGFydERhdGEgfSBmcm9tIFwiLi4vZ2FwaS51dGlsc1wiO1xuaW1wb3J0IHsgR2FwaUluaXRpYWxpemF0aW9uUGFyYW1zIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5pbXBvcnQgYXhpb3MgZnJvbSBcImF4aW9zXCI7XG5pbXBvcnQgaHR0cENsaWVudCBmcm9tIFwiQHNyYy9kZXBzL2h0dHAtY2xpZW50XCI7XG5cbmV4cG9ydCBjbGFzcyBHYXBpQW5hbHl0aWNzU2VydmljZSB7XG4gIGdhcGk7XG4gIGFuYWx5dGljcztcbiAgcmVhbHRpbWVBUEk7XG4gIGFuYWx5dGljc2RhdGE7XG4gIGFuYWx5dGljc2FkbWluO1xuICBtYW5hZ2VtZW50O1xuICB3ZWJwcm9wZXJ0aWVzO1xuICBhY2NvdW50cztcbiAgcHJvZmlsZXM7XG4gIGluaXRpYWxpemF0aW9uUGVuZGluZyA9IHRydWU7XG5cbiAgaW5pdGlhbGlzYXRpb25zUGFyYW1zITogR2FwaUluaXRpYWxpemF0aW9uUGFyYW1zO1xuICBjb25zdHJ1Y3RvcihvcHRpb25zOiBHYXBpSW5pdGlhbGl6YXRpb25QYXJhbXMpIHtcbiAgICBjb25zdCB7IGNsaWVudElkLCBhdXRoU2NvcGVzLCBHQTRBZG1pbkVtYWlsIH0gPSBvcHRpb25zO1xuICAgIHRoaXMuaW5pdGlhbGlzYXRpb25zUGFyYW1zID0gb3B0aW9ucztcbiAgfVxuXG4gIGFzeW5jIHJlZnJlc2hBY2Nlc3NUb2tlbihlbWFpbDogc3RyaW5nKSB7XG4gICAgY29uc3QgaGVhZGVycyA9IHsgQWNjZXB0OiBcImFwcGxpY2F0aW9uL2pzb25cIiB9O1xuXG4gICAgY29uc3Qgc2VydmVyUmVzcG9uc2UgPSBhd2FpdCBodHRwQ2xpZW50LnBvc3QoXG4gICAgICB0aGlzLmluaXRpYWxpc2F0aW9uc1BhcmFtcy5zZXJ2ZXJVcmxzLnJlZnJlc2hUb2tlbixcbiAgICAgIHsgZW1haWwgfSxcbiAgICAgIHsgaGVhZGVycyB9XG4gICAgKTtcbiAgICByZXR1cm4gc2VydmVyUmVzcG9uc2U7XG4gIH1cblxuICBhc3luYyBlcnJvckhhbmRsZXIoZXJyb3IsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgLy8gICBjb25zb2xlLmxvZyhcImVycm9yIDo+PiBcIiwgZXJyb3IsIGNvbnRleHQpO1xuICAgICAgY29uc3QgeyBzdGF0dXMsIHJlc3VsdCB9ID0gZXJyb3I7XG4gICAgICBpZiAoc3RhdHVzID09PSA0MDEpIHtcbiAgICAgICAgY29uc3QgeyByZWZyZXNoX3Rva2VuIH0gPVxuICAgICAgICAgIHN0b3JhZ2VTZXJ2aWNlLmdldEdvb2dsZUxvZ2luUmVzcG9uc2UoKSB8fCB7fTtcbiAgICAgICAgY29uc29sZS5sb2coXCJyZWZyZXNoX3Rva2VuXCIsIHJlZnJlc2hfdG9rZW4pO1xuICAgICAgICAvLyBpZiAoIXJlZnJlc2hfdG9rZW4pIHJlamVjdChlcnJvcik7XG4gICAgICAgIGNvbnN0IHsgZGF0YTogY3JlZGVudGlhbHMgfSA9IChhd2FpdCB0aGlzLnJlZnJlc2hBY2Nlc3NUb2tlbihcbiAgICAgICAgICB0aGlzLmluaXRpYWxpc2F0aW9uc1BhcmFtcy5HQTRBZG1pbkVtYWlsXG4gICAgICAgICkuY2F0Y2gocmVqZWN0KSkgYXMgeyBkYXRhOiBhbnkgfTtcbiAgICAgICAgY29uc29sZS5sb2coXCJjcmVkZW50aWFscyA6Pj4gXCIsIGNyZWRlbnRpYWxzKTtcbiAgICAgICAgaWYgKCFjcmVkZW50aWFscykgcmVqZWN0KGVycm9yKTtcblxuICAgICAgICBzdG9yYWdlU2VydmljZS5zZXRHb29nbGVMb2dpblJlc3BvbnNlKGNyZWRlbnRpYWxzKTtcbiAgICAgICAgdGhpcy5zZXRBY2Nlc3NUb2tlbigpO1xuICAgICAgICBjb25zdCB7IG1ldGhvZCwgYXJncyB9ID0gY29udGV4dDtcbiAgICAgICAgY29uc29sZS5sb2coXCJtZXRob2QsIGFyZ3MgOj4+IFwiLCBtZXRob2QsIGFyZ3MpO1xuICAgICAgICByZXNvbHZlKHRoaXNbbWV0aG9kXSguLi5hcmdzKSk7XG4gICAgICB9XG5cbiAgICAgIHJlamVjdChlcnJvcik7XG4gICAgfSk7XG4gIH1cblxuICBnZXQgZ2FwaUlzU2NyaXB0QXJlQWxsRG93bmxvYWRlZCgpIHtcbiAgICBjb25zdCBnYXBpID0gd2luZG93Py5nYXBpO1xuICAgIGNvbnN0IGFuYWx5dGljcyA9IGdhcGk/LmNsaWVudD8uYW5hbHl0aWNzO1xuICAgIGNvbnN0IGFuYWx5dGljc2RhdGEgPSBnYXBpPy5jbGllbnQ/LmFuYWx5dGljc2RhdGE7XG4gICAgY29uc3QgYW5hbHl0aWNzYWRtaW4gPSBnYXBpPy5jbGllbnQ/LmFuYWx5dGljc2FkbWluO1xuICAgIGNvbnN0IGFyZU5vdExvYWRlZCA9ICFnYXBpIHx8ICFhbmFseXRpY3MgfHwgIWFuYWx5dGljc2FkbWluIHx8ICFhbmFseXRpY3NkYXRhXG4gICAgcmV0dXJuICFhcmVOb3RMb2FkZWRcbiAgfVxuICBhc3luYyBpbml0KCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpZiAoIXRoaXMuZ2FwaUlzU2NyaXB0QXJlQWxsRG93bmxvYWRlZCkge1xuICAgICAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICByZXNvbHZlKGF3YWl0IHRoaXMuaW5pdCgpKTtcbiAgICAgICAgfSwgMTAwMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmdhcGkgPSB3aW5kb3c/LmdhcGk7XG4gICAgICAgIHRoaXMuYW5hbHl0aWNzID0gdGhpcy5nYXBpLmNsaWVudC5hbmFseXRpY3M7XG4gICAgICAgIHRoaXMucmVhbHRpbWVBUEkgPSB0aGlzLmdhcGkuY2xpZW50LmFuYWx5dGljcy5kYXRhLnJlYWx0aW1lO1xuICAgICAgICB0aGlzLmFuYWx5dGljc2RhdGEgPSB0aGlzLmdhcGkuY2xpZW50LmFuYWx5dGljc2RhdGE7XG4gICAgICAgIHRoaXMuYW5hbHl0aWNzYWRtaW4gPSB0aGlzLmdhcGkuY2xpZW50LmFuYWx5dGljc2FkbWluO1xuXG4gICAgICAgIHRoaXMubWFuYWdlbWVudCA9IHRoaXMuZ2FwaS5jbGllbnQuYW5hbHl0aWNzLm1hbmFnZW1lbnQ7XG4gICAgICAgIHRoaXMuYWNjb3VudHMgPSB0aGlzLm1hbmFnZW1lbnQuYWNjb3VudHM7XG4gICAgICAgIHRoaXMud2VicHJvcGVydGllcyA9IHRoaXMubWFuYWdlbWVudC53ZWJwcm9wZXJ0aWVzO1xuICAgICAgICB0aGlzLnByb2ZpbGVzID0gdGhpcy5tYW5hZ2VtZW50LnByb2ZpbGVzO1xuXG4gICAgICAgIHRoaXMuc2V0QWNjZXNzVG9rZW4oKTtcblxuICAgICAgICB0aGlzLmluaXRpYWxpemF0aW9uUGVuZGluZyA9IGZhbHNlO1xuICAgICAgICByZXNvbHZlKHRydWUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgcXVlcnlSZXBvcnQocHJvcGVydHksIG9wdGlvbnMpIHtcbiAgICBjb25zb2xlLmxvZyhcInByb3BlcnR5XCIsIHByb3BlcnR5KTtcbiAgICBpZiAoIXByb3BlcnR5KSB0aHJvdyBuZXcgRXJyb3IoXCJHb29nbGUgcHJvcGVydHkgaXNudCBzZXRcIik7XG5cbiAgICB0cnkge1xuICAgICAgbGV0IHsgZGltZW5zaW9ucywgbWV0cmljcywgc3RhcnREYXRlLCBlbmREYXRlIH0gPSBvcHRpb25zO1xuICAgICAgbWV0cmljcyA9IChtZXRyaWNzIHx8IFtdKS5tYXAoKGUpID0+IHtcbiAgICAgICAgLy8gcmV0dXJuIHsgbmFtZTogXCJnYTpcIiArIGUgfTtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBlID09PSBcInN0cmluZ1wiID8geyBuYW1lOiBlIH0gOiBlO1xuICAgICAgfSk7XG4gICAgICBkaW1lbnNpb25zID0gKGRpbWVuc2lvbnMgfHwgW10pLm1hcCgoZSkgPT4ge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGUgPT09IFwic3RyaW5nXCIgPyB7IG5hbWU6IGUgfSA6IGU7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVwb3J0cyA9IGF3YWl0IHRoaXMuYW5hbHl0aWNzZGF0YS5wcm9wZXJ0aWVzXG4gICAgICAgIC5ydW5SZXBvcnQoe1xuICAgICAgICAgIHByb3BlcnR5LFxuICAgICAgICAgIGRhdGVSYW5nZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc3RhcnREYXRlOiBzdGFydERhdGUsXG4gICAgICAgICAgICAgIGVuZERhdGU6IGVuZERhdGUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgICAgbWV0cmljczogbWV0cmljcyxcbiAgICAgICAgICBkaW1lbnNpb25zOiBkaW1lbnNpb25zLFxuICAgICAgICAgIG1ldHJpY0FnZ3JlZ2F0aW9uczogW1wiVE9UQUxcIl0sXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGU7XG4gICAgICAgIH0pO1xuXG4gICAgICAvLyBpZiAob3B0aW9ucy5mb3JtYXQgPT09IFwiY2hhcnRfZGF0YVwiKSB7XG4gICAgICByZXR1cm4gcGFyc2VSZXBvcnRBc0NoYXJ0RGF0YShbcmVwb3J0c10pO1xuICAgICAgLy8gfVxuXG4gICAgICAvLyByZXR1cm4gcmVwb3J0cztcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZXJyb3JIYW5kbGVyKGVycm9yLCB7XG4gICAgICAgIG1ldGhvZDogXCJxdWVyeVJlcG9ydFwiLFxuICAgICAgICBhcmdzOiBbcHJvcGVydHksIG9wdGlvbnNdLFxuICAgICAgfSk7XG4gICAgICAvLyAgIGNvbnNvbGUubG9nKFwicmVzXCIsIHJlcyk7XG4gICAgICAvLyAgIHRocm93IHJlcztcbiAgICB9XG4gIH1cblxuICBhc3luYyBsaXN0QWNjb3VudHMoKSB7XG4gICAgY29uc29sZS5sb2coXCIgdGhpcy5hbmFseXRpY3NhZG1pblwiLCB0aGlzLmFuYWx5dGljc2FkbWluKTtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5hbmFseXRpY3NhZG1pbi5hY2NvdW50U3VtbWFyaWVzXG4gICAgICAubGlzdCgpXG4gICAgICAudGhlbigoZSkgPT4gZS5yZXN1bHQuYWNjb3VudFN1bW1hcmllcylcbiAgICAgIC5jYXRjaChhc3luYyAoZSkgPT4ge1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmVycm9ySGFuZGxlcihlLCB7XG4gICAgICAgICAgbWV0aG9kOiBcImxpc3RBY2NvdW50c1wiLFxuICAgICAgICAgIGFyZ3M6IFtdLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc29sZS5sb2coXCJyZXNcIiwgcmVzKTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgIH0pO1xuICB9XG5cbiAgc2V0QWNjZXNzVG9rZW4oKSB7XG4gICAgY29uc3QgeyBhY2Nlc3NfdG9rZW4gfSA9IHN0b3JhZ2VTZXJ2aWNlLmdldEdvb2dsZUxvZ2luUmVzcG9uc2UoKSB8fCB7fTtcbiAgICB0aGlzLmdhcGkuY2xpZW50LnNldFRva2VuKHtcbiAgICAgIGFjY2Vzc190b2tlbjogYWNjZXNzX3Rva2VuLFxuICAgIH0pO1xuICAgIHRoaXMuZ2FwaS5hdXRoLnNldFRva2VuKHtcbiAgICAgIGFjY2Vzc190b2tlbjogYWNjZXNzX3Rva2VuLFxuICAgIH0pO1xuICB9XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuaW1wb3J0IGh0dHBDbGllbnQgZnJvbSBcIkBzcmMvZGVwcy9odHRwLWNsaWVudFwiO1xuaW1wb3J0IGxvY2FsU3RvcmFnZVNlcnZpY2UgZnJvbSBcIi4vc3RvcmFnZS5zZXJ2aWNlXCI7XG5cbmNvbnN0IGhlYWRlcnMgPSB7IEFjY2VwdDogXCJhcHBsaWNhdGlvbi9qc29uXCIgfTtcblxuLy8gYXV0aFxuZXhwb3J0IGNvbnN0IHNpZ25JbldpdGhHb29nbGUgPSAoe1xuICByZXF1ZXN0Q29kZSA9IGZhbHNlLFxuICBjbGllbnRJZCxcbiAgc2NvcGUsXG4gIGFjY2Vzc1Rva2VuU2VydmVyVXJsXG59OiB7XG4gIGNsaWVudElkOiBzdHJpbmc7XG4gIHNjb3BlOiBzdHJpbmdbXTtcbiAgcmVxdWVzdENvZGU6IGJvb2xlYW47XG4gIGFjY2Vzc1Rva2VuU2VydmVyVXJsOiBzdHJpbmdcbn0pID0+IHtcbiAgLy8gICBjb25zb2xlLmxvZyhcIm9iamVjdCA6Pj4gXCIsIGdvb2dsZUF1dGhTY29wZXMpO1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPSB1bmRlZmluZWQgJiYgd2luZG93Py5nb29nbGUpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgZ29vZ2xlQWNjb3VudHMgPSB3aW5kb3cuZ29vZ2xlLmFjY291bnRzO1xuICAgICAgY29uc3QgY2xpZW50ID0gZ29vZ2xlQWNjb3VudHMub2F1dGgyLmluaXRDb2RlQ2xpZW50KHtcbiAgICAgICAgY2xpZW50X2lkOiBjbGllbnRJZCxcbiAgICAgICAgc2NvcGU6IHNjb3BlLFxuICAgICAgICB1eF9tb2RlOiBcInBvcHVwXCIsXG4gICAgICAgIGluY2x1ZGVfZ3JhbnRlZF9zY29wZXM6IHRydWUsXG4gICAgICAgIGFjY2Vzc190eXBlOiBcIm9mZmxpbmVcIixcbiAgICAgICAgY2FsbGJhY2s6IGFzeW5jIChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwicmVzcG9uc2VcIiwgcmVzcG9uc2UpO1xuICAgICAgICAgIGF3YWl0IGdldEFjY2Vzc1Rva2VuRnJvbVNlcnZlcih7IC4uLnJlc3BvbnNlLCBzZXJ2ZXJVcmw6IGFjY2Vzc1Rva2VuU2VydmVyVXJsIH0pXG4gICAgICAgICAgICAudGhlbigoZSkgPT4ge1xuICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnNldEdvb2dsZUxvZ2luUmVzcG9uc2UoZS5kYXRhKVxuICAgICAgICAgICAgICByZXNvbHZlKGUuZGF0YSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKGUpID0+IHJlamVjdChlKSk7XG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICAgIGlmIChyZXF1ZXN0Q29kZSkgY2xpZW50LnJlcXVlc3RDb2RlKCk7XG4gICAgfSk7XG4gIH1cbn07XG5cbmFzeW5jIGZ1bmN0aW9uIGdldEFjY2Vzc1Rva2VuRnJvbVNlcnZlcih7IGNvZGUsIHNlcnZlclVybCB9KSB7XG4gIGNvbnN0IHNlcnZlclJlc3BvbnNlID0gYXdhaXQgaHR0cENsaWVudC5wb3N0KFxuICAgIHNlcnZlclVybCxcbiAgICB7XG4gICAgICBjb2RlLFxuICAgICAgcmVkaXJlY3RVcmk6IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIiArIHdpbmRvdy5sb2NhdGlvbi5ob3N0LFxuICAgIH0sXG4gICAgeyBoZWFkZXJzIH1cbiAgKTtcblxuICByZXR1cm4gc2VydmVyUmVzcG9uc2UgYXMgeyBkYXRhOiBhbnkgfTtcbn1cblxuLy8gcmVwb3J0c1xuZnVuY3Rpb24gcHJlUGFyc2VSZXBvcnRSZXF1ZXN0UmVzdWx0KHJlc3VsdCkge1xuICBsZXQge1xuICAgIHJlc3VsdDogeyBtZXRyaWNIZWFkZXJzID0gW10sIGRpbWVuc2lvbkhlYWRlcnMgPSBbXSwgcm93cyA9IFtdLCB0b3RhbHMgfSxcbiAgfSA9IHJlc3VsdFswXTtcbiAgLy8gICBkaW1lbnNpb25IZWFkZXJzID0gZGltZW5zaW9uSGVhZGVycy5tYXAoKGUpID0+IHJlcGxhY2VJblN0cmluZyhlLCBcImdhOlwiLCBcIlwiKSk7XG4gIC8vICAgbWV0cmljSGVhZGVycyA9IG1ldHJpY0hlYWRlcnMubWFwKChlKSA9PiB7XG4gIC8vICAgICByZXR1cm4ge1xuICAvLyAgICAgICAuLi5lLFxuICAvLyAgICAgICBuYW1lOiByZXBsYWNlSW5TdHJpbmcoZS5uYW1lLCBcImdhOlwiLCBcIlwiKSxcbiAgLy8gICAgIH07XG4gIC8vICAgfSk7XG5cbiAgY29uc3QgcHJlQ2xlYW5lZFJvd3MgPSByb3dzLm1hcCgocm93KSA9PiB7XG4gICAgbGV0IHsgZGltZW5zaW9uVmFsdWVzID0gW10sIG1ldHJpY1ZhbHVlcyA9IFtdIH0gPSByb3c7XG4gICAgZGltZW5zaW9uVmFsdWVzID0gZGltZW5zaW9uVmFsdWVzLm1hcCgoZSwgaSkgPT4gKHtcbiAgICAgIC4uLmRpbWVuc2lvbkhlYWRlcnNbaV0sXG4gICAgICAuLi5lLFxuICAgIH0pKTtcbiAgICBtZXRyaWNWYWx1ZXMgPSBtZXRyaWNWYWx1ZXMubWFwKChlLCBpKSA9PiAoe1xuICAgICAgLi4ubWV0cmljSGVhZGVyc1tpXSxcbiAgICAgIC4uLmUsXG4gICAgfSkpO1xuICAgIHJldHVybiB7IGRpbWVuc2lvblZhbHVlcywgbWV0cmljVmFsdWVzIH07XG4gICAgLy8gcmV0dXJuIHsgW2RpbWVuc2lvbnNbXV06IGRpbWVuc2lvbnNbMF0sIHZhbHVlOiBtZXRyaWNzWzBdLnZhbHVlc1swXSB9O1xuICB9KTtcblxuICBjb25zdCBtZXRyaWNzVG90YWxzID0gbWV0cmljSGVhZGVycy5yZWR1Y2UoKGFjYywgY3VyciwgY3VycmVudEluZGV4KSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLmFjYyxcbiAgICAgIFtjdXJyLm5hbWVdOiB0b3RhbHNbMF0/Lm1ldHJpY1ZhbHVlc1tjdXJyZW50SW5kZXhdPy52YWx1ZSB8fCAwLFxuICAgIH07XG4gIH0sIHt9KTtcbiAgcmV0dXJuIHtcbiAgICBtZXRyaWNzOiBtZXRyaWNIZWFkZXJzLFxuICAgIGRpbWVuc2lvbnM6IGRpbWVuc2lvbkhlYWRlcnMsXG4gICAgcm93czogcHJlQ2xlYW5lZFJvd3MsXG4gICAgbWV0cmljc1RvdGFsczogbWV0cmljc1RvdGFscyxcbiAgfTtcbiAgLy8gICBjb25zb2xlLmxvZyhcImRpbWVuc2lvbnNcIiwgcHJlQ2xlYW5lZFJvd3MpO1xufVxuXG5mdW5jdGlvbiBnZXRDaGFydERhdGFQZXJEaW1lbnNpb25zKG9wdGlvbnMpIHtcbiAgY29uc3QgeyBkYXRhOiBwcm92aWRlZERhdGEsIGRpbWVuc2lvbiB9ID0gb3B0aW9ucztcbiAgY29uc3QgeyByb3dzLCBkaW1lbnNpb25zLCBtZXRyaWNzLCBtZXRyaWNzVG90YWxzIH0gPSBwcm92aWRlZERhdGE7XG4gIGlmICghZGltZW5zaW9ucy5pbmNsdWRlcyhkaW1lbnNpb24pKSByZXR1cm4gcHJvdmlkZWREYXRhO1xuICBjb25zdCBkaW1lbnNpb25JbmRleCA9IGRpbWVuc2lvbnMuaW5kZXhPZihkaW1lbnNpb24pO1xuXG4gIGNvbnN0IGRhdGEgPSByb3dzLm1hcCgocm93KSA9PiB7XG4gICAgY29uc3QgeyBkaW1lbnNpb25WYWx1ZXMsIG1ldHJpY1ZhbHVlcyB9ID0gcm93O1xuICAgIGNvbnN0IHZhbHVlcyA9IG1ldHJpY1ZhbHVlcy5yZWR1Y2UoKHJlc3VsdCwgY3VycmVudCkgPT4ge1xuICAgICAgcmV0dXJuIHsgLi4ucmVzdWx0LCBbY3VycmVudC5uYW1lXTogY3VycmVudC52YWx1ZSB9O1xuICAgIH0sIHt9KTtcbiAgICByZXR1cm4geyBuYW1lOiBkaW1lbnNpb25WYWx1ZXNbZGltZW5zaW9uSW5kZXhdLnZhbHVlLCAuLi52YWx1ZXMgfTtcbiAgfSk7XG5cbiAgLy8gICBjb25zb2xlLmxvZygnbWV0cmljc1RvdGFscyA6Pj4gJywgbWV0cmljc1RvdGFscyk7XG4gIGxldCB0b3RhbHMgPSB7fTtcbiAgbWV0cmljcy5mb3JFYWNoKCh7IG5hbWUgfSwgaSkgPT4ge1xuICAgIC8vIHRvdGFsc1tuYW1lXSA9IG1ldHJpY3NUb3RhbHNbaV0/LnZhbHVlXG4gICAgdG90YWxzW25hbWVdID0gZGF0YS5yZWR1Y2UoKGFjYywgY3VycikgPT4ge1xuICAgICAgbGV0IG91dHB1dCA9IGFjYztcbiAgICAgIC8vICAgIGNvbnNvbGUubG9nKCdjdXJyW2tleV0nLCBuYW1lLGN1cnJbbmFtZV0pXG4gICAgICBpZiAoY3VycltuYW1lXSkgb3V0cHV0ICs9IHBhcnNlSW50KGN1cnJbbmFtZV0pO1xuICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9LCAwKTtcbiAgfSk7XG4gIHJldHVybiB7IGRhdGEsIHRvdGFscyB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VSZXBvcnRBc0NoYXJ0RGF0YShyZXBvcnRzKSB7XG4gIGNvbnN0IHByZVBhcnNlZERhdGEgPSBwcmVQYXJzZVJlcG9ydFJlcXVlc3RSZXN1bHQocmVwb3J0cyk7XG4gIC8vICAgY29uc29sZS5sb2coJ3ByZVBhcnNlZERhdGEnLCBwcmVQYXJzZWREYXRhKVxuICBsZXQgeyByb3dzLCBkaW1lbnNpb25zLCBtZXRyaWNzVG90YWxzIH0gPSBwcmVQYXJzZWREYXRhO1xuXG4gIGRpbWVuc2lvbnMgPSBkaW1lbnNpb25zLnJlZHVjZSgoYWNjLCBpdGVtKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLmFjYyxcbiAgICAgIFtpdGVtLm5hbWVdOiBnZXRDaGFydERhdGFQZXJEaW1lbnNpb25zKHtcbiAgICAgICAgZGF0YTogcHJlUGFyc2VkRGF0YSxcbiAgICAgICAgZGltZW5zaW9uOiBpdGVtLFxuICAgICAgfSksXG4gICAgfTtcbiAgfSwge30pO1xuXG4gIHJldHVybiB7IGRpbWVuc2lvbnMsIG1ldHJpY3NUb3RhbHMgfTtcbn1cblxuLy8gb3RoZXJzXG5mdW5jdGlvbiByZXBsYWNlSW5TdHJpbmcoc3RyLCByZXBsYWNlLCBieSkge1xuICByZXR1cm4gc3RyLnJlcGxhY2UocmVwbGFjZSwgYnkpO1xufVxuZnVuY3Rpb24gcmVtb3ZlUGFydE9mU3RyaW5nKHN0ciwgdG9CZVJlbW92ZWQpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKHRvQmVSZW1vdmVkLCBcIlwiKTtcbn1cblxuLy8gZGF0ZVxuZXhwb3J0IGZ1bmN0aW9uIGdhRGF0ZVRvSlNEYXRlKGRhdGUsIGNvbmZpZ3MgPSB7IHRvTG9jYWxlRGF0ZVN0cmluZzogbnVsbCB9KSB7XG4gIGNvbnN0IHsgdG9Mb2NhbGVEYXRlU3RyaW5nIH0gPSBjb25maWdzO1xuICBpZiAoIWRhdGUgfHwgZGF0ZS5sZW5ndGggPCA4KSByZXR1cm4gZGF0ZTtcblxuICBjb25zdCB5ZWFyID0gZGF0ZS5zbGljZSgwLCA0KTtcbiAgY29uc3QgbW9udGggPSBkYXRlLnNsaWNlKDQsIDYpO1xuICBjb25zdCBkYXkgPSBkYXRlLnNsaWNlKDYsIDgpO1xuXG4gIGNvbnN0IGpzRGF0ZSA9IG5ldyBEYXRlKGAke3llYXJ9LyR7bW9udGh9LyR7ZGF5fWApO1xuXG4gIGlmICh0b0xvY2FsZURhdGVTdHJpbmcpIHtcbiAgICBjb25zdCB7IGxvY2FsZSwgb3B0aW9ucyB9ID0gdG9Mb2NhbGVEYXRlU3RyaW5nO1xuICAgIHJldHVybiBqc0RhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKGxvY2FsZSwgb3B0aW9ucyk7XG4gIH1cblxuICByZXR1cm4ganNEYXRlO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHNpZ25JbldpdGhHb29nbGUsXG4gIGdldEFjY2Vzc1Rva2VuRnJvbVNlcnZlcixcbiAgcGFyc2VSZXBvcnRBc0NoYXJ0RGF0YSxcbiAgZ2FEYXRlVG9KU0RhdGUsXG59O1xuIiwiaW1wb3J0IHtcbiAgQW5hbHl0aWNzQ2xpZW50QmFzZUNsYXNzLFxuICBUR2V0RXZlbnRDb3VudFBhcmFtcyxcbiAgVEdldFZpc2l0c1BhcmFtcyxcbiAgVFBlcmlvZCxcbn0gZnJvbSBcIkBzcmMvdHlwZXNcIjtcbmltcG9ydCB7IEdhcGlBbmFseXRpY3NTZXJ2aWNlIH0gZnJvbSBcIi4vYW5hbHl0aWNzL2dhcGkuYW5hbHl0aWNzLnNlcnZpY2VcIjtcbmltcG9ydCB7IEdhcGlJbml0aWFsaXphdGlvblBhcmFtcyB9IGZyb20gXCIuL3R5cGVzXCI7XG5pbXBvcnQgeyBjaGVja1BlcmlvZCB9IGZyb20gXCJAc3JjL3V0aWxzXCI7XG5cbmZ1bmN0aW9uIGNvbnZlcnRFdmVudFRvR0E0RXZlbnQoZXZlbnRzOiBUR2V0RXZlbnRDb3VudFBhcmFtc1tcImV2ZW50c1wiXSkge1xuICBjb25zdCBnYTRFdmVudCA9IGV2ZW50cy5tYXAoKGV2KSA9PiB7XG4gICAgY29uc3QgeyBuYW1lLCBtZXRhOiB7IGdhNCB9ID0ge30gfSA9IGV2O1xuICAgIGlmIChnYTQpIHtcbiAgICAgIGlmIChnYTQuY29udmVyc2lvbikgcmV0dXJuIGBjb252ZXJzaW9uczoke25hbWV9YDtcbiAgICB9XG4gICAgcmV0dXJuIG5hbWU7XG4gIH0pO1xuXG4gIHJldHVybiBnYTRFdmVudDtcbn1cblxuZnVuY3Rpb24gZ2V0R0E0RGF0ZUZyb21QZXJpb2QocGVyaW9kOiBUUGVyaW9kKSB7XG4gIGNoZWNrUGVyaW9kKHBlcmlvZCk7XG4gIGNvbnN0IHsgZm9ybWF0LCBtYWdpY1ZhbHVlLCB2YWx1ZSB9ID0gcGVyaW9kO1xuICBpZiAoZm9ybWF0ID09PSBcIm1hZ2ljXCIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3RhcnREYXRlOiBtYWdpY1ZhbHVlICsgXCJkYXlzQWdvXCIsXG4gICAgICBlbmREYXRlOiBcInRvZGF5XCIsXG4gICAgfTtcbiAgfVxuICBpZiAoZm9ybWF0ID09PSBcImRhdGVcIikge1xuICAgIHJldHVybiB7XG4gICAgICBzdGFydERhdGU6IHZhbHVlLnN0YXJ0LFxuICAgICAgZW5kRGF0ZTogdmFsdWUuZW5kIHx8IFwidG9kYXlcIixcbiAgICB9O1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBHQTRDbGllbnRGYWNhZGUgZXh0ZW5kcyBBbmFseXRpY3NDbGllbnRCYXNlQ2xhc3Mge1xuICBnYXBpU2VydmljZSE6IEdhcGlBbmFseXRpY3NTZXJ2aWNlO1xuICBpbml0aWFsaXNhdGlvbnNQYXJhbXMhOiBHYXBpSW5pdGlhbGl6YXRpb25QYXJhbXM7XG5cbiAgY29uc3RydWN0b3Iob3B0aW9uczogR2FwaUluaXRpYWxpemF0aW9uUGFyYW1zKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmluaXRpYWxpc2F0aW9uc1BhcmFtcyA9IG9wdGlvbnNcbiAgICB0aGlzLmdhcGlTZXJ2aWNlID0gbmV3IEdhcGlBbmFseXRpY3NTZXJ2aWNlKG9wdGlvbnMpO1xuICB9XG5cbiAgYXN5bmMgbGlzdEFjY291bnRzKCkge1xuICAgIGlmICghdGhpcy5nYXBpU2VydmljZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIkdBNCBjbGllbnQgaXNuJ3QgaW5pdGlhbGl6ZWQgY29ycmVjdGx5LiBQbGVhc2UgbWFrZSBzdXJlIHRoZSBhY3RpdmUgY2xpZW50IGlzIEdBNFwiXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuZ2FwaVNlcnZpY2UuZ2FwaUlzU2NyaXB0QXJlQWxsRG93bmxvYWRlZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIkdhcGkgc2NyaXB0IGFyZSBzdGlsbCBsb2FkaW5nLiBQTGVhc2UgcmV0cnkuXCJcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2FwaVNlcnZpY2UubGlzdEFjY291bnRzKCk7XG4gIH1cblxuICBhc3luYyBnZXRWaXNpdHNQZXJQZXJpb2QoZGF0YTogVEdldFZpc2l0c1BhcmFtcyk6IFByb21pc2U8YW55PiB7XG4gICAgY29uc3QgeyBwZXJpb2QsIGdhNDogeyBwcm9wZXJ0eSwgZm9ybWF0IH0gPSB7fSB9ID0gZGF0YTtcbiAgICB0aGlzLmNoZWNrUHJvcGVydHkocHJvcGVydHkpO1xuICAgIGxldCBvcHRpb25zID0ge1xuICAgICAgZGltZW5zaW9uczogW1wiZGF0ZVwiXSxcbiAgICAgIG1ldHJpY3M6IFtcbiAgICAgICAgXCJzZXNzaW9uc1wiLFxuICAgICAgICBcIm5ld1VzZXJzXCIsXG4gICAgICAgIFwic2NyZWVuUGFnZVZpZXdzXCIsXG4gICAgICAgIFwiYXZlcmFnZVNlc3Npb25EdXJhdGlvblwiLFxuICAgICAgXSxcbiAgICAgIC4uLmdldEdBNERhdGVGcm9tUGVyaW9kKHBlcmlvZCksXG4gICAgICBmb3JtYXQsXG4gICAgfTtcblxuICAgIHJldHVybiBhd2FpdCB0aGlzLmdhcGlTZXJ2aWNlLnF1ZXJ5UmVwb3J0KHByb3BlcnR5LCBvcHRpb25zKTtcbiAgfVxuXG4gIGFzeW5jIGdldEV2ZW50Q291bnQoZGF0YTogVEdldEV2ZW50Q291bnRQYXJhbXMpOiBQcm9taXNlPGFueT4ge1xuICAgIGNvbnN0IHsgZXZlbnRzLCBwZXJpb2QsIGdhNDogeyBwcm9wZXJ0eSwgZm9ybWF0IH0gPSB7fSB9ID0gZGF0YTtcbiAgICB0aGlzLmNoZWNrUHJvcGVydHkocHJvcGVydHkpO1xuXG4gICAgY29uc3QgbWV0cmljcyA9IGNvbnZlcnRFdmVudFRvR0E0RXZlbnQoZXZlbnRzKTtcbiAgICBsZXQgb3B0aW9ucyA9IHtcbiAgICAgIGRpbWVuc2lvbnM6IFtdLFxuICAgICAgbWV0cmljcyxcbiAgICAgIC4uLmdldEdBNERhdGVGcm9tUGVyaW9kKHBlcmlvZCksXG4gICAgICBmb3JtYXQsXG4gICAgfTtcblxuICAgIHJldHVybiBhd2FpdCB0aGlzLmdhcGlTZXJ2aWNlXG4gICAgICAucXVlcnlSZXBvcnQocHJvcGVydHksIG9wdGlvbnMpXG4gICAgICAudGhlbigoZTogYW55KSA9PiB7XG4gICAgICAgIGNvbnN0IHRvdGFscyA9IGU/Lm1ldHJpY3NUb3RhbHMgfHwge307XG4gICAgICAgIGNvbnNvbGUubG9nKCd0b3RhbHMnLCB0b3RhbHMsIG1ldHJpY3MpXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbWV0cmljcy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICBjb25zdCBlbCA9IGV2ZW50cy5tYXAoZT0+ZS5uYW1lKVtpbmRleF07XG4gICAgICAgICAgcmVzdWx0W2VsXSA9IHRvdGFsc1ttZXRyaWNzW2luZGV4XV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBjaGVja1Byb3BlcnR5KHByb3BlcnR5OiBzdHJpbmcgfCB1bmRlZmluZWQpIHtcbiAgICBpZiAoIXByb3BlcnR5KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJnYTRQcm9wcGVydHlJRCBpcyByZXF1aXJlZFwiKTtcbiAgICB9XG4gIH1cbn1cbiIsIi8qISBqcy1jb29raWUgdjMuMC41IHwgTUlUICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby12YXIgKi9cbmZ1bmN0aW9uIGFzc2lnbiAodGFyZ2V0KSB7XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdGFyZ2V0XG59XG4vKiBlc2xpbnQtZW5hYmxlIG5vLXZhciAqL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby12YXIgKi9cbnZhciBkZWZhdWx0Q29udmVydGVyID0ge1xuICByZWFkOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBpZiAodmFsdWVbMF0gPT09ICdcIicpIHtcbiAgICAgIHZhbHVlID0gdmFsdWUuc2xpY2UoMSwgLTEpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWUucmVwbGFjZSgvKCVbXFxkQS1GXXsyfSkrL2dpLCBkZWNvZGVVUklDb21wb25lbnQpXG4gIH0sXG4gIHdyaXRlOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKS5yZXBsYWNlKFxuICAgICAgLyUoMlszNDZCRl18M1tBQy1GXXw0MHw1W0JERV18NjB8N1tCQ0RdKS9nLFxuICAgICAgZGVjb2RlVVJJQ29tcG9uZW50XG4gICAgKVxuICB9XG59O1xuLyogZXNsaW50LWVuYWJsZSBuby12YXIgKi9cblxuLyogZXNsaW50LWRpc2FibGUgbm8tdmFyICovXG5cbmZ1bmN0aW9uIGluaXQgKGNvbnZlcnRlciwgZGVmYXVsdEF0dHJpYnV0ZXMpIHtcbiAgZnVuY3Rpb24gc2V0IChuYW1lLCB2YWx1ZSwgYXR0cmlidXRlcykge1xuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBhdHRyaWJ1dGVzID0gYXNzaWduKHt9LCBkZWZhdWx0QXR0cmlidXRlcywgYXR0cmlidXRlcyk7XG5cbiAgICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMuZXhwaXJlcyA9PT0gJ251bWJlcicpIHtcbiAgICAgIGF0dHJpYnV0ZXMuZXhwaXJlcyA9IG5ldyBEYXRlKERhdGUubm93KCkgKyBhdHRyaWJ1dGVzLmV4cGlyZXMgKiA4NjRlNSk7XG4gICAgfVxuICAgIGlmIChhdHRyaWJ1dGVzLmV4cGlyZXMpIHtcbiAgICAgIGF0dHJpYnV0ZXMuZXhwaXJlcyA9IGF0dHJpYnV0ZXMuZXhwaXJlcy50b1VUQ1N0cmluZygpO1xuICAgIH1cblxuICAgIG5hbWUgPSBlbmNvZGVVUklDb21wb25lbnQobmFtZSlcbiAgICAgIC5yZXBsYWNlKC8lKDJbMzQ2Ql18NUV8NjB8N0MpL2csIGRlY29kZVVSSUNvbXBvbmVudClcbiAgICAgIC5yZXBsYWNlKC9bKCldL2csIGVzY2FwZSk7XG5cbiAgICB2YXIgc3RyaW5naWZpZWRBdHRyaWJ1dGVzID0gJyc7XG4gICAgZm9yICh2YXIgYXR0cmlidXRlTmFtZSBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICBpZiAoIWF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV0pIHtcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgc3RyaW5naWZpZWRBdHRyaWJ1dGVzICs9ICc7ICcgKyBhdHRyaWJ1dGVOYW1lO1xuXG4gICAgICBpZiAoYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXSA9PT0gdHJ1ZSkge1xuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICAvLyBDb25zaWRlcnMgUkZDIDYyNjUgc2VjdGlvbiA1LjI6XG4gICAgICAvLyAuLi5cbiAgICAgIC8vIDMuICBJZiB0aGUgcmVtYWluaW5nIHVucGFyc2VkLWF0dHJpYnV0ZXMgY29udGFpbnMgYSAleDNCIChcIjtcIilcbiAgICAgIC8vICAgICBjaGFyYWN0ZXI6XG4gICAgICAvLyBDb25zdW1lIHRoZSBjaGFyYWN0ZXJzIG9mIHRoZSB1bnBhcnNlZC1hdHRyaWJ1dGVzIHVwIHRvLFxuICAgICAgLy8gbm90IGluY2x1ZGluZywgdGhlIGZpcnN0ICV4M0IgKFwiO1wiKSBjaGFyYWN0ZXIuXG4gICAgICAvLyAuLi5cbiAgICAgIHN0cmluZ2lmaWVkQXR0cmlidXRlcyArPSAnPScgKyBhdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdLnNwbGl0KCc7JylbMF07XG4gICAgfVxuXG4gICAgcmV0dXJuIChkb2N1bWVudC5jb29raWUgPVxuICAgICAgbmFtZSArICc9JyArIGNvbnZlcnRlci53cml0ZSh2YWx1ZSwgbmFtZSkgKyBzdHJpbmdpZmllZEF0dHJpYnV0ZXMpXG4gIH1cblxuICBmdW5jdGlvbiBnZXQgKG5hbWUpIHtcbiAgICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJyB8fCAoYXJndW1lbnRzLmxlbmd0aCAmJiAhbmFtZSkpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIFRvIHByZXZlbnQgdGhlIGZvciBsb29wIGluIHRoZSBmaXJzdCBwbGFjZSBhc3NpZ24gYW4gZW1wdHkgYXJyYXlcbiAgICAvLyBpbiBjYXNlIHRoZXJlIGFyZSBubyBjb29raWVzIGF0IGFsbC5cbiAgICB2YXIgY29va2llcyA9IGRvY3VtZW50LmNvb2tpZSA/IGRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOyAnKSA6IFtdO1xuICAgIHZhciBqYXIgPSB7fTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvb2tpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBwYXJ0cyA9IGNvb2tpZXNbaV0uc3BsaXQoJz0nKTtcbiAgICAgIHZhciB2YWx1ZSA9IHBhcnRzLnNsaWNlKDEpLmpvaW4oJz0nKTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIGZvdW5kID0gZGVjb2RlVVJJQ29tcG9uZW50KHBhcnRzWzBdKTtcbiAgICAgICAgamFyW2ZvdW5kXSA9IGNvbnZlcnRlci5yZWFkKHZhbHVlLCBmb3VuZCk7XG5cbiAgICAgICAgaWYgKG5hbWUgPT09IGZvdW5kKSB7XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9XG5cbiAgICByZXR1cm4gbmFtZSA/IGphcltuYW1lXSA6IGphclxuICB9XG5cbiAgcmV0dXJuIE9iamVjdC5jcmVhdGUoXG4gICAge1xuICAgICAgc2V0LFxuICAgICAgZ2V0LFxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiAobmFtZSwgYXR0cmlidXRlcykge1xuICAgICAgICBzZXQoXG4gICAgICAgICAgbmFtZSxcbiAgICAgICAgICAnJyxcbiAgICAgICAgICBhc3NpZ24oe30sIGF0dHJpYnV0ZXMsIHtcbiAgICAgICAgICAgIGV4cGlyZXM6IC0xXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICB3aXRoQXR0cmlidXRlczogZnVuY3Rpb24gKGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgcmV0dXJuIGluaXQodGhpcy5jb252ZXJ0ZXIsIGFzc2lnbih7fSwgdGhpcy5hdHRyaWJ1dGVzLCBhdHRyaWJ1dGVzKSlcbiAgICAgIH0sXG4gICAgICB3aXRoQ29udmVydGVyOiBmdW5jdGlvbiAoY29udmVydGVyKSB7XG4gICAgICAgIHJldHVybiBpbml0KGFzc2lnbih7fSwgdGhpcy5jb252ZXJ0ZXIsIGNvbnZlcnRlciksIHRoaXMuYXR0cmlidXRlcylcbiAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgIGF0dHJpYnV0ZXM6IHsgdmFsdWU6IE9iamVjdC5mcmVlemUoZGVmYXVsdEF0dHJpYnV0ZXMpIH0sXG4gICAgICBjb252ZXJ0ZXI6IHsgdmFsdWU6IE9iamVjdC5mcmVlemUoY29udmVydGVyKSB9XG4gICAgfVxuICApXG59XG5cbnZhciBhcGkgPSBpbml0KGRlZmF1bHRDb252ZXJ0ZXIsIHsgcGF0aDogJy8nIH0pO1xuLyogZXNsaW50LWVuYWJsZSBuby12YXIgKi9cblxuZXhwb3J0IHsgYXBpIGFzIGRlZmF1bHQgfTtcbiIsImltcG9ydCBjb29raWVzIGZyb20gXCJqcy1jb29raWVcIjtcblxuY2xhc3MgQ29va2llc1N0b3JhZ2Uge1xuICBzdG9yYWdlID0gY29va2llcztcblxuICBzZXQoa2V5OiBzdHJpbmcsIHZhbHVlOiBhbnksIG9wdGlvbnM/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9KSB7XG4gICAgdmFsdWUgPSBvcHRpb25zICYmIG9wdGlvbnMuaXNPYmplY3QgPyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkgOiB2YWx1ZTtcbiAgICByZXR1cm4gdGhpcy5zdG9yYWdlLnNldChrZXksIHZhbHVlKTtcbiAgfVxuICBnZXQoa2V5KSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBKU09OLnBhcnNlKHRoaXMuc3RvcmFnZS5nZXQoa2V5KSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0b3JhZ2UuZ2V0KGtleSk7XG4gICAgfVxuICB9XG5cbiAgcmVtb3ZlKGtleSkge1xuICAgIHRoaXMuc3RvcmFnZS5yZW1vdmUoa2V5KVxuICB9XG59XG5jbGFzcyBMb2NhbFN0b3JhZ2VTZXJ2aWNlIHtcbiAgLy8gc3RvcmFnZSA9IG5ldyBMb2NhbFN0b3JhZ2UoKTtcbiAgc3RvcmFnZSA9IG5ldyBDb29raWVzU3RvcmFnZSgpO1xuXG4gIC8vIGtleXNcbiAga2V5X0dvb2dsZUxvZ2luUmVzcG9uc2U6IHN0cmluZyA9IFwia2V5X0dvb2dsZUxvZ2luUmVzcG9uc2VcIjtcblxuICBzZXRHb29nbGVMb2dpblJlc3BvbnNlKGRhdGEpIHtcbiAgICB0aGlzLnN0b3JhZ2Uuc2V0KHRoaXMua2V5X0dvb2dsZUxvZ2luUmVzcG9uc2UsIEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcbiAgfVxuXG4gIGdldEdvb2dsZUxvZ2luUmVzcG9uc2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RvcmFnZS5nZXQodGhpcy5rZXlfR29vZ2xlTG9naW5SZXNwb25zZSk7XG4gIH1cbiAgY2xlYXJHb29nbGVMb2dpblJlc3BvbnNlKCkge1xuICAgIHJldHVybiB0aGlzLnN0b3JhZ2UucmVtb3ZlKHRoaXMua2V5X0dvb2dsZUxvZ2luUmVzcG9uc2UpO1xuICB9XG59XG5cbmNvbnN0IGxvY2FsU3RvcmFnZVNlcnZpY2UgPSBuZXcgTG9jYWxTdG9yYWdlU2VydmljZSgpO1xuXG5leHBvcnQgZGVmYXVsdCBsb2NhbFN0b3JhZ2VTZXJ2aWNlO1xuIiwiaW1wb3J0IHtcbiAgRXZlbnRDYXRlZ29yeSxcbiAgTWF0b21vQVBJUmVzcG9uc2UsXG4gIE1hdG9tb01ldGhvZCxcbiAgTWF0b21vTWV0aG9kUGFyYW1zLFxuICBUTWF0b21vQ29uZmlnLFxufSBmcm9tIFwiLi4vdHlwZXNcIjtcbmltcG9ydCB7IEV2ZW50c01ldGhvZHMgfSBmcm9tIFwiLi9ldmVudHMvZXZlbnRcIjtcbmltcG9ydCB7IG1lcmdlRXZlbnRzUGVyQ2F0ZWdvcmllcyB9IGZyb20gXCIuL2V2ZW50cy9oZWxwZXJzXCI7XG5pbXBvcnQgaHR0cENsaWVudCBmcm9tIFwiQHNyYy9kZXBzL2h0dHAtY2xpZW50XCI7XG5cbmV4cG9ydCBjb25zdCBtYXRtb1NlZ21lbnRPcGVyYXRvcnMgPSB7XG4gIE9SOiBcIixcIixcbiAgQU5EOiBcIjtcIixcbn07XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXRvbW9DbGllbnRDb3JlIHtcbiAgbWF0b21vQ29uZmlncyE6IFRNYXRvbW9Db25maWc7XG4gIGNvbnN0cnVjdG9yKGRhdGE6IFRNYXRvbW9Db25maWcpIHtcbiAgICB0aGlzLmluaXRDb25maWcoZGF0YSk7XG4gIH1cblxuICBwcml2YXRlIGluaXRDb25maWcoZGF0YTogVE1hdG9tb0NvbmZpZykge1xuICAgIGNvbnNvbGUubG9nKFwiZGF0YVwiLCBkYXRhKTtcbiAgICB0aGlzLm1hdG9tb0NvbmZpZ3MgPSBkYXRhO1xuICB9XG5cbiAgY3JlYXRlTWF0b21vQVBJUmVxdWVzdChtZXRob2Q6IHN0cmluZyk6IE1hdG9tb01ldGhvZCB7XG4gICAgcmV0dXJuIGFzeW5jIChwYXJhbXM6IE1hdG9tb01ldGhvZFBhcmFtcykgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKCF0aGlzLm1hdG9tb0NvbmZpZ3MpXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUGxlYXNlIHNldCBtYXRvbW8gY29uZmlncyBhbmQgcmV0cnlcIik7XG4gICAgICAgIGNvbnN0IGJhc2VVcmwgPSB0aGlzLm1hdG9tb0NvbmZpZ3MuYmFzZVVybDtcbiAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgbW9kdWxlOiBcIkFQSVwiLFxuICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICBpZFNpdGU6IHRoaXMubWF0b21vQ29uZmlncy5pZFNpdGUsXG4gICAgICAgICAgdG9rZW5fYXV0aDogdGhpcy5tYXRvbW9Db25maWdzLnRva2VuQXV0aCxcbiAgICAgICAgICBmb3JtYXQ6IFwianNvblwiLFxuICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGh0dHBDbGllbnQuZ2V0KGJhc2VVcmwsIHsgcGFyYW1zOiBxdWVyeVBhcmFtcyB9KTtcbiAgICAgICAgaWYgKHJlc3BvbnNlPy5kYXRhPy5yZXN1bHQgPT09IFwiZXJyb3JcIikgdGhyb3cgeyAuLi5yZXNwb25zZT8uZGF0YSB9O1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBtYWtpbmcgTWF0b21vIEFQSSByZXF1ZXN0OlwiLCBlcnJvcik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBhc3luYyBnZXRFdmVudHNDYXRlZ29yeShcbiAgICBwYXJhbXM6IE1hdG9tb01ldGhvZFBhcmFtc1xuICApOiBQcm9taXNlPFJlY29yZDxzdHJpbmcsIEV2ZW50Q2F0ZWdvcnk+PiB7XG4gICAgY29uc3QgcmVxdWVzdCA9IHRoaXMuY3JlYXRlTWF0b21vQVBJUmVxdWVzdChFdmVudHNNZXRob2RzLmdldENhdGVnb3J5KTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXF1ZXN0KHBhcmFtcyk7XG4gICAgcmV0dXJuIG1lcmdlRXZlbnRzUGVyQ2F0ZWdvcmllcyhyZXN1bHQpO1xuICB9XG4gIGFzeW5jIGdldEV2ZW50c0FjdGlvbihcbiAgICBwYXJhbXM6IE1hdG9tb01ldGhvZFBhcmFtc1xuICApOiBQcm9taXNlPE1hdG9tb0FQSVJlc3BvbnNlPiB7XG4gICAgY29uc3QgcmVxdWVzdCA9IHRoaXMuY3JlYXRlTWF0b21vQVBJUmVxdWVzdChFdmVudHNNZXRob2RzLmdldEFjdGlvbik7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVxdWVzdChwYXJhbXMpO1xuICAgIHJldHVybiBtZXJnZUV2ZW50c1BlckNhdGVnb3JpZXMocmVzdWx0KTtcbiAgfVxuICBhc3luYyBnZXRFdmVudHNOYW1lKHBhcmFtczogTWF0b21vTWV0aG9kUGFyYW1zKTogUHJvbWlzZTxNYXRvbW9BUElSZXNwb25zZT4ge1xuICAgIGNvbnN0IHJlcXVlc3QgPSB0aGlzLmNyZWF0ZU1hdG9tb0FQSVJlcXVlc3QoRXZlbnRzTWV0aG9kcy5nZXROYW1lKTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXF1ZXN0KHBhcmFtcyk7XG4gICAgcmV0dXJuIG1lcmdlRXZlbnRzUGVyQ2F0ZWdvcmllcyhyZXN1bHQpO1xuICB9XG5cbn1cbiIsImltcG9ydCB7IE1hdG9tb01ldGhvZCB9IGZyb20gXCIuLi8uLi90eXBlc1wiO1xuaW1wb3J0IG1hdG9tb0NsaWVudENvcmUgZnJvbSBcIi4uL2NvcmVcIjtcblxuZXhwb3J0IGNvbnN0IEV2ZW50c01ldGhvZHMgPSB7XG4gIGdldENhdGVnb3J5OiBcIkV2ZW50cy5nZXRDYXRlZ29yeVwiLFxuICBnZXRBY3Rpb246IFwiRXZlbnRzLmdldEFjdGlvblwiLFxuICBnZXROYW1lOiBcIkV2ZW50cy5nZXROYW1lXCIsXG59O1xuZXhwb3J0IGNvbnN0IEV2ZW50c1NlZ21lbnRzID0ge1xuICBldmVudENhdGVnb3J5OiBcImV2ZW50Q2F0ZWdvcnlcIixcbn07XG5cbi8vIGV4cG9ydCBjb25zdCBnZXRFdmVudHNDYXRlZ29yeTogTWF0b21vTWV0aG9kID1cbi8vICAgbWF0b21vQ2xpZW50Q29yZS5jcmVhdGVNYXRvbW9BUElSZXF1ZXN0KGV2ZW50c05hbWVzLmdldENhdGVnb3J5KTtcbi8vIGV4cG9ydCBjb25zdCBnZXRFdmVudHNBY3Rpb246IE1hdG9tb01ldGhvZCA9XG4vLyAgIG1hdG9tb0NsaWVudENvcmUuY3JlYXRlTWF0b21vQVBJUmVxdWVzdChldmVudHNOYW1lcy5nZXRBY3Rpb24pO1xuLy8gZXhwb3J0IGNvbnN0IGdldEV2ZW50c05hbWU6IE1hdG9tb01ldGhvZCA9XG4vLyAgIG1hdG9tb0NsaWVudENvcmUuY3JlYXRlTWF0b21vQVBJUmVxdWVzdChldmVudHNOYW1lcy5nZXROYW1lKTtcbiIsImltcG9ydCB7IEV2ZW50Q2F0ZWdvcnkgfSBmcm9tIFwiQHNyYy9saWIvbWF0b21vL3R5cGVzXCI7XG5cbmV4cG9ydCBjb25zdCBtZXJnZUV2ZW50c1BlckNhdGVnb3JpZXMgPSAoXG4gICAgY2F0ZWdvcmllczogUmVjb3JkPHN0cmluZywgRXZlbnRDYXRlZ29yeVtdPlxuICApOiBSZWNvcmQ8c3RyaW5nLCBFdmVudENhdGVnb3J5PiA9PiB7XG4gICAgY29uc3QgbWVyZ2VkOiBSZWNvcmQ8c3RyaW5nLCBFdmVudENhdGVnb3J5PiA9IHt9O1xuXG4gICAgZm9yIChjb25zdCBkYXRlIGluIGNhdGVnb3JpZXMpIHtcbiAgICAgIGNvbnN0IGV2ZW50cyA9IGNhdGVnb3JpZXNbZGF0ZV07XG4gICAgICBmb3IgKGNvbnN0IGV2ZW50IG9mIGV2ZW50cykge1xuICAgICAgICBjb25zdCB7IGxhYmVsLCAuLi5yZXN0IH0gPSBldmVudDtcbiAgICAgICAgaWYgKG1lcmdlZFtsYWJlbF0pIHtcbiAgICAgICAgICBtZXJnZWRbbGFiZWxdID0ge1xuICAgICAgICAgICAgLi4ubWVyZ2VkW2xhYmVsXSxcbiAgICAgICAgICAgIC4uLnJlc3QsXG4gICAgICAgICAgICBuYl92aXNpdHM6IG1lcmdlZFtsYWJlbF0ubmJfdmlzaXRzICsgZXZlbnQubmJfdmlzaXRzLFxuICAgICAgICAgICAgbmJfZXZlbnRzOiBtZXJnZWRbbGFiZWxdLm5iX2V2ZW50cyArIGV2ZW50Lm5iX2V2ZW50cyxcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1lcmdlZFtsYWJlbF0gPSB7IC4uLnJlc3QgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBtZXJnZWQ7XG4gIH07IiwiaW1wb3J0IHtcbiAgQW5hbHl0aWNzQ2xpZW50QmFzZUNsYXNzLFxuICBUR2V0RXZlbnRDb3VudFBhcmFtcyxcbiAgVFBlcmlvZCxcbn0gZnJvbSBcIkBzcmMvdHlwZXNcIjtcbmltcG9ydCB7IE1hdG9tb01ldGhvZFBhcmFtcywgVE1hdG9tb0NvbmZpZyB9IGZyb20gXCIuL3R5cGVzXCI7XG5pbXBvcnQgTWF0b21vQ2xpZW50Q29yZSwgeyBtYXRtb1NlZ21lbnRPcGVyYXRvcnMgfSBmcm9tIFwiLi9hcGkvY29yZVwiO1xuaW1wb3J0IHsgY2hlY2tQZXJpb2QgfSBmcm9tIFwiQHNyYy91dGlsc1wiO1xuaW1wb3J0IHsgRXZlbnRzU2VnbWVudHMgfSBmcm9tIFwiLi9hcGkvZXZlbnRzL2V2ZW50XCI7XG5leHBvcnQgKiBmcm9tIFwiQHNyYy90eXBlc1wiO1xuZnVuY3Rpb24gZ2V0TWFvdG9tb0RhdGVGcm9tUGVyaW9kKHBlcmlvZDogVFBlcmlvZCkge1xuICBjaGVja1BlcmlvZChwZXJpb2QpO1xuICBjb25zdCB7IGZvcm1hdCwgbWFnaWNWYWx1ZSwgdmFsdWUgfSA9IHBlcmlvZDtcbiAgaWYgKGZvcm1hdCA9PT0gXCJtYWdpY1wiKSB7XG4gICAgcmV0dXJuIFwibGFzdFwiICsgbWFnaWNWYWx1ZTtcbiAgfVxuICByZXR1cm4gYCR7dmFsdWUuc3RhcnR9JHt2YWx1ZS5lbmQgPyBcIixcIiA6IFwiXCJ9JHt2YWx1ZS5lbmR9YDtcbn1cbmV4cG9ydCBjbGFzcyBNYXRvbW9DbGllbnRGYWNhZGUgZXh0ZW5kcyBBbmFseXRpY3NDbGllbnRCYXNlQ2xhc3Mge1xuICBtYXRvbW9DbGllbnRDb3JlITogTWF0b21vQ2xpZW50Q29yZTtcbiAgY29uc3RydWN0b3Iob3B0aW9uczogVE1hdG9tb0NvbmZpZykge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5tYXRvbW9DbGllbnRDb3JlID0gbmV3IE1hdG9tb0NsaWVudENvcmUob3B0aW9ucyk7XG4gIH1cblxuICBhc3luYyBnZXRFdmVudENvdW50KGRhdGE6IFRHZXRFdmVudENvdW50UGFyYW1zKTogUHJvbWlzZTxhbnk+IHtcbiAgICBjb25zdCB7IGV2ZW50cywgcGVyaW9kLCBtYXRvbW86IHt9ID0ge30gfSA9IGRhdGE7XG4gICAgY2hlY2tQZXJpb2QocGVyaW9kKTtcbiAgICBjb25zdCB7IE9SIH0gPSBtYXRtb1NlZ21lbnRPcGVyYXRvcnM7XG4gICAgY29uc3QgeyBldmVudENhdGVnb3J5IH0gPSBFdmVudHNTZWdtZW50cztcbiAgICBsZXQgc2VnbWVudCA9IFwic2VnbWVudD1cIjtcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgZXZlbnRzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgY29uc3QgZWxlbWVudCA9IGV2ZW50c1tpbmRleF07XG4gICAgICBzZWdtZW50ICs9IGAke2V2ZW50Q2F0ZWdvcnl9PT0ke2VsZW1lbnQubmFtZX0ke2luZGV4IDwgZXZlbnRzLmxlbmd0aCA/IE9SIDogXCJcIn1gO1xuICAgIH1cbiAgICBjb25zdCBwYXJhbXM6IE1hdG9tb01ldGhvZFBhcmFtcyA9IHtcbiAgICAgIHBlcmlvZDogXCJkYXlcIixcbiAgICAgIGRhdGU6IGdldE1hb3RvbW9EYXRlRnJvbVBlcmlvZChwZXJpb2QpLFxuICAgICAgLy8gc2VnbWVudFxuICAgIH07XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jKHJlc29sdmUsIHJlamVjdCk9PntcbiAgICAgIGF3YWl0IHRoaXMubWF0b21vQ2xpZW50Q29yZS5nZXRFdmVudHNDYXRlZ29yeShwYXJhbXMpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgZXZlbnRzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgY29uc3Qga2V5PSBldmVudHNbaW5kZXhdLm5hbWVcbiAgICAgICAgICByZXN1bHRba2V5XSA9IHJlc3BvbnNlW2tleV0/Lm5iX2V2ZW50cyB8fCAwO1xuICAgICAgICB9XG4gICAgICAgIHJlc29sdmUocmVzdWx0KVxuICAgICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICByZWplY3QoZXJyKVxuICAgICAgfSk7XG4gICAgfSlcbiAgfVxufVxuIiwiaW1wb3J0IHsgUGVyaW9kIH0gZnJvbSBcIkBzcmMvbGliL21hdG9tby90eXBlc1wiO1xuXG5leHBvcnQgY2xhc3MgQW5hbHl0aWNzQ2xpZW50QmFzZUNsYXNzIHtcbiAgYXN5bmMgZ2V0VmlzaXRzUGVyUGVyaW9kKGRhdGE6IFRHZXRWaXNpdHNQYXJhbXMpIHt9XG5cbiAgYXN5bmMgZ2V0RXZlbnRDb3VudChkYXRhOiBUR2V0RXZlbnRDb3VudFBhcmFtcykge31cbn1cblxuZXhwb3J0IHR5cGUgVEdldFZpc2l0c1BhcmFtcyA9IHtcbiAgcGVyaW9kOiBUUGVyaW9kO1xuICBnYTQ/OiB7IHByb3BlcnR5OiBzdHJpbmc7IGZvcm1hdD86IHN0cmluZyB9O1xufTtcbmV4cG9ydCB0eXBlIFRHZXRFdmVudENvdW50UGFyYW1zID0ge1xuICBldmVudHM6IEFuYWx5dGljc0V2ZW50c1tdO1xuICBwZXJpb2Q6IFRQZXJpb2Q7XG4gIGdhND86IHsgcHJvcGVydHk6IHN0cmluZzsgZm9ybWF0Pzogc3RyaW5nIH07XG4gIG1hdG9tbz86IHsgW2tleTogc3RyaW5nXTogYW55IH07XG59O1xuXG5leHBvcnQgdHlwZSBBbmFseXRpY3NFdmVudHMgPSB7XG4gIG5hbWU6IHN0cmluZztcbiAgbWV0YT86IHtcbiAgICBnYTQ/OiB7XG4gICAgICBjb252ZXJzaW9uPzogYm9vbGVhbjtcbiAgICAgIFtrZXk6IHN0cmluZ106IGFueTtcbiAgICB9O1xuICAgIG1hdG9tbz86IFJlY29yZDxzdHJpbmcsIGFueT47XG4gIH07XG59O1xuXG5leHBvcnQgdHlwZSBEYXRlSW50ZXJ2YWwgPSB7XG4gIGZyb206IHN0cmluZyB8IG51bGw7XG4gIHRvOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgdHlwZSBUUGVyaW9kID0ge1xuICBmb3JtYXQ6IFwibWFnaWNcIiB8IFwiZGF0ZVwiO1xuICBtYWdpY1ZhbHVlOiBzdHJpbmcgfCBudW1iZXI7XG4gIHZhbHVlOiB7XG4gICAgc3RhcnQ/OiBzdHJpbmc7XG4gICAgZW5kPzogc3RyaW5nO1xuICB9O1xufTtcbiIsImltcG9ydCB7IFRQZXJpb2QgfSBmcm9tIFwiQHNyYy90eXBlc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tQZXJpb2QocGVyaW9kOiBUUGVyaW9kKSB7XG4gIGNvbnN0IHsgZm9ybWF0LCB2YWx1ZSwgbWFnaWNWYWx1ZSB9ID0gcGVyaW9kO1xuICBpZiAoIWZvcm1hdCkgdGhyb3cgbmV3IEVycm9yKFwicGVyaW9kIGZvcm1hdCBpcyByZXF1aXJlZFwiKTtcbiAgaWYgKGZvcm1hdCA9PT0gXCJtYWdpY1wiKSB7XG4gICAgLy8gaWYgKHR5cGUgIT09IFwiZGF5XCIpIHtcbiAgICAvLyAgIHRocm93IG5ldyBFcnJvcihcbiAgICAvLyAgICAgXCJVbmV4cGVjdGVkIFBlcmlvZCB0eXBlIGZvciBmb3JtYXQgbWFnaWMuIG9ubHkgJ2RheScgaXMgc3Vwb3J0ZWRcIlxuICAgIC8vICAgKTtcbiAgICAvLyB9XG4gICAgaWYgKHR5cGVvZiBtYWdpY1ZhbHVlICE9PSBcInN0cmluZ1wiICYmIHR5cGVvZiBtYWdpY1ZhbHVlICE9PSBcIm51bWJlclwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiIHVuZXhwZWN0ZWQgbWFnaWNWYWx1ZSBcIittYWdpY1ZhbHVlK1wiIGZvciBmb3JtYXQgbWFnaWMuIE11c3QgYmUgc3RyaW5nfG51bWJlclwiXG4gICAgICApO1xuICAgIH1cbiAgfVxuICBpZiAoZm9ybWF0ID09PSBcImRhdGVcIikge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgfHwgIXZhbHVlLnN0YXJ0KVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIiB1bmV4cGVjdGVkIHBlcmlvZCB2YWx1ZSBmb3IgZm9ybWF0IGRhdGUuIG11c3QgYmUgb2YgdHlwZSB7c3RhcnQ6c3RyaW5nLCBlbmQ6c3RyaW5nfVwiXG4gICAgICApO1xuICB9XG5cbiAgLy8gVE9ETzo6IGNoZWNrIGlmIGlzIHZhbGlkIGRhdGVcbn1cbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBkZWZpbml0aW9uKSB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iaiwgcHJvcCkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7IH0iLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImltcG9ydCB7IEdBNENsaWVudEZhY2FkZSB9IGZyb20gXCIuL2xpYi9nYXBpXCI7XG5pbXBvcnQgeyBHYXBpSW5pdGlhbGl6YXRpb25QYXJhbXMgfSBmcm9tIFwiLi9saWIvZ2FwaS90eXBlc1wiO1xuaW1wb3J0IHsgTWF0b21vQ2xpZW50RmFjYWRlIH0gZnJvbSBcIi4vbGliL21hdG9tb1wiO1xuaW1wb3J0IHsgVE1hdG9tb0NvbmZpZyB9IGZyb20gXCIuL2xpYi9tYXRvbW8vdHlwZXNcIjtcbmltcG9ydCB7XG4gIFRHZXRFdmVudENvdW50UGFyYW1zLFxuICBUR2V0VmlzaXRzUGFyYW1zLFxufSBmcm9tIFwiLi90eXBlc1wiO1xuXG5cbmV4cG9ydCAqIGFzIGxvY2FsU3RvcmFnZVNlcnZpY2UgZnJvbSBcIi4vbGliL2dhcGkvc3RvcmFnZS5zZXJ2aWNlXCI7XG5leHBvcnQgeyBzaWduSW5XaXRoR29vZ2xlIH0gZnJvbSAnLi9saWIvZ2FwaS9nYXBpLnV0aWxzJ1xuXG5cbmNvbnN0IGNsaWVudHMgPSB7XG4gIG1hdG9tbzogTWF0b21vQ2xpZW50RmFjYWRlLFxuICBnYTQ6IEdBNENsaWVudEZhY2FkZSxcbn07XG50eXBlIENsaWVudFR5cGUgPSBrZXlvZiB0eXBlb2YgY2xpZW50cztcblxuZXhwb3J0IGNsYXNzIEFuYWx5dGljc0NsaWVudCB7XG4gIGNsaWVudFR5cGUhOiBDbGllbnRUeXBlO1xuICBwcml2YXRlIGFjdGl2ZUNsaWVudCE6IEdBNENsaWVudEZhY2FkZSB8IE1hdG9tb0NsaWVudEZhY2FkZTtcblxuICBjb25zdHJ1Y3RvcigpIHsgfVxuXG4gIC8vIGdhNFxuICBhc3luYyBpbml0R0E0KHBhcmFtczogR2FwaUluaXRpYWxpemF0aW9uUGFyYW1zKSB7XG4gICAgdGhpcy5jbGllbnRUeXBlID0gXCJnYTRcIjtcbiAgICB0aGlzLmFjdGl2ZUNsaWVudCA9IG5ldyBHQTRDbGllbnRGYWNhZGUocGFyYW1zKTtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5hY3RpdmVDbGllbnQuZ2FwaVNlcnZpY2UuaW5pdCgpXG4gIH1cbiAgZ2V0IGdhNFV0aWxzKCkge1xuICAgIGlmICh0aGlzLmNsaWVudFR5cGUgIT09ICdnYTQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiZ2E0VXRpbHMgaXNudCBhdmFpbGFibGUgYXMgZ2E0IGlzbnQgdGhlIGFjdGl2ZSBjbGllbnQuIFBsZWFzZSBtYWtlIHN1cmUgdGhlIGFjdGl2ZSBjbGllbnQgaXMgR0E0XCJcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICghdGhpcy5hY3RpdmVDbGllbnQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJUaGUgYWN0aXZlIGNsaWVudCBpcyB1bmRlZmluZWQsIHBsZWFzZSBydW4gaW5pdEdBNFwiXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBsaXN0QWNjb3VudHM6ICh0aGlzLmFjdGl2ZUNsaWVudCBhcyBHQTRDbGllbnRGYWNhZGUpLmxpc3RBY2NvdW50cy5iaW5kKHRoaXMuYWN0aXZlQ2xpZW50KSxcbiAgICAgIGlzSW5pdGlhbGl6aW5nOiAodGhpcy5hY3RpdmVDbGllbnQgYXMgR0E0Q2xpZW50RmFjYWRlKS5nYXBpU2VydmljZS5pbml0aWFsaXphdGlvblBlbmRpbmcsXG4gICAgICBzZXJ2aWNlOiAodGhpcy5hY3RpdmVDbGllbnQgYXMgR0E0Q2xpZW50RmFjYWRlKS5nYXBpU2VydmljZVxuICAgIH07XG4gIH1cblxuICAvLyBNYXRvbW9cbiAgaW5pdE1hdG9tbyhwYXJhbXM6IFRNYXRvbW9Db25maWcpIHtcbiAgICB0aGlzLmNsaWVudFR5cGUgPSBcIm1hdG9tb1wiO1xuICAgIHRoaXMuYWN0aXZlQ2xpZW50ID0gbmV3IE1hdG9tb0NsaWVudEZhY2FkZShwYXJhbXMpO1xuICB9XG5cbiAgLy8gY29tbW9uXG4gIGFzeW5jIGdldFZpc2l0c1BlclBlcmlvZChwYXJhbXM6IFRHZXRWaXNpdHNQYXJhbXMpIHtcbiAgICB0aGlzLmNoZWNrSWZSZWFkeSgpO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmFjdGl2ZUNsaWVudC5nZXRWaXNpdHNQZXJQZXJpb2QocGFyYW1zKTtcbiAgfVxuXG4gIGFzeW5jIGdldEV2ZW50Q291bnQocGFyYW1zOiBUR2V0RXZlbnRDb3VudFBhcmFtcykge1xuICAgIHRoaXMuY2hlY2tJZlJlYWR5KCk7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuYWN0aXZlQ2xpZW50LmdldEV2ZW50Q291bnQocGFyYW1zKTtcbiAgfVxuXG4gIGNoZWNrSWZSZWFkeSgpIHtcbiAgICBpZiAoIXRoaXMuYWN0aXZlQ2xpZW50KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDbGllbnQgaXNudCBzZXQuXCIpO1xuICAgIH1cbiAgfVxuXG5cblxuICBwdWJsaWMgY2xvbmUoKTogQW5hbHl0aWNzQ2xpZW50IHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IG5ldyBBbmFseXRpY3NDbGllbnQoKTtcbiAgICBjb25zdCBhY3R1YWxUaGlzID0gdGhpc1xuICAgIE9iamVjdC5rZXlzKGFjdHVhbFRoaXMpLm1hcChlID0+IHtcbiAgICAgIGluc3RhbmNlW2VdID0gYWN0dWFsVGhpc1tlXVxuICAgIH0pXG4gICAgcmV0dXJuIGluc3RhbmNlXG4gIH1cbn1cblxuXG4iXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwiYSIsImkiLCJ0aGlzIiwiYmluZCIsImZuIiwidGhpc0FyZyIsImFwcGx5IiwiYXJndW1lbnRzIiwidG9TdHJpbmciLCJPYmplY3QiLCJwcm90b3R5cGUiLCJnZXRQcm90b3R5cGVPZiIsImtpbmRPZiIsImNhY2hlIiwiY3JlYXRlIiwidGhpbmciLCJzdHIiLCJjYWxsIiwic2xpY2UiLCJ0b0xvd2VyQ2FzZSIsImtpbmRPZlRlc3QiLCJ0eXBlIiwidHlwZU9mVGVzdCIsImlzQXJyYXkiLCJBcnJheSIsImlzVW5kZWZpbmVkIiwiaXNBcnJheUJ1ZmZlciIsImlzU3RyaW5nIiwiaXNGdW5jdGlvbiIsImlzTnVtYmVyIiwiaXNPYmplY3QiLCJpc1BsYWluT2JqZWN0IiwidmFsIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJpdGVyYXRvciIsImlzRGF0ZSIsImlzRmlsZSIsImlzQmxvYiIsImlzRmlsZUxpc3QiLCJpc1VSTFNlYXJjaFBhcmFtcyIsImZvckVhY2giLCJvYmoiLCJhbGxPd25LZXlzIiwibCIsImxlbmd0aCIsImtleXMiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwibGVuIiwia2V5IiwiZmluZEtleSIsIl9rZXkiLCJfZ2xvYmFsIiwiZ2xvYmFsVGhpcyIsInNlbGYiLCJ3aW5kb3ciLCJnbG9iYWwiLCJpc0NvbnRleHREZWZpbmVkIiwiY29udGV4dCIsImlzVHlwZWRBcnJheSIsIlR5cGVkQXJyYXkiLCJVaW50OEFycmF5IiwiaXNIVE1MRm9ybSIsImhhc093blByb3BlcnR5IiwicHJvcCIsImlzUmVnRXhwIiwicmVkdWNlRGVzY3JpcHRvcnMiLCJyZWR1Y2VyIiwiZGVzY3JpcHRvcnMiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwicmVkdWNlZERlc2NyaXB0b3JzIiwiZGVzY3JpcHRvciIsIm5hbWUiLCJyZXQiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiQUxQSEEiLCJESUdJVCIsIkFMUEhBQkVUIiwiQUxQSEFfRElHSVQiLCJ0b1VwcGVyQ2FzZSIsImlzQXN5bmNGbiIsImlzQnVmZmVyIiwiY29uc3RydWN0b3IiLCJpc0Zvcm1EYXRhIiwia2luZCIsIkZvcm1EYXRhIiwiYXBwZW5kIiwiaXNBcnJheUJ1ZmZlclZpZXciLCJyZXN1bHQiLCJBcnJheUJ1ZmZlciIsImlzVmlldyIsImJ1ZmZlciIsImlzQm9vbGVhbiIsImlzU3RyZWFtIiwicGlwZSIsIm1lcmdlIiwiY2FzZWxlc3MiLCJhc3NpZ25WYWx1ZSIsInRhcmdldEtleSIsImV4dGVuZCIsImIiLCJ0cmltIiwicmVwbGFjZSIsInN0cmlwQk9NIiwiY29udGVudCIsImNoYXJDb2RlQXQiLCJpbmhlcml0cyIsInN1cGVyQ29uc3RydWN0b3IiLCJwcm9wcyIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJhc3NpZ24iLCJ0b0ZsYXRPYmplY3QiLCJzb3VyY2VPYmoiLCJkZXN0T2JqIiwiZmlsdGVyIiwicHJvcEZpbHRlciIsIm1lcmdlZCIsImVuZHNXaXRoIiwic2VhcmNoU3RyaW5nIiwicG9zaXRpb24iLCJTdHJpbmciLCJ1bmRlZmluZWQiLCJsYXN0SW5kZXgiLCJpbmRleE9mIiwidG9BcnJheSIsImFyciIsImZvckVhY2hFbnRyeSIsIm5leHQiLCJkb25lIiwicGFpciIsIm1hdGNoQWxsIiwicmVnRXhwIiwibWF0Y2hlcyIsImV4ZWMiLCJwdXNoIiwiaGFzT3duUHJvcCIsImZyZWV6ZU1ldGhvZHMiLCJlbnVtZXJhYmxlIiwid3JpdGFibGUiLCJzZXQiLCJFcnJvciIsInRvT2JqZWN0U2V0IiwiYXJyYXlPclN0cmluZyIsImRlbGltaXRlciIsInNwbGl0IiwidG9DYW1lbENhc2UiLCJtIiwicDEiLCJwMiIsIm5vb3AiLCJ0b0Zpbml0ZU51bWJlciIsImRlZmF1bHRWYWx1ZSIsIk51bWJlciIsImlzRmluaXRlIiwiZ2VuZXJhdGVTdHJpbmciLCJzaXplIiwiYWxwaGFiZXQiLCJNYXRoIiwicmFuZG9tIiwiaXNTcGVjQ29tcGxpYW50Rm9ybSIsInRvSlNPTk9iamVjdCIsInN0YWNrIiwidmlzaXQiLCJzb3VyY2UiLCJ0YXJnZXQiLCJyZWR1Y2VkVmFsdWUiLCJpc1RoZW5hYmxlIiwidGhlbiIsImNhdGNoIiwiQXhpb3NFcnJvciIsIm1lc3NhZ2UiLCJjb2RlIiwiY29uZmlnIiwicmVxdWVzdCIsInJlc3BvbnNlIiwiY2FwdHVyZVN0YWNrVHJhY2UiLCJ1dGlscyIsInRvSlNPTiIsImRlc2NyaXB0aW9uIiwibnVtYmVyIiwiZmlsZU5hbWUiLCJsaW5lTnVtYmVyIiwiY29sdW1uTnVtYmVyIiwic3RhdHVzIiwiZnJvbSIsImVycm9yIiwiY3VzdG9tUHJvcHMiLCJheGlvc0Vycm9yIiwiY2F1c2UiLCJpc1Zpc2l0YWJsZSIsInJlbW92ZUJyYWNrZXRzIiwicmVuZGVyS2V5IiwicGF0aCIsImRvdHMiLCJjb25jYXQiLCJtYXAiLCJ0b2tlbiIsImpvaW4iLCJwcmVkaWNhdGVzIiwidGVzdCIsImZvcm1EYXRhIiwib3B0aW9ucyIsIlR5cGVFcnJvciIsIm1ldGFUb2tlbnMiLCJpbmRleGVzIiwib3B0aW9uIiwidmlzaXRvciIsImRlZmF1bHRWaXNpdG9yIiwidXNlQmxvYiIsIkJsb2IiLCJjb252ZXJ0VmFsdWUiLCJ0b0lTT1N0cmluZyIsIkJ1ZmZlciIsIkpTT04iLCJzdHJpbmdpZnkiLCJzb21lIiwiaXNGbGF0QXJyYXkiLCJlbCIsImluZGV4IiwiZXhwb3NlZEhlbHBlcnMiLCJidWlsZCIsInBvcCIsImVuY29kZSIsImNoYXJNYXAiLCJlbmNvZGVVUklDb21wb25lbnQiLCJtYXRjaCIsIkF4aW9zVVJMU2VhcmNoUGFyYW1zIiwicGFyYW1zIiwiX3BhaXJzIiwiZW5jb2RlciIsIl9lbmNvZGUiLCJidWlsZFVSTCIsInVybCIsInNlcmlhbGl6ZUZuIiwic2VyaWFsaXplIiwic2VyaWFsaXplZFBhcmFtcyIsImhhc2htYXJrSW5kZXgiLCJoYW5kbGVycyIsInVzZSIsImZ1bGZpbGxlZCIsInJlamVjdGVkIiwic3luY2hyb25vdXMiLCJydW5XaGVuIiwiZWplY3QiLCJpZCIsImNsZWFyIiwiaCIsInNpbGVudEpTT05QYXJzaW5nIiwiZm9yY2VkSlNPTlBhcnNpbmciLCJjbGFyaWZ5VGltZW91dEVycm9yIiwiaXNCcm93c2VyIiwiY2xhc3NlcyIsIlVSTFNlYXJjaFBhcmFtcyIsInByb3RvY29scyIsImhhc0Jyb3dzZXJFbnYiLCJkb2N1bWVudCIsImhhc1N0YW5kYXJkQnJvd3NlckVudiIsInByb2R1Y3QiLCJuYXZpZ2F0b3IiLCJoYXNTdGFuZGFyZEJyb3dzZXJXZWJXb3JrZXJFbnYiLCJXb3JrZXJHbG9iYWxTY29wZSIsImltcG9ydFNjcmlwdHMiLCJidWlsZFBhdGgiLCJpc051bWVyaWNLZXkiLCJpc0xhc3QiLCJhcnJheVRvT2JqZWN0IiwiZW50cmllcyIsInBhcnNlUHJvcFBhdGgiLCJkZWZhdWx0cyIsInRyYW5zaXRpb25hbCIsImFkYXB0ZXIiLCJ0cmFuc2Zvcm1SZXF1ZXN0IiwiZGF0YSIsImhlYWRlcnMiLCJjb250ZW50VHlwZSIsImdldENvbnRlbnRUeXBlIiwiaGFzSlNPTkNvbnRlbnRUeXBlIiwiaXNPYmplY3RQYXlsb2FkIiwic2V0Q29udGVudFR5cGUiLCJwbGF0Zm9ybSIsImhlbHBlcnMiLCJpc05vZGUiLCJ0b1VSTEVuY29kZWRGb3JtIiwiZm9ybVNlcmlhbGl6ZXIiLCJfRm9ybURhdGEiLCJlbnYiLCJyYXdWYWx1ZSIsInBhcnNlciIsInBhcnNlIiwiZSIsInN0cmluZ2lmeVNhZmVseSIsInRyYW5zZm9ybVJlc3BvbnNlIiwiSlNPTlJlcXVlc3RlZCIsInJlc3BvbnNlVHlwZSIsInN0cmljdEpTT05QYXJzaW5nIiwiRVJSX0JBRF9SRVNQT05TRSIsInRpbWVvdXQiLCJ4c3JmQ29va2llTmFtZSIsInhzcmZIZWFkZXJOYW1lIiwibWF4Q29udGVudExlbmd0aCIsIm1heEJvZHlMZW5ndGgiLCJ2YWxpZGF0ZVN0YXR1cyIsImNvbW1vbiIsIm1ldGhvZCIsImlnbm9yZUR1cGxpY2F0ZU9mIiwiJGludGVybmFscyIsIm5vcm1hbGl6ZUhlYWRlciIsImhlYWRlciIsIm5vcm1hbGl6ZVZhbHVlIiwibWF0Y2hIZWFkZXJWYWx1ZSIsImlzSGVhZGVyTmFtZUZpbHRlciIsIkF4aW9zSGVhZGVycyIsInZhbHVlT3JSZXdyaXRlIiwicmV3cml0ZSIsInNldEhlYWRlciIsIl92YWx1ZSIsIl9oZWFkZXIiLCJfcmV3cml0ZSIsImxIZWFkZXIiLCJzZXRIZWFkZXJzIiwicmF3SGVhZGVycyIsInBhcnNlZCIsImxpbmUiLCJzdWJzdHJpbmciLCJwYXJzZUhlYWRlcnMiLCJnZXQiLCJ0b2tlbnMiLCJ0b2tlbnNSRSIsInBhcnNlVG9rZW5zIiwiaGFzIiwibWF0Y2hlciIsImRlbGV0ZWQiLCJkZWxldGVIZWFkZXIiLCJub3JtYWxpemUiLCJmb3JtYXQiLCJub3JtYWxpemVkIiwidyIsImNoYXIiLCJmb3JtYXRIZWFkZXIiLCJ0YXJnZXRzIiwiYXNTdHJpbmdzIiwiZmlyc3QiLCJjb21wdXRlZCIsImFjY2Vzc29yIiwiYWNjZXNzb3JzIiwiZGVmaW5lQWNjZXNzb3IiLCJhY2Nlc3Nvck5hbWUiLCJtZXRob2ROYW1lIiwiYXJnMSIsImFyZzIiLCJhcmczIiwiY29uZmlndXJhYmxlIiwiYnVpbGRBY2Nlc3NvcnMiLCJtYXBwZWQiLCJoZWFkZXJWYWx1ZSIsInRyYW5zZm9ybURhdGEiLCJmbnMiLCJpc0NhbmNlbCIsIl9fQ0FOQ0VMX18iLCJDYW5jZWxlZEVycm9yIiwiRVJSX0NBTkNFTEVEIiwid3JpdGUiLCJleHBpcmVzIiwiZG9tYWluIiwic2VjdXJlIiwiY29va2llIiwiRGF0ZSIsInRvR01UU3RyaW5nIiwicmVhZCIsIlJlZ0V4cCIsImRlY29kZVVSSUNvbXBvbmVudCIsInJlbW92ZSIsIm5vdyIsImJ1aWxkRnVsbFBhdGgiLCJiYXNlVVJMIiwicmVxdWVzdGVkVVJMIiwicmVsYXRpdmVVUkwiLCJjb21iaW5lVVJMcyIsIm1zaWUiLCJ1c2VyQWdlbnQiLCJ1cmxQYXJzaW5nTm9kZSIsImNyZWF0ZUVsZW1lbnQiLCJvcmlnaW5VUkwiLCJyZXNvbHZlVVJMIiwiaHJlZiIsInNldEF0dHJpYnV0ZSIsInByb3RvY29sIiwiaG9zdCIsInNlYXJjaCIsImhhc2giLCJob3N0bmFtZSIsInBvcnQiLCJwYXRobmFtZSIsImNoYXJBdCIsImxvY2F0aW9uIiwicmVxdWVzdFVSTCIsInByb2dyZXNzRXZlbnRSZWR1Y2VyIiwibGlzdGVuZXIiLCJpc0Rvd25sb2FkU3RyZWFtIiwiYnl0ZXNOb3RpZmllZCIsIl9zcGVlZG9tZXRlciIsInNhbXBsZXNDb3VudCIsIm1pbiIsImJ5dGVzIiwidGltZXN0YW1wcyIsImZpcnN0U2FtcGxlVFMiLCJoZWFkIiwidGFpbCIsImNodW5rTGVuZ3RoIiwic3RhcnRlZEF0IiwiYnl0ZXNDb3VudCIsInBhc3NlZCIsInJvdW5kIiwibG9hZGVkIiwidG90YWwiLCJsZW5ndGhDb21wdXRhYmxlIiwicHJvZ3Jlc3NCeXRlcyIsInJhdGUiLCJwcm9ncmVzcyIsImVzdGltYXRlZCIsImV2ZW50Iiwia25vd25BZGFwdGVycyIsImh0dHAiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicmVxdWVzdERhdGEiLCJyZXF1ZXN0SGVhZGVycyIsIm9uQ2FuY2VsZWQiLCJ3aXRoWFNSRlRva2VuIiwiY2FuY2VsVG9rZW4iLCJ1bnN1YnNjcmliZSIsInNpZ25hbCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJCb29sZWFuIiwiYXV0aCIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJ1bmVzY2FwZSIsImJ0b2EiLCJmdWxsUGF0aCIsIm9ubG9hZGVuZCIsInJlc3BvbnNlSGVhZGVycyIsImdldEFsbFJlc3BvbnNlSGVhZGVycyIsIkVSUl9CQURfUkVRVUVTVCIsImZsb29yIiwic2V0dGxlIiwiZXJyIiwicmVzcG9uc2VUZXh0Iiwic3RhdHVzVGV4dCIsIm9wZW4iLCJwYXJhbXNTZXJpYWxpemVyIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInJlc3BvbnNlVVJMIiwic2V0VGltZW91dCIsIm9uYWJvcnQiLCJFQ09OTkFCT1JURUQiLCJvbmVycm9yIiwiRVJSX05FVFdPUksiLCJvbnRpbWVvdXQiLCJ0aW1lb3V0RXJyb3JNZXNzYWdlIiwiRVRJTUVET1VUIiwiaXNVUkxTYW1lT3JpZ2luIiwieHNyZlZhbHVlIiwiY29va2llcyIsInNldFJlcXVlc3RIZWFkZXIiLCJ3aXRoQ3JlZGVudGlhbHMiLCJvbkRvd25sb2FkUHJvZ3Jlc3MiLCJhZGRFdmVudExpc3RlbmVyIiwib25VcGxvYWRQcm9ncmVzcyIsInVwbG9hZCIsImNhbmNlbCIsImFib3J0Iiwic3Vic2NyaWJlIiwiYWJvcnRlZCIsInBhcnNlUHJvdG9jb2wiLCJzZW5kIiwicmVuZGVyUmVhc29uIiwicmVhc29uIiwiaXNSZXNvbHZlZEhhbmRsZSIsImFkYXB0ZXJzIiwibmFtZU9yQWRhcHRlciIsInJlamVjdGVkUmVhc29ucyIsInJlYXNvbnMiLCJzdGF0ZSIsInMiLCJ0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkIiwidGhyb3dJZlJlcXVlc3RlZCIsImRpc3BhdGNoUmVxdWVzdCIsImhlYWRlcnNUb09iamVjdCIsIm1lcmdlQ29uZmlnIiwiY29uZmlnMSIsImNvbmZpZzIiLCJnZXRNZXJnZWRWYWx1ZSIsIm1lcmdlRGVlcFByb3BlcnRpZXMiLCJ2YWx1ZUZyb21Db25maWcyIiwiZGVmYXVsdFRvQ29uZmlnMiIsIm1lcmdlRGlyZWN0S2V5cyIsIm1lcmdlTWFwIiwidGltZW91dE1lc3NhZ2UiLCJkZWNvbXByZXNzIiwiYmVmb3JlUmVkaXJlY3QiLCJ0cmFuc3BvcnQiLCJodHRwQWdlbnQiLCJodHRwc0FnZW50Iiwic29ja2V0UGF0aCIsInJlc3BvbnNlRW5jb2RpbmciLCJjb25maWdWYWx1ZSIsInZhbGlkYXRvcnMiLCJkZXByZWNhdGVkV2FybmluZ3MiLCJ2YWxpZGF0b3IiLCJ2ZXJzaW9uIiwiZm9ybWF0TWVzc2FnZSIsIm9wdCIsImRlc2MiLCJvcHRzIiwiRVJSX0RFUFJFQ0FURUQiLCJjb25zb2xlIiwid2FybiIsImFzc2VydE9wdGlvbnMiLCJzY2hlbWEiLCJhbGxvd1Vua25vd24iLCJFUlJfQkFEX09QVElPTl9WQUxVRSIsIkVSUl9CQURfT1BUSU9OIiwiQXhpb3MiLCJpbnN0YW5jZUNvbmZpZyIsImludGVyY2VwdG9ycyIsImNvbmZpZ09yVXJsIiwiYm9vbGVhbiIsImZ1bmN0aW9uIiwiY29udGV4dEhlYWRlcnMiLCJyZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbiIsInN5bmNocm9ub3VzUmVxdWVzdEludGVyY2VwdG9ycyIsImludGVyY2VwdG9yIiwidW5zaGlmdCIsInJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbiIsInByb21pc2UiLCJjaGFpbiIsIm5ld0NvbmZpZyIsIm9uRnVsZmlsbGVkIiwib25SZWplY3RlZCIsImdldFVyaSIsImdlbmVyYXRlSFRUUE1ldGhvZCIsImlzRm9ybSIsIkNhbmNlbFRva2VuIiwiZXhlY3V0b3IiLCJyZXNvbHZlUHJvbWlzZSIsIl9saXN0ZW5lcnMiLCJvbmZ1bGZpbGxlZCIsIl9yZXNvbHZlIiwic3BsaWNlIiwiYyIsIkh0dHBTdGF0dXNDb2RlIiwiQ29udGludWUiLCJTd2l0Y2hpbmdQcm90b2NvbHMiLCJQcm9jZXNzaW5nIiwiRWFybHlIaW50cyIsIk9rIiwiQ3JlYXRlZCIsIkFjY2VwdGVkIiwiTm9uQXV0aG9yaXRhdGl2ZUluZm9ybWF0aW9uIiwiTm9Db250ZW50IiwiUmVzZXRDb250ZW50IiwiUGFydGlhbENvbnRlbnQiLCJNdWx0aVN0YXR1cyIsIkFscmVhZHlSZXBvcnRlZCIsIkltVXNlZCIsIk11bHRpcGxlQ2hvaWNlcyIsIk1vdmVkUGVybWFuZW50bHkiLCJGb3VuZCIsIlNlZU90aGVyIiwiTm90TW9kaWZpZWQiLCJVc2VQcm94eSIsIlVudXNlZCIsIlRlbXBvcmFyeVJlZGlyZWN0IiwiUGVybWFuZW50UmVkaXJlY3QiLCJCYWRSZXF1ZXN0IiwiVW5hdXRob3JpemVkIiwiUGF5bWVudFJlcXVpcmVkIiwiRm9yYmlkZGVuIiwiTm90Rm91bmQiLCJNZXRob2ROb3RBbGxvd2VkIiwiTm90QWNjZXB0YWJsZSIsIlByb3h5QXV0aGVudGljYXRpb25SZXF1aXJlZCIsIlJlcXVlc3RUaW1lb3V0IiwiQ29uZmxpY3QiLCJHb25lIiwiTGVuZ3RoUmVxdWlyZWQiLCJQcmVjb25kaXRpb25GYWlsZWQiLCJQYXlsb2FkVG9vTGFyZ2UiLCJVcmlUb29Mb25nIiwiVW5zdXBwb3J0ZWRNZWRpYVR5cGUiLCJSYW5nZU5vdFNhdGlzZmlhYmxlIiwiRXhwZWN0YXRpb25GYWlsZWQiLCJJbUFUZWFwb3QiLCJNaXNkaXJlY3RlZFJlcXVlc3QiLCJVbnByb2Nlc3NhYmxlRW50aXR5IiwiTG9ja2VkIiwiRmFpbGVkRGVwZW5kZW5jeSIsIlRvb0Vhcmx5IiwiVXBncmFkZVJlcXVpcmVkIiwiUHJlY29uZGl0aW9uUmVxdWlyZWQiLCJUb29NYW55UmVxdWVzdHMiLCJSZXF1ZXN0SGVhZGVyRmllbGRzVG9vTGFyZ2UiLCJVbmF2YWlsYWJsZUZvckxlZ2FsUmVhc29ucyIsIkludGVybmFsU2VydmVyRXJyb3IiLCJOb3RJbXBsZW1lbnRlZCIsIkJhZEdhdGV3YXkiLCJTZXJ2aWNlVW5hdmFpbGFibGUiLCJHYXRld2F5VGltZW91dCIsIkh0dHBWZXJzaW9uTm90U3VwcG9ydGVkIiwiVmFyaWFudEFsc29OZWdvdGlhdGVzIiwiSW5zdWZmaWNpZW50U3RvcmFnZSIsIkxvb3BEZXRlY3RlZCIsIk5vdEV4dGVuZGVkIiwiTmV0d29ya0F1dGhlbnRpY2F0aW9uUmVxdWlyZWQiLCJheGlvcyIsImNyZWF0ZUluc3RhbmNlIiwiZGVmYXVsdENvbmZpZyIsImluc3RhbmNlIiwiVkVSU0lPTiIsInRvRm9ybURhdGEiLCJDYW5jZWwiLCJhbGwiLCJwcm9taXNlcyIsInNwcmVhZCIsImNhbGxiYWNrIiwiaXNBeGlvc0Vycm9yIiwicGF5bG9hZCIsImZvcm1Ub0pTT04iLCJnZXRBZGFwdGVyIiwiZGVmYXVsdCIsInBvc3QiLCJib2R5IiwiR2FwaUFuYWx5dGljc1NlcnZpY2UiLCJnYXBpIiwiYW5hbHl0aWNzIiwicmVhbHRpbWVBUEkiLCJhbmFseXRpY3NkYXRhIiwiYW5hbHl0aWNzYWRtaW4iLCJtYW5hZ2VtZW50Iiwid2VicHJvcGVydGllcyIsImFjY291bnRzIiwicHJvZmlsZXMiLCJpbml0aWFsaXphdGlvblBlbmRpbmciLCJpbml0aWFsaXNhdGlvbnNQYXJhbXMiLCJjbGllbnRJZCIsImF1dGhTY29wZXMiLCJHQTRBZG1pbkVtYWlsIiwicmVmcmVzaEFjY2Vzc1Rva2VuIiwiZW1haWwiLCJzZXJ2ZXJVcmxzIiwicmVmcmVzaFRva2VuIiwiQWNjZXB0IiwiZXJyb3JIYW5kbGVyIiwiYXN5bmMiLCJyZWZyZXNoX3Rva2VuIiwiZ2V0R29vZ2xlTG9naW5SZXNwb25zZSIsImxvZyIsImNyZWRlbnRpYWxzIiwic2V0R29vZ2xlTG9naW5SZXNwb25zZSIsInNldEFjY2Vzc1Rva2VuIiwiYXJncyIsImdhcGlJc1NjcmlwdEFyZUFsbERvd25sb2FkZWQiLCJjbGllbnQiLCJpbml0IiwicmVhbHRpbWUiLCJxdWVyeVJlcG9ydCIsInByb3BlcnR5IiwiZGltZW5zaW9ucyIsIm1ldHJpY3MiLCJzdGFydERhdGUiLCJlbmREYXRlIiwicmVwb3J0cyIsInByb3BlcnRpZXMiLCJydW5SZXBvcnQiLCJkYXRlUmFuZ2VzIiwibWV0cmljQWdncmVnYXRpb25zIiwicGFyc2VSZXBvcnRBc0NoYXJ0RGF0YSIsImxpc3RBY2NvdW50cyIsImFjY291bnRTdW1tYXJpZXMiLCJsaXN0IiwicmVzIiwiYWNjZXNzX3Rva2VuIiwic2V0VG9rZW4iLCJzaWduSW5XaXRoR29vZ2xlIiwicmVxdWVzdENvZGUiLCJzY29wZSIsImFjY2Vzc1Rva2VuU2VydmVyVXJsIiwiZ29vZ2xlIiwib2F1dGgyIiwiaW5pdENvZGVDbGllbnQiLCJjbGllbnRfaWQiLCJ1eF9tb2RlIiwiaW5jbHVkZV9ncmFudGVkX3Njb3BlcyIsImFjY2Vzc190eXBlIiwic2VydmVyVXJsIiwicmVkaXJlY3RVcmkiLCJnZXRBY2Nlc3NUb2tlbkZyb21TZXJ2ZXIiLCJnZXRDaGFydERhdGFQZXJEaW1lbnNpb25zIiwicHJvdmlkZWREYXRhIiwiZGltZW5zaW9uIiwicm93cyIsIm1ldHJpY3NUb3RhbHMiLCJpbmNsdWRlcyIsImRpbWVuc2lvbkluZGV4Iiwicm93IiwiZGltZW5zaW9uVmFsdWVzIiwibWV0cmljVmFsdWVzIiwidmFsdWVzIiwicmVkdWNlIiwiY3VycmVudCIsInRvdGFscyIsImFjYyIsImN1cnIiLCJvdXRwdXQiLCJwYXJzZUludCIsInByZVBhcnNlZERhdGEiLCJtZXRyaWNIZWFkZXJzIiwiZGltZW5zaW9uSGVhZGVycyIsInByZUNsZWFuZWRSb3dzIiwiY3VycmVudEluZGV4IiwicHJlUGFyc2VSZXBvcnRSZXF1ZXN0UmVzdWx0IiwiaXRlbSIsImdldEdBNERhdGVGcm9tUGVyaW9kIiwicGVyaW9kIiwiY2hlY2tQZXJpb2QiLCJtYWdpY1ZhbHVlIiwic3RhcnQiLCJlbmQiLCJHQTRDbGllbnRGYWNhZGUiLCJBbmFseXRpY3NDbGllbnRCYXNlQ2xhc3MiLCJnYXBpU2VydmljZSIsInN1cGVyIiwiZ2V0VmlzaXRzUGVyUGVyaW9kIiwiZ2E0IiwiY2hlY2tQcm9wZXJ0eSIsImdldEV2ZW50Q291bnQiLCJldmVudHMiLCJldiIsIm1ldGEiLCJjb252ZXJzaW9uIiwiY29udmVydEV2ZW50VG9HQTRFdmVudCIsImFwaSIsImNvbnZlcnRlciIsImRlZmF1bHRBdHRyaWJ1dGVzIiwiYXR0cmlidXRlcyIsInRvVVRDU3RyaW5nIiwiZXNjYXBlIiwic3RyaW5naWZpZWRBdHRyaWJ1dGVzIiwiYXR0cmlidXRlTmFtZSIsImphciIsInBhcnRzIiwiZm91bmQiLCJ3aXRoQXR0cmlidXRlcyIsIndpdGhDb252ZXJ0ZXIiLCJmcmVlemUiLCJDb29raWVzU3RvcmFnZSIsInN0b3JhZ2UiLCJrZXlfR29vZ2xlTG9naW5SZXNwb25zZSIsImNsZWFyR29vZ2xlTG9naW5SZXNwb25zZSIsIm1hdG1vU2VnbWVudE9wZXJhdG9ycyIsIk9SIiwiQU5EIiwiTWF0b21vQ2xpZW50Q29yZSIsIm1hdG9tb0NvbmZpZ3MiLCJpbml0Q29uZmlnIiwiY3JlYXRlTWF0b21vQVBJUmVxdWVzdCIsImJhc2VVcmwiLCJxdWVyeVBhcmFtcyIsImlkU2l0ZSIsInRva2VuX2F1dGgiLCJ0b2tlbkF1dGgiLCJnZXRFdmVudHNDYXRlZ29yeSIsIkV2ZW50c01ldGhvZHMiLCJnZXRDYXRlZ29yeSIsIm1lcmdlRXZlbnRzUGVyQ2F0ZWdvcmllcyIsImdldEV2ZW50c0FjdGlvbiIsImdldEFjdGlvbiIsImdldEV2ZW50c05hbWUiLCJnZXROYW1lIiwiRXZlbnRzU2VnbWVudHMiLCJldmVudENhdGVnb3J5IiwiY2F0ZWdvcmllcyIsImRhdGUiLCJsYWJlbCIsInJlc3QiLCJuYl92aXNpdHMiLCJuYl9ldmVudHMiLCJnZXRNYW90b21vRGF0ZUZyb21QZXJpb2QiLCJNYXRvbW9DbGllbnRGYWNhZGUiLCJtYXRvbW9DbGllbnRDb3JlIiwibWF0b21vIiwic2VnbWVudCIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJkIiwiZGVmaW5pdGlvbiIsIm8iLCJyIiwiQW5hbHl0aWNzQ2xpZW50IiwiY2xpZW50VHlwZSIsImFjdGl2ZUNsaWVudCIsImluaXRHQTQiLCJnYTRVdGlscyIsImlzSW5pdGlhbGl6aW5nIiwic2VydmljZSIsImluaXRNYXRvbW8iLCJjaGVja0lmUmVhZHkiLCJjbG9uZSIsImFjdHVhbFRoaXMiXSwic291cmNlUm9vdCI6IiJ9